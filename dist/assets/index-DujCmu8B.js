function wA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function UE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={exports:{}},gc={},Em={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function xA(){if(Jw)return Oe;Jw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function b(z,X,ye){this.props=z,this.context=X,this.refs=C,this.updater=ye||I}b.prototype.isReactComponent={},b.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=b.prototype;function j(z,X,ye){this.props=z,this.context=X,this.refs=C,this.updater=ye||I}var R=j.prototype=new M;R.constructor=j,S(R,b.prototype),R.isPureReactComponent=!0;var L=Array.isArray,J=Object.prototype.hasOwnProperty,se={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function P(z,X,ye){var Ae,Re={},Me=null,Be=null;if(X!=null)for(Ae in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(Me=""+X.key),X)J.call(X,Ae)&&!F.hasOwnProperty(Ae)&&(Re[Ae]=X[Ae]);var qe=arguments.length-2;if(qe===1)Re.children=ye;else if(1<qe){for(var Ke=Array(qe),lt=0;lt<qe;lt++)Ke[lt]=arguments[lt+2];Re.children=Ke}if(z&&z.defaultProps)for(Ae in qe=z.defaultProps,qe)Re[Ae]===void 0&&(Re[Ae]=qe[Ae]);return{$$typeof:t,type:z,key:Me,ref:Be,props:Re,_owner:se.current}}function O(z,X){return{$$typeof:t,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function $(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return X[ye]})}var N=/\/+/g;function D(z,X){return typeof z=="object"&&z!==null&&z.key!=null?$(""+z.key):X.toString(36)}function me(z,X,ye,Ae,Re){var Me=typeof z;(Me==="undefined"||Me==="boolean")&&(z=null);var Be=!1;if(z===null)Be=!0;else switch(Me){case"string":case"number":Be=!0;break;case"object":switch(z.$$typeof){case t:case e:Be=!0}}if(Be)return Be=z,Re=Re(Be),z=Ae===""?"."+D(Be,0):Ae,L(Re)?(ye="",z!=null&&(ye=z.replace(N,"$&/")+"/"),me(Re,X,ye,"",function(lt){return lt})):Re!=null&&(B(Re)&&(Re=O(Re,ye+(!Re.key||Be&&Be.key===Re.key?"":(""+Re.key).replace(N,"$&/")+"/")+z)),X.push(Re)),1;if(Be=0,Ae=Ae===""?".":Ae+":",L(z))for(var qe=0;qe<z.length;qe++){Me=z[qe];var Ke=Ae+D(Me,qe);Be+=me(Me,X,ye,Ke,Re)}else if(Ke=_(z),typeof Ke=="function")for(z=Ke.call(z),qe=0;!(Me=z.next()).done;)Me=Me.value,Ke=Ae+D(Me,qe++),Be+=me(Me,X,ye,Ke,Re);else if(Me==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function We(z,X,ye){if(z==null)return z;var Ae=[],Re=0;return me(z,Ae,"","",function(Me){return X.call(ye,Me,Re++)}),Ae}function Se(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var De={current:null},ie={transition:null},ge={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ie,ReactCurrentOwner:se};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:We,forEach:function(z,X,ye){We(z,function(){X.apply(this,arguments)},ye)},count:function(z){var X=0;return We(z,function(){X++}),X},toArray:function(z){return We(z,function(X){return X})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Oe.Component=b,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=j,Oe.StrictMode=r,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Oe.act=ce,Oe.cloneElement=function(z,X,ye){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ae=S({},z.props),Re=z.key,Me=z.ref,Be=z._owner;if(X!=null){if(X.ref!==void 0&&(Me=X.ref,Be=se.current),X.key!==void 0&&(Re=""+X.key),z.type&&z.type.defaultProps)var qe=z.type.defaultProps;for(Ke in X)J.call(X,Ke)&&!F.hasOwnProperty(Ke)&&(Ae[Ke]=X[Ke]===void 0&&qe!==void 0?qe[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=ye;else if(1<Ke){qe=Array(Ke);for(var lt=0;lt<Ke;lt++)qe[lt]=arguments[lt+2];Ae.children=qe}return{$$typeof:t,type:z.type,key:Re,ref:Me,props:Ae,_owner:Be}},Oe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Oe.createElement=P,Oe.createFactory=function(z){var X=P.bind(null,z);return X.type=z,X},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:u,render:z}},Oe.isValidElement=B,Oe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Se}},Oe.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},Oe.startTransition=function(z){var X=ie.transition;ie.transition={};try{z()}finally{ie.transition=X}},Oe.unstable_act=ce,Oe.useCallback=function(z,X){return De.current.useCallback(z,X)},Oe.useContext=function(z){return De.current.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z){return De.current.useDeferredValue(z)},Oe.useEffect=function(z,X){return De.current.useEffect(z,X)},Oe.useId=function(){return De.current.useId()},Oe.useImperativeHandle=function(z,X,ye){return De.current.useImperativeHandle(z,X,ye)},Oe.useInsertionEffect=function(z,X){return De.current.useInsertionEffect(z,X)},Oe.useLayoutEffect=function(z,X){return De.current.useLayoutEffect(z,X)},Oe.useMemo=function(z,X){return De.current.useMemo(z,X)},Oe.useReducer=function(z,X,ye){return De.current.useReducer(z,X,ye)},Oe.useRef=function(z){return De.current.useRef(z)},Oe.useState=function(z){return De.current.useState(z)},Oe.useSyncExternalStore=function(z,X,ye){return De.current.useSyncExternalStore(z,X,ye)},Oe.useTransition=function(){return De.current.useTransition()},Oe.version="18.3.1",Oe}var Xw;function fy(){return Xw||(Xw=1,Em.exports=xA()),Em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function _A(){if(Zw)return gc;Zw=1;var t=fy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,m){var g,v={},_=null,I=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:_,ref:I,props:v,_owner:i.current}}return gc.Fragment=n,gc.jsx=l,gc.jsxs=l,gc}var ex;function EA(){return ex||(ex=1,_m.exports=_A()),_m.exports}var f=EA(),A=fy();const ef=UE(A),bA=wA({__proto__:null,default:ef},[A]);var zd={},bm={exports:{}},_n={},Sm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function SA(){return tx||(tx=1,(function(t){function e(ie,ge){var ce=ie.length;ie.push(ge);e:for(;0<ce;){var z=ce-1>>>1,X=ie[z];if(0<i(X,ge))ie[z]=ge,ie[ce]=X,ce=z;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ge=ie[0],ce=ie.pop();if(ce!==ge){ie[0]=ce;e:for(var z=0,X=ie.length,ye=X>>>1;z<ye;){var Ae=2*(z+1)-1,Re=ie[Ae],Me=Ae+1,Be=ie[Me];if(0>i(Re,ce))Me<X&&0>i(Be,Re)?(ie[z]=Be,ie[Me]=ce,z=Me):(ie[z]=Re,ie[Ae]=ce,z=Ae);else if(Me<X&&0>i(Be,ce))ie[z]=Be,ie[Me]=ce,z=Me;else break e}}return ge}function i(ie,ge){var ce=ie.sortIndex-ge.sortIndex;return ce!==0?ce:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,_=3,I=!1,S=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ie){for(var ge=n(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=ie)r(m),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(m)}}function L(ie){if(C=!1,R(ie),!S)if(n(h)!==null)S=!0,Se(J);else{var ge=n(m);ge!==null&&De(L,ge.startTime-ie)}}function J(ie,ge){S=!1,C&&(C=!1,M(P),P=-1),I=!0;var ce=_;try{for(R(ge),v=n(h);v!==null&&(!(v.expirationTime>ge)||ie&&!$());){var z=v.callback;if(typeof z=="function"){v.callback=null,_=v.priorityLevel;var X=z(v.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?v.callback=X:v===n(h)&&r(h),R(ge)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var Ae=n(m);Ae!==null&&De(L,Ae.startTime-ge),ye=!1}return ye}finally{v=null,_=ce,I=!1}}var se=!1,F=null,P=-1,O=5,B=-1;function $(){return!(t.unstable_now()-B<O)}function N(){if(F!==null){var ie=t.unstable_now();B=ie;var ge=!0;try{ge=F(!0,ie)}finally{ge?D():(se=!1,F=null)}}else se=!1}var D;if(typeof j=="function")D=function(){j(N)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,We=me.port2;me.port1.onmessage=N,D=function(){We.postMessage(null)}}else D=function(){b(N,0)};function Se(ie){F=ie,se||(se=!0,D())}function De(ie,ge){P=b(function(){ie(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){S||I||(S=!0,Se(J))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var ce=_;_=ge;try{return ie()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ce=_;_=ie;try{return ge()}finally{_=ce}},t.unstable_scheduleCallback=function(ie,ge,ce){var z=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?z+ce:z):ce=z,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,ie={id:g++,callback:ge,priorityLevel:ie,startTime:ce,expirationTime:X,sortIndex:-1},ce>z?(ie.sortIndex=ce,e(m,ie),n(h)===null&&ie===n(m)&&(C?(M(P),P=-1):C=!0,De(L,ce-z))):(ie.sortIndex=X,e(h,ie),S||I||(S=!0,Se(J))),ie},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ie){var ge=_;return function(){var ce=_;_=ge;try{return ie.apply(this,arguments)}finally{_=ce}}}})(Tm)),Tm}var nx;function TA(){return nx||(nx=1,Sm.exports=SA()),Sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function IA(){if(rx)return _n;rx=1;var t=fy(),e=TA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(s){return h.call(v,s)?!0:h.call(g,s)?!1:m.test(s)?v[s]=!0:(g[s]=!0,!1)}function I(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,c,p){if(o===null||typeof o>"u"||I(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,c,p,y,x,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(M,j);b[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(M,j);b[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(M,j);b[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,o,c,p){var y=b.hasOwnProperty(o)?b[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,y,p)&&(c=null),p||y===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),se=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),$=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,z;function X(s){if(z===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+s}var ye=!1;function Ae(s,o){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var p=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){p=K}s.call(o.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var y=K.stack.split(`
`),x=p.stack.split(`
`),T=y.length-1,V=x.length-1;1<=T&&0<=V&&y[T]!==x[V];)V--;for(;1<=T&&0<=V;T--,V--)if(y[T]!==x[V]){if(T!==1||V!==1)do if(T--,V--,0>V||y[T]!==x[V]){var U=`
`+y[T].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=T&&0<=V);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function Re(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case se:return"Portal";case O:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case We:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case Se:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function Be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lt(s){var o=Ke(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){p=""+T,x.call(this,T)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ut(s){s._valueTracker||(s._valueTracker=lt(s))}function Oi(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=Ke(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function Rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Vi(s,o){var c=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Wo(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=qe(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function El(s,o){o=o.checked,o!=null&&R(s,"checked",o,!1)}function bl(s,o){El(s,o);var c=qe(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Go(s,o.type,c):o.hasOwnProperty("defaultValue")&&Go(s,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Cu(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Go(s,o,c){(o!=="number"||Rs(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Jr=Array.isArray;function Xr(s,o,c,p){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Sl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ko(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Jr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:qe(c)}}function Qo(s,o){var c=qe(o.value),p=qe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Tl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function kt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?kt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Zr,Il=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ns(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(s){Fi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Li[o]=Li[s]})});function Cl(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Li.hasOwnProperty(s)&&Li[s]?(""+o).trim():o+"px"}function Al(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Cl(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var kl=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pl(s,o){if(o){if(kl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Rl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Yo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jo=null,Un=null,Cr=null;function Xo(s){if(s=tc(s)){if(typeof Jo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=rd(o),Jo(s.stateNode,s.type,o))}}function Ar(s){Un?Cr?Cr.push(s):Cr=[s]:Un=s}function Nl(){if(Un){var s=Un,o=Cr;if(Cr=Un=null,Xo(s),o)for(s=0;s<o.length;s++)Xo(o[s])}}function Bi(s,o){return s(o)}function jl(){}var es=!1;function Dl(s,o,c){if(es)return s(o,c);es=!0;try{return Bi(s,o,c)}finally{es=!1,(Un!==null||Cr!==null)&&(jl(),Nl())}}function yt(s,o){var c=s.stateNode;if(c===null)return null;var p=rd(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Zo=!1;if(u)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Zo=!1}function zi(s,o,c,p,y,x,T,V,U){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(ne){this.onError(ne)}}var $i=!1,ea=null,rr=!1,Ml=null,Qf={onError:function(s){$i=!0,ea=s}};function ta(s,o,c,p,y,x,T,V,U){$i=!1,ea=null,zi.apply(Qf,arguments)}function Au(s,o,c,p,y,x,T,V,U){if(ta.apply(this,arguments),$i){if($i){var K=ea;$i=!1,ea=null}else throw Error(n(198));rr||(rr=!0,Ml=K)}}function sr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function qi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ir(s){if(sr(s)!==s)throw Error(n(188))}function ku(s){var o=s.alternate;if(!o){if(o=sr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return ir(y),s;if(x===p)return ir(y),o;x=x.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=x;else{for(var T=!1,V=y.child;V;){if(V===c){T=!0,c=y,p=x;break}if(V===p){T=!0,p=y,c=x;break}V=V.sibling}if(!T){for(V=x.child;V;){if(V===c){T=!0,c=x,p=y;break}if(V===p){T=!0,p=x,c=y;break}V=V.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Ol(s){return s=ku(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=na(s);if(o!==null)return o;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,Vl=e.unstable_cancelCallback,Pu=e.unstable_shouldYield,Yf=e.unstable_requestPaint,Xe=e.unstable_now,Ru=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,js=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,Ll=e.unstable_LowPriority,Nu=e.unstable_IdlePriority,Wi=null,An=null;function ju(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Wi,s,void 0,(s.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Mu,Fl=Math.log,Du=Math.LN2;function Mu(s){return s>>>=0,s===0?32:31-(Fl(s)/Du|0)|0}var sa=64,ia=4194304;function Ds(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gi(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,T=c&268435455;if(T!==0){var V=T&~y;V!==0?p=Ds(V):(x&=T,x!==0&&(p=Ds(x)))}else T=c&~y,T!==0?p=Ds(T):x!==0&&(p=Ds(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-on(o),y=1<<c,p|=s[c],o&=~y;return p}function Jf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var T=31-on(x),V=1<<T,U=y[T];U===-1?((V&c)===0||(V&p)!==0)&&(y[T]=Jf(V,o)):U<=o&&(s.expiredLanes|=V),x&=~V}}function kn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ki(){var s=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),s}function Ms(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Os(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-on(o),s[o]=c}function Je(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-on(c),x=1<<y;o[y]=0,p[y]=-1,s[y]=-1,c&=~x}}function Vs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-on(c),y=1<<p;y&o|s[p]&o&&(s[p]|=o),c&=~y}}var Ue=0;function Ls(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ou,oa,Vu,Lu,Fu,Ul=!1,kr=[],Bt=null,or=null,ar=null,Fs=new Map,zn=new Map,Pr=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(o.pointerId)}}function pn(s,o,c,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},o!==null&&(o=tc(o),o!==null&&oa(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function Zf(s,o,c,p,y){switch(o){case"focusin":return Bt=pn(Bt,s,o,c,p,y),!0;case"dragenter":return or=pn(or,s,o,c,p,y),!0;case"mouseover":return ar=pn(ar,s,o,c,p,y),!0;case"pointerover":var x=y.pointerId;return Fs.set(x,pn(Fs.get(x)||null,s,o,c,p,y)),!0;case"gotpointercapture":return x=y.pointerId,zn.set(x,pn(zn.get(x)||null,s,o,c,p,y)),!0}return!1}function Bu(s){var o=Zi(s.target);if(o!==null){var c=sr(o);if(c!==null){if(o=c.tag,o===13){if(o=qi(c),o!==null){s.blockedOn=o,Fu(s.priority,function(){Vu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ns(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=aa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Ui=p,c.target.dispatchEvent(p),Ui=null}else return o=tc(c),o!==null&&oa(o),s.blockedOn=c,!1;o.shift()}return!0}function Qi(s,o,c){ns(s)&&c.delete(o)}function zu(){Ul=!1,Bt!==null&&ns(Bt)&&(Bt=null),or!==null&&ns(or)&&(or=null),ar!==null&&ns(ar)&&(ar=null),Fs.forEach(Qi),zn.forEach(Qi)}function lr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ul||(Ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zu)))}function cr(s){function o(y){return lr(y,s)}if(0<kr.length){lr(kr[0],s);for(var c=1;c<kr.length;c++){var p=kr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Bt!==null&&lr(Bt,s),or!==null&&lr(or,s),ar!==null&&lr(ar,s),Fs.forEach(o),zn.forEach(o),c=0;c<Pr.length;c++)p=Pr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)Bu(c),c.blockedOn===null&&Pr.shift()}var rs=L.ReactCurrentBatchConfig,Us=!0;function it(s,o,c,p){var y=Ue,x=rs.transition;rs.transition=null;try{Ue=1,Bl(s,o,c,p)}finally{Ue=y,rs.transition=x}}function ep(s,o,c,p){var y=Ue,x=rs.transition;rs.transition=null;try{Ue=4,Bl(s,o,c,p)}finally{Ue=y,rs.transition=x}}function Bl(s,o,c,p){if(Us){var y=aa(s,o,c,p);if(y===null)dp(s,o,p,Yi,c),Uu(s,p);else if(Zf(y,s,o,c,p))p.stopPropagation();else if(Uu(s,p),o&4&&-1<Xf.indexOf(s)){for(;y!==null;){var x=tc(y);if(x!==null&&Ou(x),x=aa(s,o,c,p),x===null&&dp(s,o,p,Yi,c),x===y)break;y=x}y!==null&&p.stopPropagation()}else dp(s,o,p,null,c)}}var Yi=null;function aa(s,o,c,p){if(Yi=null,s=Yo(p),s=Zi(s),s!==null)if(o=sr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=qi(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Yi=s,null}function zl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ru()){case Hi:return 1;case js:return 4;case Bn:case Ll:return 16;case Nu:return 536870912;default:return 16}default:return 16}}var Pn=null,la=null,mn=null;function $l(){if(mn)return mn;var s,o=la,c=o.length,p,y="value"in Pn?Pn.value:Pn.textContent,x=y.length;for(s=0;s<c&&o[s]===y[s];s++);var T=c-s;for(p=1;p<=T&&o[c-p]===y[x-p];p++);return mn=y.slice(s,1<p?1-p:void 0)}function ca(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Rr(){return!0}function ql(){return!1}function zt(s){function o(c,p,y,x,T){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Rr:ql,this.isPropagationStopped=ql,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=zt(ur),Nr=ce({},ur,{view:0,detail:0}),tp=zt(Nr),da,ss,Bs,Ji=ce({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bs&&(Bs&&s.type==="mousemove"?(da=s.screenX-Bs.screenX,ss=s.screenY-Bs.screenY):ss=da=0,Bs=s),da)},movementY:function(s){return"movementY"in s?s.movementY:ss}}),ha=zt(Ji),Hl=ce({},Ji,{dataTransfer:0}),$u=zt(Hl),fa=ce({},Nr,{relatedTarget:0}),pa=zt(fa),qu=ce({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),is=zt(qu),Hu=ce({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=zt(Hu),Gu=ce({},ur,{data:0}),Wl=zt(Gu),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ku[s])?!!o[s]:!1}function jr(){return Qu}var d=ce({},Nr,{key:function(s){if(s.key){var o=ma[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?an[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=zt(d),E=ce({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=zt(E),H=ce({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),Y=zt(H),ae=ce({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=zt(ae),Rt=ce({},Ji,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=zt(Rt),Mt=[9,13,27,32],Et=u&&"CompositionEvent"in window,$n=null;u&&"documentMode"in document&&($n=document.documentMode);var Rn=u&&"TextEvent"in window&&!$n,Xi=u&&(!Et||$n&&8<$n&&11>=$n),ga=" ",Hv=!1;function Wv(s,o){switch(s){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function gC(s,o){switch(s){case"compositionend":return Gv(o);case"keypress":return o.which!==32?null:(Hv=!0,ga);case"textInput":return s=o.data,s===ga&&Hv?null:s;default:return null}}function yC(s,o){if(ya)return s==="compositionend"||!Et&&Wv(s,o)?(s=$l(),mn=la=Pn=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xi&&o.locale!=="ko"?null:o.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!vC[s.type]:o==="textarea"}function Qv(s,o,c,p){Ar(p),o=ed(o,"onChange"),0<o.length&&(c=new ua("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var Gl=null,Kl=null;function wC(s){f0(s,0)}function Yu(s){var o=Ea(s);if(Oi(o))return s}function xC(s,o){if(s==="change")return o}var Yv=!1;if(u){var np;if(u){var rp="oninput"in document;if(!rp){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),rp=typeof Jv.oninput=="function"}np=rp}else np=!1;Yv=np&&(!document.documentMode||9<document.documentMode)}function Xv(){Gl&&(Gl.detachEvent("onpropertychange",Zv),Kl=Gl=null)}function Zv(s){if(s.propertyName==="value"&&Yu(Kl)){var o=[];Qv(o,Kl,s,Yo(s)),Dl(wC,o)}}function _C(s,o,c){s==="focusin"?(Xv(),Gl=o,Kl=c,Gl.attachEvent("onpropertychange",Zv)):s==="focusout"&&Xv()}function EC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(Kl)}function bC(s,o){if(s==="click")return Yu(o)}function SC(s,o){if(s==="input"||s==="change")return Yu(o)}function TC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var dr=typeof Object.is=="function"?Object.is:TC;function Ql(s,o){if(dr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(o,y)||!dr(s[y],o[y]))return!1}return!0}function e0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function t0(s,o){var c=e0(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=e0(c)}}function n0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?n0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function r0(){for(var s=window,o=Rs();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Rs(s.document)}return o}function sp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function IC(s){var o=r0(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&n0(c.ownerDocument.documentElement,c)){if(p!==null&&sp(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=t0(c,x);var T=t0(c,p);y&&T&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var CC=u&&"documentMode"in document&&11>=document.documentMode,va=null,ip=null,Yl=null,op=!1;function s0(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;op||va==null||va!==Rs(p)||(p=va,"selectionStart"in p&&sp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yl&&Ql(Yl,p)||(Yl=p,p=ed(ip,"onSelect"),0<p.length&&(o=new ua("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=va)))}function Ju(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var wa={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},ap={},i0={};u&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Xu(s){if(ap[s])return ap[s];if(!wa[s])return s;var o=wa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in i0)return ap[s]=o[c];return s}var o0=Xu("animationend"),a0=Xu("animationiteration"),l0=Xu("animationstart"),c0=Xu("transitionend"),u0=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(s,o){u0.set(s,o),a(o,[s])}for(var lp=0;lp<d0.length;lp++){var cp=d0[lp],AC=cp.toLowerCase(),kC=cp[0].toUpperCase()+cp.slice(1);zs(AC,"on"+kC)}zs(o0,"onAnimationEnd"),zs(a0,"onAnimationIteration"),zs(l0,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(c0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function h0(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,Au(p,o,void 0,s),s.currentTarget=null}function f0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var T=p.length-1;0<=T;T--){var V=p[T],U=V.instance,K=V.currentTarget;if(V=V.listener,U!==x&&y.isPropagationStopped())break e;h0(y,V,K),x=U}else for(T=0;T<p.length;T++){if(V=p[T],U=V.instance,K=V.currentTarget,V=V.listener,U!==x&&y.isPropagationStopped())break e;h0(y,V,K),x=U}}}if(rr)throw s=Ml,rr=!1,Ml=null,s}function nt(s,o){var c=o[yp];c===void 0&&(c=o[yp]=new Set);var p=s+"__bubble";c.has(p)||(p0(o,s,2,!1),c.add(p))}function up(s,o,c){var p=0;o&&(p|=4),p0(c,s,p,o)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Zu]){s[Zu]=!0,r.forEach(function(c){c!=="selectionchange"&&(PC.has(c)||up(c,!1,s),up(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Zu]||(o[Zu]=!0,up("selectionchange",!1,o))}}function p0(s,o,c,p){switch(zl(o)){case 1:var y=it;break;case 4:y=ep;break;default:y=Bl}c=y.bind(null,o,c,s),y=void 0,!Zo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function dp(s,o,c,p,y){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(T===4)for(T=p.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;T=T.return}for(;V!==null;){if(T=Zi(V),T===null)return;if(U=T.tag,U===5||U===6){p=x=T;continue e}V=V.parentNode}}p=p.return}Dl(function(){var K=x,ne=Yo(c),re=[];e:{var te=u0.get(s);if(te!==void 0){var de=ua,pe=s;switch(s){case"keypress":if(ca(c)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":pe="focus",de=pa;break;case"focusout":pe="blur",de=pa;break;case"beforeblur":case"afterblur":de=pa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case o0:case a0:case l0:de=is;break;case c0:de=Ye;break;case"scroll":de=tp;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=k}var ve=(o&4)!==0,vt=!ve&&s==="scroll",W=ve?te!==null?te+"Capture":null:te;ve=[];for(var q=K,G;q!==null;){G=q;var oe=G.stateNode;if(G.tag===5&&oe!==null&&(G=oe,W!==null&&(oe=yt(q,W),oe!=null&&ve.push(Zl(q,oe,G)))),vt)break;q=q.return}0<ve.length&&(te=new de(te,pe,null,c,ne),re.push({event:te,listeners:ve}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&c!==Ui&&(pe=c.relatedTarget||c.fromElement)&&(Zi(pe)||pe[os]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(pe=c.relatedTarget||c.toElement,de=K,pe=pe?Zi(pe):null,pe!==null&&(vt=sr(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=K),de!==pe)){if(ve=ha,oe="onMouseLeave",W="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(ve=k,oe="onPointerLeave",W="onPointerEnter",q="pointer"),vt=de==null?te:Ea(de),G=pe==null?te:Ea(pe),te=new ve(oe,q+"leave",de,c,ne),te.target=vt,te.relatedTarget=G,oe=null,Zi(ne)===K&&(ve=new ve(W,q+"enter",pe,c,ne),ve.target=G,ve.relatedTarget=vt,oe=ve),vt=oe,de&&pe)t:{for(ve=de,W=pe,q=0,G=ve;G;G=xa(G))q++;for(G=0,oe=W;oe;oe=xa(oe))G++;for(;0<q-G;)ve=xa(ve),q--;for(;0<G-q;)W=xa(W),G--;for(;q--;){if(ve===W||W!==null&&ve===W.alternate)break t;ve=xa(ve),W=xa(W)}ve=null}else ve=null;de!==null&&m0(re,te,de,ve,!1),pe!==null&&vt!==null&&m0(re,vt,pe,ve,!0)}}e:{if(te=K?Ea(K):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var we=xC;else if(Kv(te))if(Yv)we=SC;else{we=EC;var Ee=_C}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(we=bC);if(we&&(we=we(s,K))){Qv(re,we,c,ne);break e}Ee&&Ee(s,te,K),s==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&Go(te,"number",te.value)}switch(Ee=K?Ea(K):window,s){case"focusin":(Kv(Ee)||Ee.contentEditable==="true")&&(va=Ee,ip=K,Yl=null);break;case"focusout":Yl=ip=va=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,s0(re,c,ne);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":s0(re,c,ne)}var be;if(Et)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ya?Wv(s,c)&&(ke="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&(Xi&&c.locale!=="ko"&&(ya||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ya&&(be=$l()):(Pn=ne,la="value"in Pn?Pn.value:Pn.textContent,ya=!0)),Ee=ed(K,ke),0<Ee.length&&(ke=new Wl(ke,s,null,c,ne),re.push({event:ke,listeners:Ee}),be?ke.data=be:(be=Gv(c),be!==null&&(ke.data=be)))),(be=Rn?gC(s,c):yC(s,c))&&(K=ed(K,"onBeforeInput"),0<K.length&&(ne=new Wl("onBeforeInput","beforeinput",null,c,ne),re.push({event:ne,listeners:K}),ne.data=be))}f0(re,o)})}function Zl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ed(s,o){for(var c=o+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=yt(s,c),x!=null&&p.unshift(Zl(s,x,y)),x=yt(s,o),x!=null&&p.push(Zl(s,x,y))),s=s.return}return p}function xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function m0(s,o,c,p,y){for(var x=o._reactName,T=[];c!==null&&c!==p;){var V=c,U=V.alternate,K=V.stateNode;if(U!==null&&U===p)break;V.tag===5&&K!==null&&(V=K,y?(U=yt(c,x),U!=null&&T.unshift(Zl(c,U,V))):y||(U=yt(c,x),U!=null&&T.push(Zl(c,U,V)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var RC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function g0(s){return(typeof s=="string"?s:""+s).replace(RC,`
`).replace(NC,"")}function td(s,o,c){if(o=g0(o),g0(s)!==o&&c)throw Error(n(425))}function nd(){}var hp=null,fp=null;function pp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,DC=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(s){return y0.resolve(null).then(s).catch(MC)}:mp;function MC(s){setTimeout(function(){throw s})}function gp(s,o){var c=o,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),cr(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);cr(o)}function $s(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function v0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Dr="__reactFiber$"+_a,ec="__reactProps$"+_a,os="__reactContainer$"+_a,yp="__reactEvents$"+_a,OC="__reactListeners$"+_a,VC="__reactHandles$"+_a;function Zi(s){var o=s[Dr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[os]||c[Dr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=v0(s);s!==null;){if(c=s[Dr])return c;s=v0(s)}return o}s=c,c=s.parentNode}return null}function tc(s){return s=s[Dr]||s[os],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function rd(s){return s[ec]||null}var vp=[],ba=-1;function qs(s){return{current:s}}function rt(s){0>ba||(s.current=vp[ba],vp[ba]=null,ba--)}function Ze(s,o){ba++,vp[ba]=s.current,s.current=o}var Hs={},Qt=qs(Hs),gn=qs(!1),eo=Hs;function Sa(s,o){var c=s.type.contextTypes;if(!c)return Hs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function yn(s){return s=s.childContextTypes,s!=null}function sd(){rt(gn),rt(Qt)}function w0(s,o,c){if(Qt.current!==Hs)throw Error(n(168));Ze(Qt,o),Ze(gn,c)}function x0(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,Be(s)||"Unknown",y));return ce({},c,p)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hs,eo=Qt.current,Ze(Qt,s),Ze(gn,gn.current),!0}function _0(s,o,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=x0(s,o,eo),p.__reactInternalMemoizedMergedChildContext=s,rt(gn),rt(Qt),Ze(Qt,s)):rt(gn),Ze(gn,c)}var as=null,od=!1,wp=!1;function E0(s){as===null?as=[s]:as.push(s)}function LC(s){od=!0,E0(s)}function Ws(){if(!wp&&as!==null){wp=!0;var s=0,o=Ue;try{var c=as;for(Ue=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}as=null,od=!1}catch(y){throw as!==null&&(as=as.slice(s+1)),ra(Hi,Ws),y}finally{Ue=o,wp=!1}}return null}var Ta=[],Ia=0,ad=null,ld=0,qn=[],Hn=0,to=null,ls=1,cs="";function no(s,o){Ta[Ia++]=ld,Ta[Ia++]=ad,ad=s,ld=o}function b0(s,o,c){qn[Hn++]=ls,qn[Hn++]=cs,qn[Hn++]=to,to=s;var p=ls;s=cs;var y=32-on(p)-1;p&=~(1<<y),c+=1;var x=32-on(o)+y;if(30<x){var T=y-y%5;x=(p&(1<<T)-1).toString(32),p>>=T,y-=T,ls=1<<32-on(o)+y|c<<y|p,cs=x+s}else ls=1<<x|c<<y|p,cs=s}function xp(s){s.return!==null&&(no(s,1),b0(s,1,0))}function _p(s){for(;s===ad;)ad=Ta[--Ia],Ta[Ia]=null,ld=Ta[--Ia],Ta[Ia]=null;for(;s===to;)to=qn[--Hn],qn[Hn]=null,cs=qn[--Hn],qn[Hn]=null,ls=qn[--Hn],qn[Hn]=null}var Nn=null,jn=null,ot=!1,hr=null;function S0(s,o){var c=Qn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function T0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Nn=s,jn=$s(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Nn=s,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=to!==null?{id:ls,overflow:cs}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Qn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Nn=s,jn=null,!0):!1;default:return!1}}function Ep(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bp(s){if(ot){var o=jn;if(o){var c=o;if(!T0(s,o)){if(Ep(s))throw Error(n(418));o=$s(c.nextSibling);var p=Nn;o&&T0(s,o)?S0(p,c):(s.flags=s.flags&-4097|2,ot=!1,Nn=s)}}else{if(Ep(s))throw Error(n(418));s.flags=s.flags&-4097|2,ot=!1,Nn=s}}}function I0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function cd(s){if(s!==Nn)return!1;if(!ot)return I0(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!pp(s.type,s.memoizedProps)),o&&(o=jn)){if(Ep(s))throw C0(),Error(n(418));for(;o;)S0(s,o),o=$s(o.nextSibling)}if(I0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){jn=$s(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}jn=null}}else jn=Nn?$s(s.stateNode.nextSibling):null;return!0}function C0(){for(var s=jn;s;)s=$s(s.nextSibling)}function Ca(){jn=Nn=null,ot=!1}function Sp(s){hr===null?hr=[s]:hr.push(s)}var FC=L.ReactCurrentBatchConfig;function nc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var y=p,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(T){var V=y.refs;T===null?delete V[x]:V[x]=T},o._stringRef=x,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function ud(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function A0(s){var o=s._init;return o(s._payload)}function k0(s){function o(W,q){if(s){var G=W.deletions;G===null?(W.deletions=[q],W.flags|=16):G.push(q)}}function c(W,q){if(!s)return null;for(;q!==null;)o(W,q),q=q.sibling;return null}function p(W,q){for(W=new Map;q!==null;)q.key!==null?W.set(q.key,q):W.set(q.index,q),q=q.sibling;return W}function y(W,q){return W=ei(W,q),W.index=0,W.sibling=null,W}function x(W,q,G){return W.index=G,s?(G=W.alternate,G!==null?(G=G.index,G<q?(W.flags|=2,q):G):(W.flags|=2,q)):(W.flags|=1048576,q)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function V(W,q,G,oe){return q===null||q.tag!==6?(q=mm(G,W.mode,oe),q.return=W,q):(q=y(q,G),q.return=W,q)}function U(W,q,G,oe){var we=G.type;return we===F?ne(W,q,G.props.children,oe,G.key):q!==null&&(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Se&&A0(we)===q.type)?(oe=y(q,G.props),oe.ref=nc(W,q,G),oe.return=W,oe):(oe=Dd(G.type,G.key,G.props,null,W.mode,oe),oe.ref=nc(W,q,G),oe.return=W,oe)}function K(W,q,G,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=gm(G,W.mode,oe),q.return=W,q):(q=y(q,G.children||[]),q.return=W,q)}function ne(W,q,G,oe,we){return q===null||q.tag!==7?(q=uo(G,W.mode,oe,we),q.return=W,q):(q=y(q,G),q.return=W,q)}function re(W,q,G){if(typeof q=="string"&&q!==""||typeof q=="number")return q=mm(""+q,W.mode,G),q.return=W,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return G=Dd(q.type,q.key,q.props,null,W.mode,G),G.ref=nc(W,null,q),G.return=W,G;case se:return q=gm(q,W.mode,G),q.return=W,q;case Se:var oe=q._init;return re(W,oe(q._payload),G)}if(Jr(q)||ge(q))return q=uo(q,W.mode,G,null),q.return=W,q;ud(W,q)}return null}function te(W,q,G,oe){var we=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return we!==null?null:V(W,q,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J:return G.key===we?U(W,q,G,oe):null;case se:return G.key===we?K(W,q,G,oe):null;case Se:return we=G._init,te(W,q,we(G._payload),oe)}if(Jr(G)||ge(G))return we!==null?null:ne(W,q,G,oe,null);ud(W,G)}return null}function de(W,q,G,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(G)||null,V(q,W,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case J:return W=W.get(oe.key===null?G:oe.key)||null,U(q,W,oe,we);case se:return W=W.get(oe.key===null?G:oe.key)||null,K(q,W,oe,we);case Se:var Ee=oe._init;return de(W,q,G,Ee(oe._payload),we)}if(Jr(oe)||ge(oe))return W=W.get(G)||null,ne(q,W,oe,we,null);ud(q,oe)}return null}function pe(W,q,G,oe){for(var we=null,Ee=null,be=q,ke=q=0,Lt=null;be!==null&&ke<G.length;ke++){be.index>ke?(Lt=be,be=null):Lt=be.sibling;var Ge=te(W,be,G[ke],oe);if(Ge===null){be===null&&(be=Lt);break}s&&be&&Ge.alternate===null&&o(W,be),q=x(Ge,q,ke),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge,be=Lt}if(ke===G.length)return c(W,be),ot&&no(W,ke),we;if(be===null){for(;ke<G.length;ke++)be=re(W,G[ke],oe),be!==null&&(q=x(be,q,ke),Ee===null?we=be:Ee.sibling=be,Ee=be);return ot&&no(W,ke),we}for(be=p(W,be);ke<G.length;ke++)Lt=de(be,W,ke,G[ke],oe),Lt!==null&&(s&&Lt.alternate!==null&&be.delete(Lt.key===null?ke:Lt.key),q=x(Lt,q,ke),Ee===null?we=Lt:Ee.sibling=Lt,Ee=Lt);return s&&be.forEach(function(ti){return o(W,ti)}),ot&&no(W,ke),we}function ve(W,q,G,oe){var we=ge(G);if(typeof we!="function")throw Error(n(150));if(G=we.call(G),G==null)throw Error(n(151));for(var Ee=we=null,be=q,ke=q=0,Lt=null,Ge=G.next();be!==null&&!Ge.done;ke++,Ge=G.next()){be.index>ke?(Lt=be,be=null):Lt=be.sibling;var ti=te(W,be,Ge.value,oe);if(ti===null){be===null&&(be=Lt);break}s&&be&&ti.alternate===null&&o(W,be),q=x(ti,q,ke),Ee===null?we=ti:Ee.sibling=ti,Ee=ti,be=Lt}if(Ge.done)return c(W,be),ot&&no(W,ke),we;if(be===null){for(;!Ge.done;ke++,Ge=G.next())Ge=re(W,Ge.value,oe),Ge!==null&&(q=x(Ge,q,ke),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge);return ot&&no(W,ke),we}for(be=p(W,be);!Ge.done;ke++,Ge=G.next())Ge=de(be,W,ke,Ge.value,oe),Ge!==null&&(s&&Ge.alternate!==null&&be.delete(Ge.key===null?ke:Ge.key),q=x(Ge,q,ke),Ee===null?we=Ge:Ee.sibling=Ge,Ee=Ge);return s&&be.forEach(function(vA){return o(W,vA)}),ot&&no(W,ke),we}function vt(W,q,G,oe){if(typeof G=="object"&&G!==null&&G.type===F&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case J:e:{for(var we=G.key,Ee=q;Ee!==null;){if(Ee.key===we){if(we=G.type,we===F){if(Ee.tag===7){c(W,Ee.sibling),q=y(Ee,G.props.children),q.return=W,W=q;break e}}else if(Ee.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===Se&&A0(we)===Ee.type){c(W,Ee.sibling),q=y(Ee,G.props),q.ref=nc(W,Ee,G),q.return=W,W=q;break e}c(W,Ee);break}else o(W,Ee);Ee=Ee.sibling}G.type===F?(q=uo(G.props.children,W.mode,oe,G.key),q.return=W,W=q):(oe=Dd(G.type,G.key,G.props,null,W.mode,oe),oe.ref=nc(W,q,G),oe.return=W,W=oe)}return T(W);case se:e:{for(Ee=G.key;q!==null;){if(q.key===Ee)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){c(W,q.sibling),q=y(q,G.children||[]),q.return=W,W=q;break e}else{c(W,q);break}else o(W,q);q=q.sibling}q=gm(G,W.mode,oe),q.return=W,W=q}return T(W);case Se:return Ee=G._init,vt(W,q,Ee(G._payload),oe)}if(Jr(G))return pe(W,q,G,oe);if(ge(G))return ve(W,q,G,oe);ud(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,q!==null&&q.tag===6?(c(W,q.sibling),q=y(q,G),q.return=W,W=q):(c(W,q),q=mm(G,W.mode,oe),q.return=W,W=q),T(W)):c(W,q)}return vt}var Aa=k0(!0),P0=k0(!1),dd=qs(null),hd=null,ka=null,Tp=null;function Ip(){Tp=ka=hd=null}function Cp(s){var o=dd.current;rt(dd),s._currentValue=o}function Ap(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function Pa(s,o){hd=s,Tp=ka=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(vn=!0),s.firstContext=null)}function Wn(s){var o=s._currentValue;if(Tp!==s)if(s={context:s,memoizedValue:o,next:null},ka===null){if(hd===null)throw Error(n(308));ka=s,hd.dependencies={lanes:0,firstContext:s}}else ka=ka.next=s;return o}var ro=null;function kp(s){ro===null?ro=[s]:ro.push(s)}function R0(s,o,c,p){var y=o.interleaved;return y===null?(c.next=c,kp(o)):(c.next=y.next,y.next=c),o.interleaved=c,us(s,p)}function us(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gs=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ds(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ks(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,us(s,c)}return y=p.interleaved,y===null?(o.next=o,kp(p)):(o.next=y.next,y.next=o),p.interleaved=o,us(s,c)}function fd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}function j0(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function pd(s,o,c,p){var y=s.updateQueue;Gs=!1;var x=y.firstBaseUpdate,T=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var U=V,K=U.next;U.next=null,T===null?x=K:T.next=K,T=U;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==T&&(V===null?ne.firstBaseUpdate=K:V.next=K,ne.lastBaseUpdate=U))}if(x!==null){var re=y.baseState;T=0,ne=K=U=null,V=x;do{var te=V.lane,de=V.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var pe=s,ve=V;switch(te=o,de=c,ve.tag){case 1:if(pe=ve.payload,typeof pe=="function"){re=pe.call(de,re,te);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ve.payload,te=typeof pe=="function"?pe.call(de,re,te):pe,te==null)break e;re=ce({},re,te);break e;case 2:Gs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,te=y.effects,te===null?y.effects=[V]:te.push(V))}else de={eventTime:de,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(K=ne=de,U=re):ne=ne.next=de,T|=te;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;te=V,V=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(U=re),y.baseState=U,y.firstBaseUpdate=K,y.lastBaseUpdate=ne,o=y.shared.interleaved,o!==null){y=o;do T|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);oo|=T,s.lanes=T,s.memoizedState=re}}function D0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var rc={},Mr=qs(rc),sc=qs(rc),ic=qs(rc);function so(s){if(s===rc)throw Error(n(174));return s}function Rp(s,o){switch(Ze(ic,o),Ze(sc,s),Ze(Mr,rc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Pt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Pt(o,s)}rt(Mr),Ze(Mr,o)}function Ra(){rt(Mr),rt(sc),rt(ic)}function M0(s){so(ic.current);var o=so(Mr.current),c=Pt(o,s.type);o!==c&&(Ze(sc,s),Ze(Mr,c))}function Np(s){sc.current===s&&(rt(Mr),rt(sc))}var ct=qs(0);function md(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jp=[];function Dp(){for(var s=0;s<jp.length;s++)jp[s]._workInProgressVersionPrimary=null;jp.length=0}var gd=L.ReactCurrentDispatcher,Mp=L.ReactCurrentBatchConfig,io=0,ut=null,Nt=null,Ot=null,yd=!1,oc=!1,ac=0,UC=0;function Yt(){throw Error(n(321))}function Op(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!dr(s[c],o[c]))return!1;return!0}function Vp(s,o,c,p,y,x){if(io=x,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,gd.current=s===null||s.memoizedState===null?qC:HC,s=c(p,y),oc){x=0;do{if(oc=!1,ac=0,25<=x)throw Error(n(301));x+=1,Ot=Nt=null,o.updateQueue=null,gd.current=WC,s=c(p,y)}while(oc)}if(gd.current=xd,o=Nt!==null&&Nt.next!==null,io=0,Ot=Nt=ut=null,yd=!1,o)throw Error(n(300));return s}function Lp(){var s=ac!==0;return ac=0,s}function Or(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ut.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function Gn(){if(Nt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var o=Ot===null?ut.memoizedState:Ot.next;if(o!==null)Ot=o,Nt=s;else{if(s===null)throw Error(n(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ot===null?ut.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function lc(s,o){return typeof o=="function"?o(s):o}function Fp(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Nt,y=p.baseQueue,x=c.pending;if(x!==null){if(y!==null){var T=y.next;y.next=x.next,x.next=T}p.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,p=p.baseState;var V=T=null,U=null,K=x;do{var ne=K.lane;if((io&ne)===ne)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(V=U=re,T=p):U=U.next=re,ut.lanes|=ne,oo|=ne}K=K.next}while(K!==null&&K!==x);U===null?T=p:U.next=V,dr(p,o.memoizedState)||(vn=!0),o.memoizedState=p,o.baseState=T,o.baseQueue=U,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do x=y.lane,ut.lanes|=x,oo|=x,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Up(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do x=s(x,T.action),T=T.next;while(T!==y);dr(x,o.memoizedState)||(vn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,p]}function O0(){}function V0(s,o){var c=ut,p=Gn(),y=o(),x=!dr(p.memoizedState,y);if(x&&(p.memoizedState=y,vn=!0),p=p.queue,Bp(U0.bind(null,c,p,s),[s]),p.getSnapshot!==o||x||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,cc(9,F0.bind(null,c,p,y,o),void 0,null),Vt===null)throw Error(n(349));(io&30)!==0||L0(c,o,y)}return y}function L0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function F0(s,o,c,p){o.value=c,o.getSnapshot=p,B0(o)&&z0(s)}function U0(s,o,c){return c(function(){B0(o)&&z0(s)})}function B0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!dr(s,c)}catch{return!0}}function z0(s){var o=us(s,1);o!==null&&gr(o,s,1,-1)}function $0(s){var o=Or();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:s},o.queue=s,s=s.dispatch=$C.bind(null,ut,s),[o.memoizedState,s]}function cc(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function q0(){return Gn().memoizedState}function vd(s,o,c,p){var y=Or();ut.flags|=s,y.memoizedState=cc(1|o,c,void 0,p===void 0?null:p)}function wd(s,o,c,p){var y=Gn();p=p===void 0?null:p;var x=void 0;if(Nt!==null){var T=Nt.memoizedState;if(x=T.destroy,p!==null&&Op(p,T.deps)){y.memoizedState=cc(o,c,x,p);return}}ut.flags|=s,y.memoizedState=cc(1|o,c,x,p)}function H0(s,o){return vd(8390656,8,s,o)}function Bp(s,o){return wd(2048,8,s,o)}function W0(s,o){return wd(4,2,s,o)}function G0(s,o){return wd(4,4,s,o)}function K0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Q0(s,o,c){return c=c!=null?c.concat([s]):null,wd(4,4,K0.bind(null,o,s),c)}function zp(){}function Y0(s,o){var c=Gn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Op(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function J0(s,o){var c=Gn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Op(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function X0(s,o,c){return(io&21)===0?(s.baseState&&(s.baseState=!1,vn=!0),s.memoizedState=c):(dr(c,o)||(c=Ki(),ut.lanes|=c,oo|=c,s.baseState=!0),o)}function BC(s,o){var c=Ue;Ue=c!==0&&4>c?c:4,s(!0);var p=Mp.transition;Mp.transition={};try{s(!1),o()}finally{Ue=c,Mp.transition=p}}function Z0(){return Gn().memoizedState}function zC(s,o,c){var p=Xs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},ew(s))tw(o,c);else if(c=R0(s,o,c,p),c!==null){var y=cn();gr(c,s,p,y),nw(c,o,p)}}function $C(s,o,c){var p=Xs(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(ew(s))tw(o,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,V=x(T,c);if(y.hasEagerState=!0,y.eagerState=V,dr(V,T)){var U=o.interleaved;U===null?(y.next=y,kp(o)):(y.next=U.next,U.next=y),o.interleaved=y;return}}catch{}finally{}c=R0(s,o,y,p),c!==null&&(y=cn(),gr(c,s,p,y),nw(c,o,p))}}function ew(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function tw(s,o){oc=yd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function nw(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}var xd={readContext:Wn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},qC={readContext:Wn,useCallback:function(s,o){return Or().memoizedState=[s,o===void 0?null:o],s},useContext:Wn,useEffect:H0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,vd(4194308,4,K0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return vd(4194308,4,s,o)},useInsertionEffect:function(s,o){return vd(4,2,s,o)},useMemo:function(s,o){var c=Or();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Or();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=zC.bind(null,ut,s),[p.memoizedState,s]},useRef:function(s){var o=Or();return s={current:s},o.memoizedState=s},useState:$0,useDebugValue:zp,useDeferredValue:function(s){return Or().memoizedState=s},useTransition:function(){var s=$0(!1),o=s[0];return s=BC.bind(null,s[1]),Or().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=ut,y=Or();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Vt===null)throw Error(n(349));(io&30)!==0||L0(p,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,H0(U0.bind(null,p,x,s),[s]),p.flags|=2048,cc(9,F0.bind(null,p,x,c,o),void 0,null),c},useId:function(){var s=Or(),o=Vt.identifierPrefix;if(ot){var c=cs,p=ls;c=(p&~(1<<32-on(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=ac++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=UC++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},HC={readContext:Wn,useCallback:Y0,useContext:Wn,useEffect:Bp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:G0,useMemo:J0,useReducer:Fp,useRef:q0,useState:function(){return Fp(lc)},useDebugValue:zp,useDeferredValue:function(s){var o=Gn();return X0(o,Nt.memoizedState,s)},useTransition:function(){var s=Fp(lc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:O0,useSyncExternalStore:V0,useId:Z0,unstable_isNewReconciler:!1},WC={readContext:Wn,useCallback:Y0,useContext:Wn,useEffect:Bp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:G0,useMemo:J0,useReducer:Up,useRef:q0,useState:function(){return Up(lc)},useDebugValue:zp,useDeferredValue:function(s){var o=Gn();return Nt===null?o.memoizedState=s:X0(o,Nt.memoizedState,s)},useTransition:function(){var s=Up(lc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:O0,useSyncExternalStore:V0,useId:Z0,unstable_isNewReconciler:!1};function fr(s,o){if(s&&s.defaultProps){o=ce({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function $p(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:ce({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var _d={isMounted:function(s){return(s=s._reactInternals)?sr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=cn(),y=Xs(s),x=ds(p,y);x.payload=o,c!=null&&(x.callback=c),o=Ks(s,x,y),o!==null&&(gr(o,s,y,p),fd(o,s,y))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=cn(),y=Xs(s),x=ds(p,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Ks(s,x,y),o!==null&&(gr(o,s,y,p),fd(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=cn(),p=Xs(s),y=ds(c,p);y.tag=2,o!=null&&(y.callback=o),o=Ks(s,y,p),o!==null&&(gr(o,s,p,c),fd(o,s,p))}};function rw(s,o,c,p,y,x,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,T):o.prototype&&o.prototype.isPureReactComponent?!Ql(c,p)||!Ql(y,x):!0}function sw(s,o,c){var p=!1,y=Hs,x=o.contextType;return typeof x=="object"&&x!==null?x=Wn(x):(y=yn(o)?eo:Qt.current,p=o.contextTypes,x=(p=p!=null)?Sa(s,y):Hs),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_d,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),o}function iw(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&_d.enqueueReplaceState(o,o.state,null)}function qp(s,o,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Pp(s);var x=o.contextType;typeof x=="object"&&x!==null?y.context=Wn(x):(x=yn(o)?eo:Qt.current,y.context=Sa(s,x)),y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&($p(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&_d.enqueueReplaceState(y,y.state,null),pd(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Na(s,o){try{var c="",p=o;do c+=Re(p),p=p.return;while(p);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:y,digest:null}}function Hp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Wp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var GC=typeof WeakMap=="function"?WeakMap:Map;function ow(s,o,c){c=ds(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Ad||(Ad=!0,am=p),Wp(s,o)},c}function aw(s,o,c){c=ds(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Wp(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Wp(s,o),typeof p!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function lw(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new GC;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),s=aA.bind(null,s,o,c),o.then(s,s))}function cw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function uw(s,o,c,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ds(-1,1),o.tag=2,Ks(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var KC=L.ReactCurrentOwner,vn=!1;function ln(s,o,c,p){o.child=s===null?P0(o,null,c,p):Aa(o,s.child,c,p)}function dw(s,o,c,p,y){c=c.render;var x=o.ref;return Pa(o,y),p=Vp(s,o,c,p,x,y),c=Lp(),s!==null&&!vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,hs(s,o,y)):(ot&&c&&xp(o),o.flags|=1,ln(s,o,p,y),o.child)}function hw(s,o,c,p,y){if(s===null){var x=c.type;return typeof x=="function"&&!pm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,fw(s,o,x,p,y)):(s=Dd(c.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&y)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Ql,c(T,p)&&s.ref===o.ref)return hs(s,o,y)}return o.flags|=1,s=ei(x,p),s.ref=o.ref,s.return=o,o.child=s}function fw(s,o,c,p,y){if(s!==null){var x=s.memoizedProps;if(Ql(x,p)&&s.ref===o.ref)if(vn=!1,o.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(vn=!0);else return o.lanes=s.lanes,hs(s,o,y)}return Gp(s,o,c,p,y)}function pw(s,o,c){var p=o.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Da,Dn),Dn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ze(Da,Dn),Dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,Ze(Da,Dn),Dn|=p}else x!==null?(p=x.baseLanes|c,o.memoizedState=null):p=c,Ze(Da,Dn),Dn|=p;return ln(s,o,y,c),o.child}function mw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Gp(s,o,c,p,y){var x=yn(c)?eo:Qt.current;return x=Sa(o,x),Pa(o,y),c=Vp(s,o,c,p,x,y),p=Lp(),s!==null&&!vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,hs(s,o,y)):(ot&&p&&xp(o),o.flags|=1,ln(s,o,c,y),o.child)}function gw(s,o,c,p,y){if(yn(c)){var x=!0;id(o)}else x=!1;if(Pa(o,y),o.stateNode===null)bd(s,o),sw(o,c,p),qp(o,c,p,y),p=!0;else if(s===null){var T=o.stateNode,V=o.memoizedProps;T.props=V;var U=T.context,K=c.contextType;typeof K=="object"&&K!==null?K=Wn(K):(K=yn(c)?eo:Qt.current,K=Sa(o,K));var ne=c.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==p||U!==K)&&iw(o,T,p,K),Gs=!1;var te=o.memoizedState;T.state=te,pd(o,p,T,y),U=o.memoizedState,V!==p||te!==U||gn.current||Gs?(typeof ne=="function"&&($p(o,c,ne,p),U=o.memoizedState),(V=Gs||rw(o,c,V,p,te,U,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=U),T.props=p,T.state=U,T.context=K,p=V):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{T=o.stateNode,N0(s,o),V=o.memoizedProps,K=o.type===o.elementType?V:fr(o.type,V),T.props=K,re=o.pendingProps,te=T.context,U=c.contextType,typeof U=="object"&&U!==null?U=Wn(U):(U=yn(c)?eo:Qt.current,U=Sa(o,U));var de=c.getDerivedStateFromProps;(ne=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==re||te!==U)&&iw(o,T,p,U),Gs=!1,te=o.memoizedState,T.state=te,pd(o,p,T,y);var pe=o.memoizedState;V!==re||te!==pe||gn.current||Gs?(typeof de=="function"&&($p(o,c,de,p),pe=o.memoizedState),(K=Gs||rw(o,c,K,p,te,pe,U)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,pe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,pe,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),T.props=p,T.state=pe,T.context=U,p=K):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),p=!1)}return Kp(s,o,c,p,x,y)}function Kp(s,o,c,p,y,x){mw(s,o);var T=(o.flags&128)!==0;if(!p&&!T)return y&&_0(o,c,!1),hs(s,o,x);p=o.stateNode,KC.current=o;var V=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&T?(o.child=Aa(o,s.child,null,x),o.child=Aa(o,null,V,x)):ln(s,o,V,x),o.memoizedState=p.state,y&&_0(o,c,!0),o.child}function yw(s){var o=s.stateNode;o.pendingContext?w0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&w0(s,o.context,!1),Rp(s,o.containerInfo)}function vw(s,o,c,p,y){return Ca(),Sp(y),o.flags|=256,ln(s,o,c,p),o.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Yp(s){return{baseLanes:s,cachePool:null,transitions:null}}function ww(s,o,c){var p=o.pendingProps,y=ct.current,x=!1,T=(o.flags&128)!==0,V;if((V=T)||(V=s!==null&&s.memoizedState===null?!1:(y&2)!==0),V?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Ze(ct,y&1),s===null)return bp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=p.children,s=p.fallback,x?(p=o.mode,x=o.child,T={mode:"hidden",children:T},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=Md(T,p,0,null),s=uo(s,p,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Yp(c),o.memoizedState=Qp,s):Jp(o,T));if(y=s.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return QC(s,o,T,p,V,y,c);if(x){x=p.fallback,T=o.mode,y=s.child,V=y.sibling;var U={mode:"hidden",children:p.children};return(T&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=U,o.deletions=null):(p=ei(y,U),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=ei(V,x):(x=uo(x,T,c,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,T=s.child.memoizedState,T=T===null?Yp(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=s.childLanes&~c,o.memoizedState=Qp,p}return x=s.child,s=x.sibling,p=ei(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function Jp(s,o){return o=Md({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ed(s,o,c,p){return p!==null&&Sp(p),Aa(o,s.child,null,c),s=Jp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function QC(s,o,c,p,y,x,T){if(c)return o.flags&256?(o.flags&=-257,p=Hp(Error(n(422))),Ed(s,o,T,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=p.fallback,y=o.mode,p=Md({mode:"visible",children:p.children},y,0,null),x=uo(x,y,T,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Aa(o,s.child,null,T),o.child.memoizedState=Yp(T),o.memoizedState=Qp,x);if((o.mode&1)===0)return Ed(s,o,T,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(n(419)),p=Hp(x,p,void 0),Ed(s,o,T,p)}if(V=(T&s.childLanes)!==0,vn||V){if(p=Vt,p!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|T))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,us(s,y),gr(p,s,y,-1))}return fm(),p=Hp(Error(n(421))),Ed(s,o,T,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=lA.bind(null,s),y._reactRetry=o,null):(s=x.treeContext,jn=$s(y.nextSibling),Nn=o,ot=!0,hr=null,s!==null&&(qn[Hn++]=ls,qn[Hn++]=cs,qn[Hn++]=to,ls=s.id,cs=s.overflow,to=o),o=Jp(o,p.children),o.flags|=4096,o)}function xw(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Ap(s.return,o,c)}function Xp(s,o,c,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=y)}function _w(s,o,c){var p=o.pendingProps,y=p.revealOrder,x=p.tail;if(ln(s,o,p.children,c),p=ct.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xw(s,c,o);else if(s.tag===19)xw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ze(ct,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&md(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Xp(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&md(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Xp(o,!0,c,null,x);break;case"together":Xp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),oo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ei(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ei(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function YC(s,o,c){switch(o.tag){case 3:yw(o),Ca();break;case 5:M0(o);break;case 1:yn(o.type)&&id(o);break;case 4:Rp(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;Ze(dd,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ze(ct,ct.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ww(s,o,c):(Ze(ct,ct.current&1),s=hs(s,o,c),s!==null?s.sibling:null);Ze(ct,ct.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return _w(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ze(ct,ct.current),p)break;return null;case 22:case 23:return o.lanes=0,pw(s,o,c)}return hs(s,o,c)}var Ew,Zp,bw,Sw;Ew=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zp=function(){},bw=function(s,o,c,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,so(Mr.current);var x=null;switch(c){case"input":y=Vi(s,y),p=Vi(s,p),x=[];break;case"select":y=ce({},y,{value:void 0}),p=ce({},p,{value:void 0}),x=[];break;case"textarea":y=Sl(s,y),p=Sl(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=nd)}Pl(c,p);var T;c=null;for(K in y)if(!p.hasOwnProperty(K)&&y.hasOwnProperty(K)&&y[K]!=null)if(K==="style"){var V=y[K];for(T in V)V.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in p){var U=p[K];if(V=y?.[K],p.hasOwnProperty(K)&&U!==V&&(U!=null||V!=null))if(K==="style")if(V){for(T in V)!V.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in U)U.hasOwnProperty(T)&&V[T]!==U[T]&&(c||(c={}),c[T]=U[T])}else c||(x||(x=[]),x.push(K,c)),c=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(x=x||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(x=x||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&nt("scroll",s),x||V===U||(x=[])):(x=x||[]).push(K,U))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},Sw=function(s,o,c,p){c!==p&&(o.flags|=4)};function uc(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function JC(s,o,c){var p=o.pendingProps;switch(_p(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return yn(o.type)&&sd(),Jt(o),null;case 3:return p=o.stateNode,Ra(),rt(gn),rt(Qt),Dp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(cd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(um(hr),hr=null))),Zp(s,o),Jt(o),null;case 5:Np(o);var y=so(ic.current);if(c=o.type,s!==null&&o.stateNode!=null)bw(s,o,c,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(s=so(Mr.current),cd(o)){p=o.stateNode,c=o.type;var x=o.memoizedProps;switch(p[Dr]=o,p[ec]=x,s=(o.mode&1)!==0,c){case"dialog":nt("cancel",p),nt("close",p);break;case"iframe":case"object":case"embed":nt("load",p);break;case"video":case"audio":for(y=0;y<Jl.length;y++)nt(Jl[y],p);break;case"source":nt("error",p);break;case"img":case"image":case"link":nt("error",p),nt("load",p);break;case"details":nt("toggle",p);break;case"input":Wo(p,x),nt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},nt("invalid",p);break;case"textarea":Ko(p,x),nt("invalid",p)}Pl(c,x),y=null;for(var T in x)if(x.hasOwnProperty(T)){var V=x[T];T==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&td(p.textContent,V,s),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&td(p.textContent,V,s),y=["children",""+V]):i.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&nt("scroll",p)}switch(c){case"input":Ut(p),Cu(p,x,!0);break;case"textarea":Ut(p),Tl(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=nd)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=T.createElement(c,{is:p.is}):(s=T.createElement(c),c==="select"&&(T=s,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):s=T.createElementNS(s,c),s[Dr]=o,s[ec]=p,Ew(s,o,!1,!1),o.stateNode=s;e:{switch(T=Rl(c,p),c){case"dialog":nt("cancel",s),nt("close",s),y=p;break;case"iframe":case"object":case"embed":nt("load",s),y=p;break;case"video":case"audio":for(y=0;y<Jl.length;y++)nt(Jl[y],s);y=p;break;case"source":nt("error",s),y=p;break;case"img":case"image":case"link":nt("error",s),nt("load",s),y=p;break;case"details":nt("toggle",s),y=p;break;case"input":Wo(s,p),y=Vi(s,p),nt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=ce({},p,{value:void 0}),nt("invalid",s);break;case"textarea":Ko(s,p),y=Sl(s,p),nt("invalid",s);break;default:y=p}Pl(c,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var U=V[x];x==="style"?Al(s,U):x==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Il(s,U)):x==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&Ns(s,U):typeof U=="number"&&Ns(s,""+U):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?U!=null&&x==="onScroll"&&nt("scroll",s):U!=null&&R(s,x,U,T))}switch(c){case"input":Ut(s),Cu(s,p,!1);break;case"textarea":Ut(s),Tl(s);break;case"option":p.value!=null&&s.setAttribute("value",""+qe(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Xr(s,!!p.multiple,x,!1):p.defaultValue!=null&&Xr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=nd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)Sw(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=so(ic.current),so(Mr.current),cd(o)){if(p=o.stateNode,c=o.memoizedProps,p[Dr]=o,(x=p.nodeValue!==c)&&(s=Nn,s!==null))switch(s.tag){case 3:td(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&td(p.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Dr]=o,o.stateNode=p}return Jt(o),null;case 13:if(rt(ct),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)C0(),Ca(),o.flags|=98560,x=!1;else if(x=cd(o),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Dr]=o}else Ca(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),x=!1}else hr!==null&&(um(hr),hr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ct.current&1)!==0?jt===0&&(jt=3):fm())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Ra(),Zp(s,o),s===null&&Xl(o.stateNode.containerInfo),Jt(o),null;case 10:return Cp(o.type._context),Jt(o),null;case 17:return yn(o.type)&&sd(),Jt(o),null;case 19:if(rt(ct),x=o.memoizedState,x===null)return Jt(o),null;if(p=(o.flags&128)!==0,T=x.rendering,T===null)if(p)uc(x,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=md(s),T!==null){for(o.flags|=128,uc(x,!1),p=T.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)x=c,s=p,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,s=T.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ze(ct,ct.current&1|2),o.child}s=s.sibling}x.tail!==null&&Xe()>Ma&&(o.flags|=128,p=!0,uc(x,!1),o.lanes=4194304)}else{if(!p)if(s=md(T),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),uc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!ot)return Jt(o),null}else 2*Xe()-x.renderingStartTime>Ma&&c!==1073741824&&(o.flags|=128,p=!0,uc(x,!1),o.lanes=4194304);x.isBackwards?(T.sibling=o.child,o.child=T):(c=x.last,c!==null?c.sibling=T:o.child=T,x.last=T)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Xe(),o.sibling=null,c=ct.current,Ze(ct,p?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return hm(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function XC(s,o){switch(_p(o),o.tag){case 1:return yn(o.type)&&sd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ra(),rt(gn),rt(Qt),Dp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Np(o),null;case 13:if(rt(ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ca()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(ct),null;case 4:return Ra(),null;case 10:return Cp(o.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Sd=!1,Xt=!1,ZC=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ja(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ft(s,o,p)}else c.current=null}function em(s,o,c){try{c()}catch(p){ft(s,o,p)}}var Tw=!1;function eA(s,o){if(hp=Us,s=r0(),sp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,V=-1,U=-1,K=0,ne=0,re=s,te=null;t:for(;;){for(var de;re!==c||y!==0&&re.nodeType!==3||(V=T+y),re!==x||p!==0&&re.nodeType!==3||(U=T+p),re.nodeType===3&&(T+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===s)break t;if(te===c&&++K===y&&(V=T),te===x&&++ne===p&&(U=T),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}c=V===-1||U===-1?null:{start:V,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(fp={focusedElem:s,selectionRange:c},Us=!1,fe=o;fe!==null;)if(o=fe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,fe=s;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ve=pe.memoizedProps,vt=pe.memoizedState,W=o.stateNode,q=W.getSnapshotBeforeUpdate(o.elementType===o.type?ve:fr(o.type,ve),vt);W.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){ft(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,fe=s;break}fe=o.return}return pe=Tw,Tw=!1,pe}function dc(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&em(o,c,x)}y=y.next}while(y!==p)}}function Td(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function tm(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Iw(s){var o=s.alternate;o!==null&&(s.alternate=null,Iw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Dr],delete o[ec],delete o[yp],delete o[OC],delete o[VC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Cw(s){return s.tag===5||s.tag===3||s.tag===4}function Aw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Cw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function nm(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=nd));else if(p!==4&&(s=s.child,s!==null))for(nm(s,o,c),s=s.sibling;s!==null;)nm(s,o,c),s=s.sibling}function rm(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(rm(s,o,c),s=s.sibling;s!==null;)rm(s,o,c),s=s.sibling}var $t=null,pr=!1;function Qs(s,o,c){for(c=c.child;c!==null;)kw(s,o,c),c=c.sibling}function kw(s,o,c){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Wi,c)}catch{}switch(c.tag){case 5:Xt||ja(c,o);case 6:var p=$t,y=pr;$t=null,Qs(s,o,c),$t=p,pr=y,$t!==null&&(pr?(s=$t,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):$t.removeChild(c.stateNode));break;case 18:$t!==null&&(pr?(s=$t,c=c.stateNode,s.nodeType===8?gp(s.parentNode,c):s.nodeType===1&&gp(s,c),cr(s)):gp($t,c.stateNode));break;case 4:p=$t,y=pr,$t=c.stateNode.containerInfo,pr=!0,Qs(s,o,c),$t=p,pr=y;break;case 0:case 11:case 14:case 15:if(!Xt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&em(c,o,T),y=y.next}while(y!==p)}Qs(s,o,c);break;case 1:if(!Xt&&(ja(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){ft(c,o,V)}Qs(s,o,c);break;case 21:Qs(s,o,c);break;case 22:c.mode&1?(Xt=(p=Xt)||c.memoizedState!==null,Qs(s,o,c),Xt=p):Qs(s,o,c);break;default:Qs(s,o,c)}}function Pw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new ZC),o.forEach(function(p){var y=cA.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function mr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var x=s,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 5:$t=V.stateNode,pr=!1;break e;case 3:$t=V.stateNode.containerInfo,pr=!0;break e;case 4:$t=V.stateNode.containerInfo,pr=!0;break e}V=V.return}if($t===null)throw Error(n(160));kw(x,T,y),$t=null,pr=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(K){ft(y,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Rw(o,s),o=o.sibling}function Rw(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(o,s),Vr(s),p&4){try{dc(3,s,s.return),Td(3,s)}catch(ve){ft(s,s.return,ve)}try{dc(5,s,s.return)}catch(ve){ft(s,s.return,ve)}}break;case 1:mr(o,s),Vr(s),p&512&&c!==null&&ja(c,c.return);break;case 5:if(mr(o,s),Vr(s),p&512&&c!==null&&ja(c,c.return),s.flags&32){var y=s.stateNode;try{Ns(y,"")}catch(ve){ft(s,s.return,ve)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,T=c!==null?c.memoizedProps:x,V=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&El(y,x),Rl(V,T);var K=Rl(V,x);for(T=0;T<U.length;T+=2){var ne=U[T],re=U[T+1];ne==="style"?Al(y,re):ne==="dangerouslySetInnerHTML"?Il(y,re):ne==="children"?Ns(y,re):R(y,ne,re,K)}switch(V){case"input":bl(y,x);break;case"textarea":Qo(y,x);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?Xr(y,!!x.multiple,de,!1):te!==!!x.multiple&&(x.defaultValue!=null?Xr(y,!!x.multiple,x.defaultValue,!0):Xr(y,!!x.multiple,x.multiple?[]:"",!1))}y[ec]=x}catch(ve){ft(s,s.return,ve)}}break;case 6:if(mr(o,s),Vr(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(ve){ft(s,s.return,ve)}}break;case 3:if(mr(o,s),Vr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{cr(o.containerInfo)}catch(ve){ft(s,s.return,ve)}break;case 4:mr(o,s),Vr(s);break;case 13:mr(o,s),Vr(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(om=Xe())),p&4&&Pw(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(Xt=(K=Xt)||ne,mr(o,s),Xt=K):mr(o,s),Vr(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ne&&(s.mode&1)!==0)for(fe=s,ne=s.child;ne!==null;){for(re=fe=ne;fe!==null;){switch(te=fe,de=te.child,te.tag){case 0:case 11:case 14:case 15:dc(4,te,te.return);break;case 1:ja(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){p=te,c=te.return;try{o=p,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ve){ft(p,c,ve)}}break;case 5:ja(te,te.return);break;case 22:if(te.memoizedState!==null){Dw(re);continue}}de!==null?(de.return=te,fe=de):Dw(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{y=re.stateNode,K?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=re.stateNode,U=re.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=Cl("display",T))}catch(ve){ft(s,s.return,ve)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(ve){ft(s,s.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:mr(o,s),Vr(s),p&4&&Pw(s);break;case 21:break;default:mr(o,s),Vr(s)}}function Vr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Cw(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ns(y,""),p.flags&=-33);var x=Aw(s);rm(s,x,y);break;case 3:case 4:var T=p.stateNode.containerInfo,V=Aw(s);nm(s,V,T);break;default:throw Error(n(161))}}catch(U){ft(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function tA(s,o,c){fe=s,Nw(s)}function Nw(s,o,c){for(var p=(s.mode&1)!==0;fe!==null;){var y=fe,x=y.child;if(y.tag===22&&p){var T=y.memoizedState!==null||Sd;if(!T){var V=y.alternate,U=V!==null&&V.memoizedState!==null||Xt;V=Sd;var K=Xt;if(Sd=T,(Xt=U)&&!K)for(fe=y;fe!==null;)T=fe,U=T.child,T.tag===22&&T.memoizedState!==null?Mw(y):U!==null?(U.return=T,fe=U):Mw(y);for(;x!==null;)fe=x,Nw(x),x=x.sibling;fe=y,Sd=V,Xt=K}jw(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,fe=x):jw(s)}}function jw(s){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||Td(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Xt)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:fr(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&D0(o,x,p);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}D0(o,T,c)}break;case 5:var V=o.stateNode;if(c===null&&o.flags&4){c=V;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&cr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&tm(o)}catch(te){ft(o,o.return,te)}}if(o===s){fe=null;break}if(c=o.sibling,c!==null){c.return=o.return,fe=c;break}fe=o.return}}function Dw(s){for(;fe!==null;){var o=fe;if(o===s){fe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,fe=c;break}fe=o.return}}function Mw(s){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Td(4,o)}catch(U){ft(o,c,U)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(U){ft(o,y,U)}}var x=o.return;try{tm(o)}catch(U){ft(o,x,U)}break;case 5:var T=o.return;try{tm(o)}catch(U){ft(o,T,U)}}}catch(U){ft(o,o.return,U)}if(o===s){fe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,fe=V;break}fe=o.return}}var nA=Math.ceil,Id=L.ReactCurrentDispatcher,sm=L.ReactCurrentOwner,Kn=L.ReactCurrentBatchConfig,He=0,Vt=null,bt=null,qt=0,Dn=0,Da=qs(0),jt=0,hc=null,oo=0,Cd=0,im=0,fc=null,wn=null,om=0,Ma=1/0,fs=null,Ad=!1,am=null,Ys=null,kd=!1,Js=null,Pd=0,pc=0,lm=null,Rd=-1,Nd=0;function cn(){return(He&6)!==0?Xe():Rd!==-1?Rd:Rd=Xe()}function Xs(s){return(s.mode&1)===0?1:(He&2)!==0&&qt!==0?qt&-qt:FC.transition!==null?(Nd===0&&(Nd=Ki()),Nd):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:zl(s.type)),s)}function gr(s,o,c,p){if(50<pc)throw pc=0,lm=null,Error(n(185));Os(s,c,p),((He&2)===0||s!==Vt)&&(s===Vt&&((He&2)===0&&(Cd|=c),jt===4&&Zs(s,qt)),xn(s,p),c===1&&He===0&&(o.mode&1)===0&&(Ma=Xe()+500,od&&Ws()))}function xn(s,o){var c=s.callbackNode;ts(s,o);var p=Gi(s,s===Vt?qt:0);if(p===0)c!==null&&Vl(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&Vl(c),o===1)s.tag===0?LC(Vw.bind(null,s)):E0(Vw.bind(null,s)),DC(function(){(He&6)===0&&Ws()}),c=null;else{switch(Ls(p)){case 1:c=Hi;break;case 4:c=js;break;case 16:c=Bn;break;case 536870912:c=Nu;break;default:c=Bn}c=Hw(c,Ow.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Ow(s,o){if(Rd=-1,Nd=0,(He&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Oa()&&s.callbackNode!==c)return null;var p=Gi(s,s===Vt?qt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=jd(s,p);else{o=p;var y=He;He|=2;var x=Fw();(Vt!==s||qt!==o)&&(fs=null,Ma=Xe()+500,lo(s,o));do try{iA();break}catch(V){Lw(s,V)}while(!0);Ip(),Id.current=x,He=y,bt!==null?o=0:(Vt=null,qt=0,o=jt)}if(o!==0){if(o===2&&(y=kn(s),y!==0&&(p=y,o=cm(s,y))),o===1)throw c=hc,lo(s,0),Zs(s,p),xn(s,Xe()),c;if(o===6)Zs(s,p);else{if(y=s.current.alternate,(p&30)===0&&!rA(y)&&(o=jd(s,p),o===2&&(x=kn(s),x!==0&&(p=x,o=cm(s,x))),o===1))throw c=hc,lo(s,0),Zs(s,p),xn(s,Xe()),c;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:co(s,wn,fs);break;case 3:if(Zs(s,p),(p&130023424)===p&&(o=om+500-Xe(),10<o)){if(Gi(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){cn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=mp(co.bind(null,s,wn,fs),o);break}co(s,wn,fs);break;case 4:if(Zs(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var T=31-on(p);x=1<<T,T=o[T],T>y&&(y=T),p&=~x}if(p=y,p=Xe()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*nA(p/1960))-p,10<p){s.timeoutHandle=mp(co.bind(null,s,wn,fs),p);break}co(s,wn,fs);break;case 5:co(s,wn,fs);break;default:throw Error(n(329))}}}return xn(s,Xe()),s.callbackNode===c?Ow.bind(null,s):null}function cm(s,o){var c=fc;return s.current.memoizedState.isDehydrated&&(lo(s,o).flags|=256),s=jd(s,o),s!==2&&(o=wn,wn=c,o!==null&&um(o)),s}function um(s){wn===null?wn=s:wn.push.apply(wn,s)}function rA(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],x=y.getSnapshot;y=y.value;try{if(!dr(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zs(s,o){for(o&=~im,o&=~Cd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-on(o),p=1<<c;s[c]=-1,o&=~p}}function Vw(s){if((He&6)!==0)throw Error(n(327));Oa();var o=Gi(s,0);if((o&1)===0)return xn(s,Xe()),null;var c=jd(s,o);if(s.tag!==0&&c===2){var p=kn(s);p!==0&&(o=p,c=cm(s,p))}if(c===1)throw c=hc,lo(s,0),Zs(s,o),xn(s,Xe()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,co(s,wn,fs),xn(s,Xe()),null}function dm(s,o){var c=He;He|=1;try{return s(o)}finally{He=c,He===0&&(Ma=Xe()+500,od&&Ws())}}function ao(s){Js!==null&&Js.tag===0&&(He&6)===0&&Oa();var o=He;He|=1;var c=Kn.transition,p=Ue;try{if(Kn.transition=null,Ue=1,s)return s()}finally{Ue=p,Kn.transition=c,He=o,(He&6)===0&&Ws()}}function hm(){Dn=Da.current,rt(Da)}function lo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,jC(c)),bt!==null)for(c=bt.return;c!==null;){var p=c;switch(_p(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&sd();break;case 3:Ra(),rt(gn),rt(Qt),Dp();break;case 5:Np(p);break;case 4:Ra();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:Cp(p.type._context);break;case 22:case 23:hm()}c=c.return}if(Vt=s,bt=s=ei(s.current,null),qt=Dn=o,jt=0,hc=null,im=Cd=oo=0,wn=fc=null,ro!==null){for(o=0;o<ro.length;o++)if(c=ro[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,x=c.pending;if(x!==null){var T=x.next;x.next=y,p.next=T}c.pending=p}ro=null}return s}function Lw(s,o){do{var c=bt;try{if(Ip(),gd.current=xd,yd){for(var p=ut.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}yd=!1}if(io=0,Ot=Nt=ut=null,oc=!1,ac=0,sm.current=null,c===null||c.return===null){jt=1,hc=o,bt=null;break}e:{var x=s,T=c.return,V=c,U=o;if(o=qt,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,ne=V,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=cw(T);if(de!==null){de.flags&=-257,uw(de,T,V,x,o),de.mode&1&&lw(x,K,o),o=de,U=K;var pe=o.updateQueue;if(pe===null){var ve=new Set;ve.add(U),o.updateQueue=ve}else pe.add(U);break e}else{if((o&1)===0){lw(x,K,o),fm();break e}U=Error(n(426))}}else if(ot&&V.mode&1){var vt=cw(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),uw(vt,T,V,x,o),Sp(Na(U,V));break e}}x=U=Na(U,V),jt!==4&&(jt=2),fc===null?fc=[x]:fc.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=ow(x,U,o);j0(x,W);break e;case 1:V=U;var q=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ys===null||!Ys.has(G)))){x.flags|=65536,o&=-o,x.lanes|=o;var oe=aw(x,V,o);j0(x,oe);break e}}x=x.return}while(x!==null)}Bw(c)}catch(we){o=we,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function Fw(){var s=Id.current;return Id.current=xd,s===null?xd:s}function fm(){(jt===0||jt===3||jt===2)&&(jt=4),Vt===null||(oo&268435455)===0&&(Cd&268435455)===0||Zs(Vt,qt)}function jd(s,o){var c=He;He|=2;var p=Fw();(Vt!==s||qt!==o)&&(fs=null,lo(s,o));do try{sA();break}catch(y){Lw(s,y)}while(!0);if(Ip(),He=c,Id.current=p,bt!==null)throw Error(n(261));return Vt=null,qt=0,jt}function sA(){for(;bt!==null;)Uw(bt)}function iA(){for(;bt!==null&&!Pu();)Uw(bt)}function Uw(s){var o=qw(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?Bw(s):bt=o,sm.current=null}function Bw(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=JC(c,o,Dn),c!==null){bt=c;return}}else{if(c=XC(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);jt===0&&(jt=5)}function co(s,o,c){var p=Ue,y=Kn.transition;try{Kn.transition=null,Ue=1,oA(s,o,c,p)}finally{Kn.transition=y,Ue=p}return null}function oA(s,o,c,p){do Oa();while(Js!==null);if((He&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Je(s,x),s===Vt&&(bt=Vt=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||kd||(kd=!0,Hw(Bn,function(){return Oa(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Kn.transition,Kn.transition=null;var T=Ue;Ue=1;var V=He;He|=4,sm.current=null,eA(s,c),Rw(c,s),IC(fp),Us=!!hp,fp=hp=null,s.current=c,tA(c),Yf(),He=V,Ue=T,Kn.transition=x}else s.current=c;if(kd&&(kd=!1,Js=s,Pd=y),x=s.pendingLanes,x===0&&(Ys=null),ju(c.stateNode),xn(s,Xe()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ad)throw Ad=!1,s=am,am=null,s;return(Pd&1)!==0&&s.tag!==0&&Oa(),x=s.pendingLanes,(x&1)!==0?s===lm?pc++:(pc=0,lm=s):pc=0,Ws(),null}function Oa(){if(Js!==null){var s=Ls(Pd),o=Kn.transition,c=Ue;try{if(Kn.transition=null,Ue=16>s?16:s,Js===null)var p=!1;else{if(s=Js,Js=null,Pd=0,(He&6)!==0)throw Error(n(331));var y=He;for(He|=4,fe=s.current;fe!==null;){var x=fe,T=x.child;if((fe.flags&16)!==0){var V=x.deletions;if(V!==null){for(var U=0;U<V.length;U++){var K=V[U];for(fe=K;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:dc(8,ne,x)}var re=ne.child;if(re!==null)re.return=ne,fe=re;else for(;fe!==null;){ne=fe;var te=ne.sibling,de=ne.return;if(Iw(ne),ne===K){fe=null;break}if(te!==null){te.return=de,fe=te;break}fe=de}}}var pe=x.alternate;if(pe!==null){var ve=pe.child;if(ve!==null){pe.child=null;do{var vt=ve.sibling;ve.sibling=null,ve=vt}while(ve!==null)}}fe=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,fe=T;else e:for(;fe!==null;){if(x=fe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:dc(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,fe=W;break e}fe=x.return}}var q=s.current;for(fe=q;fe!==null;){T=fe;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,fe=G;else e:for(T=q;fe!==null;){if(V=fe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Td(9,V)}}catch(we){ft(V,V.return,we)}if(V===T){fe=null;break e}var oe=V.sibling;if(oe!==null){oe.return=V.return,fe=oe;break e}fe=V.return}}if(He=y,Ws(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Wi,s)}catch{}p=!0}return p}finally{Ue=c,Kn.transition=o}}return!1}function zw(s,o,c){o=Na(c,o),o=ow(s,o,1),s=Ks(s,o,1),o=cn(),s!==null&&(Os(s,1,o),xn(s,o))}function ft(s,o,c){if(s.tag===3)zw(s,s,c);else for(;o!==null;){if(o.tag===3){zw(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))){s=Na(c,s),s=aw(o,s,1),o=Ks(o,s,1),s=cn(),o!==null&&(Os(o,1,s),xn(o,s));break}}o=o.return}}function aA(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=cn(),s.pingedLanes|=s.suspendedLanes&c,Vt===s&&(qt&c)===c&&(jt===4||jt===3&&(qt&130023424)===qt&&500>Xe()-om?lo(s,0):im|=c),xn(s,o)}function $w(s,o){o===0&&((s.mode&1)===0?o=1:(o=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var c=cn();s=us(s,o),s!==null&&(Os(s,o,c),xn(s,c))}function lA(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),$w(s,c)}function cA(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),$w(s,c)}var qw;qw=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||gn.current)vn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return vn=!1,YC(s,o,c);vn=(s.flags&131072)!==0}else vn=!1,ot&&(o.flags&1048576)!==0&&b0(o,ld,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;bd(s,o),s=o.pendingProps;var y=Sa(o,Qt.current);Pa(o,c),y=Vp(null,o,p,s,y,c);var x=Lp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(p)?(x=!0,id(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Pp(o),y.updater=_d,o.stateNode=y,y._reactInternals=o,qp(o,p,s,c),o=Kp(null,o,p,!0,x,c)):(o.tag=0,ot&&x&&xp(o),ln(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(bd(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=dA(p),s=fr(p,s),y){case 0:o=Gp(null,o,p,s,c);break e;case 1:o=gw(null,o,p,s,c);break e;case 11:o=dw(null,o,p,s,c);break e;case 14:o=hw(null,o,p,fr(p.type,s),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),Gp(s,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),gw(s,o,p,y,c);case 3:e:{if(yw(o),s===null)throw Error(n(387));p=o.pendingProps,x=o.memoizedState,y=x.element,N0(s,o),pd(o,p,null,c);var T=o.memoizedState;if(p=T.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Na(Error(n(423)),o),o=vw(s,o,p,c,y);break e}else if(p!==y){y=Na(Error(n(424)),o),o=vw(s,o,p,c,y);break e}else for(jn=$s(o.stateNode.containerInfo.firstChild),Nn=o,ot=!0,hr=null,c=P0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ca(),p===y){o=hs(s,o,c);break e}ln(s,o,p,c)}o=o.child}return o;case 5:return M0(o),s===null&&bp(o),p=o.type,y=o.pendingProps,x=s!==null?s.memoizedProps:null,T=y.children,pp(p,y)?T=null:x!==null&&pp(p,x)&&(o.flags|=32),mw(s,o),ln(s,o,T,c),o.child;case 6:return s===null&&bp(o),null;case 13:return ww(s,o,c);case 4:return Rp(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=Aa(o,null,p,c):ln(s,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),dw(s,o,p,y,c);case 7:return ln(s,o,o.pendingProps,c),o.child;case 8:return ln(s,o,o.pendingProps.children,c),o.child;case 12:return ln(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,x=o.memoizedProps,T=y.value,Ze(dd,p._currentValue),p._currentValue=T,x!==null)if(dr(x.value,T)){if(x.children===y.children&&!gn.current){o=hs(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var V=x.dependencies;if(V!==null){T=x.child;for(var U=V.firstContext;U!==null;){if(U.context===p){if(x.tag===1){U=ds(-1,c&-c),U.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?U.next=U:(U.next=ne.next,ne.next=U),K.pending=U}}x.lanes|=c,U=x.alternate,U!==null&&(U.lanes|=c),Ap(x.return,c,o),V.lanes|=c;break}U=U.next}}else if(x.tag===10)T=x.type===o.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(n(341));T.lanes|=c,V=T.alternate,V!==null&&(V.lanes|=c),Ap(T,c,o),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===o){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}ln(s,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,Pa(o,c),y=Wn(y),p=p(y),o.flags|=1,ln(s,o,p,c),o.child;case 14:return p=o.type,y=fr(p,o.pendingProps),y=fr(p.type,y),hw(s,o,p,y,c);case 15:return fw(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),bd(s,o),o.tag=1,yn(p)?(s=!0,id(o)):s=!1,Pa(o,c),sw(o,p,y),qp(o,p,y,c),Kp(null,o,p,!0,s,c);case 19:return _w(s,o,c);case 22:return pw(s,o,c)}throw Error(n(156,o.tag))};function Hw(s,o){return ra(s,o)}function uA(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,c,p){return new uA(s,o,c,p)}function pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dA(s){if(typeof s=="function")return pm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===We)return 14}return 2}function ei(s,o){var c=s.alternate;return c===null?(c=Qn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Dd(s,o,c,p,y,x){var T=2;if(p=s,typeof s=="function")pm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case F:return uo(c.children,y,x,o);case P:T=8,y|=8;break;case O:return s=Qn(12,c,o,y|2),s.elementType=O,s.lanes=x,s;case D:return s=Qn(13,c,o,y),s.elementType=D,s.lanes=x,s;case me:return s=Qn(19,c,o,y),s.elementType=me,s.lanes=x,s;case De:return Md(c,y,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:T=10;break e;case $:T=9;break e;case N:T=11;break e;case We:T=14;break e;case Se:T=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Qn(T,c,o,y),o.elementType=s,o.type=p,o.lanes=x,o}function uo(s,o,c,p){return s=Qn(7,s,p,o),s.lanes=c,s}function Md(s,o,c,p){return s=Qn(22,s,p,o),s.elementType=De,s.lanes=c,s.stateNode={isHidden:!1},s}function mm(s,o,c){return s=Qn(6,s,null,o),s.lanes=c,s}function gm(s,o,c){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function hA(s,o,c,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ms(0),this.expirationTimes=Ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ym(s,o,c,p,y,x,T,V,U){return s=new hA(s,o,c,V,U),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Qn(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(x),s}function fA(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function Ww(s){if(!s)return Hs;s=s._reactInternals;e:{if(sr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(yn(c))return x0(s,c,o)}return o}function Gw(s,o,c,p,y,x,T,V,U){return s=ym(c,p,!0,s,y,x,T,V,U),s.context=Ww(null),c=s.current,p=cn(),y=Xs(c),x=ds(p,y),x.callback=o??null,Ks(c,x,y),s.current.lanes=y,Os(s,y,p),xn(s,p),s}function Od(s,o,c,p){var y=o.current,x=cn(),T=Xs(y);return c=Ww(c),o.context===null?o.context=c:o.pendingContext=c,o=ds(x,T),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=Ks(y,o,T),s!==null&&(gr(s,y,T,x),fd(s,y,T)),T}function Vd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function vm(s,o){Kw(s,o),(s=s.alternate)&&Kw(s,o)}function pA(){return null}var Qw=typeof reportError=="function"?reportError:function(s){console.error(s)};function wm(s){this._internalRoot=s}Ld.prototype.render=wm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Od(s,o,null,null)},Ld.prototype.unmount=wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ao(function(){Od(null,s,null,null)}),o[os]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Pr.length&&o!==0&&o<Pr[c].priority;c++);Pr.splice(c,0,s),c===0&&Bu(s)}};function xm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function mA(s,o,c,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var K=Vd(T);x.call(K)}}var T=Gw(o,p,s,0,null,!1,!1,"",Yw);return s._reactRootContainer=T,s[os]=T.current,Xl(s.nodeType===8?s.parentNode:s),ao(),T}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var K=Vd(U);V.call(K)}}var U=ym(s,0,!1,null,null,!1,!1,"",Yw);return s._reactRootContainer=U,s[os]=U.current,Xl(s.nodeType===8?s.parentNode:s),ao(function(){Od(o,U,c,p)}),U}function Ud(s,o,c,p,y){var x=c._reactRootContainer;if(x){var T=x;if(typeof y=="function"){var V=y;y=function(){var U=Vd(T);V.call(U)}}Od(o,T,s,y)}else T=mA(c,o,s,y,p);return Vd(T)}Ou=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ds(o.pendingLanes);c!==0&&(Vs(o,c|1),xn(o,Xe()),(He&6)===0&&(Ma=Xe()+500,Ws()))}break;case 13:ao(function(){var p=us(s,1);if(p!==null){var y=cn();gr(p,s,1,y)}}),vm(s,1)}},oa=function(s){if(s.tag===13){var o=us(s,134217728);if(o!==null){var c=cn();gr(o,s,134217728,c)}vm(s,134217728)}},Vu=function(s){if(s.tag===13){var o=Xs(s),c=us(s,o);if(c!==null){var p=cn();gr(c,s,o,p)}vm(s,o)}},Lu=function(){return Ue},Fu=function(s,o){var c=Ue;try{return Ue=s,o()}finally{Ue=c}},Jo=function(s,o,c){switch(o){case"input":if(bl(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var y=rd(p);if(!y)throw Error(n(90));Oi(p),bl(p,y)}}}break;case"textarea":Qo(s,c);break;case"select":o=c.value,o!=null&&Xr(s,!!c.multiple,o,!1)}},Bi=dm,jl=ao;var gA={usingClientEntryPoint:!1,Events:[tc,Ea,rd,Ar,Nl,dm]},mc={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yA={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ol(s),s===null?null:s.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Wi=Bd.inject(yA),An=Bd}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA,_n.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(o))throw Error(n(200));return fA(s,o,null,c)},_n.createRoot=function(s,o){if(!xm(s))throw Error(n(299));var c=!1,p="",y=Qw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=ym(s,1,!1,null,null,c,!1,p,y),s[os]=o.current,Xl(s.nodeType===8?s.parentNode:s),new wm(o)},_n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ol(o),s=s===null?null:s.stateNode,s},_n.flushSync=function(s){return ao(s)},_n.hydrate=function(s,o,c){if(!Fd(o))throw Error(n(200));return Ud(null,s,o,!0,c)},_n.hydrateRoot=function(s,o,c){if(!xm(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,x="",T=Qw;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=Gw(o,null,s,1,c??null,y,!1,x,T),s[os]=o.current,Xl(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Ld(o)},_n.render=function(s,o,c){if(!Fd(o))throw Error(n(200));return Ud(null,s,o,!1,c)},_n.unmountComponentAtNode=function(s){if(!Fd(s))throw Error(n(40));return s._reactRootContainer?(ao(function(){Ud(null,null,s,!1,function(){s._reactRootContainer=null,s[os]=null})}),!0):!1},_n.unstable_batchedUpdates=dm,_n.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!Fd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ud(s,o,c,!1,p)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var sx;function BE(){if(sx)return bm.exports;sx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bm.exports=IA(),bm.exports}var ix;function CA(){if(ix)return zd;ix=1;var t=BE();return zd.createRoot=t.createRoot,zd.hydrateRoot=t.hydrateRoot,zd}var AA=CA();const kA=UE(AA);BE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const ox="popstate";function PA(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return ag("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xh(i)}return NA(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RA(){return Math.random().toString(36).substr(2,8)}function ax(t,e){return{usr:t.state,key:t.key,idx:e}}function ag(t,e,n,r){return n===void 0&&(n=null),Uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||RA()})}function xh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=di.Pop,h=null,m=g();m==null&&(m=0,l.replaceState(Uc({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=di.Pop;let b=g(),M=b==null?null:b-m;m=b,h&&h({action:u,location:C.location,delta:M})}function _(b,M){u=di.Push;let j=ag(C.location,b,M);m=g()+1;let R=ax(j,m),L=C.createHref(j);try{l.pushState(R,"",L)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(L)}a&&h&&h({action:u,location:C.location,delta:1})}function I(b,M){u=di.Replace;let j=ag(C.location,b,M);m=g();let R=ax(j,m),L=C.createHref(j);l.replaceState(R,"",L),a&&h&&h({action:u,location:C.location,delta:0})}function S(b){let M=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof b=="string"?b:xh(b);return j=j.replace(/ $/,"%20"),_t(M,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,M)}let C={get action(){return u},get location(){return t(i,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(ox,v),h=b,()=>{i.removeEventListener(ox,v),h=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let M=S(b);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:I,go(b){return l.go(b)}};return C}var lx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lx||(lx={}));function jA(t,e,n){return n===void 0&&(n="/"),DA(t,e,n)}function DA(t,e,n,r){let i=typeof e=="string"?cl(e):e,a=py(i.pathname||"/",n);if(a==null)return null;let l=$E(t);MA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=GA(a);u=qA(l[h],m)}return u}function $E(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=fi([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),$E(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:zA(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of qE(a.path))i(a,l,h)}),e}function qE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=qE(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function MA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$A(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OA=/^:[\w-]+$/,VA=3,LA=2,FA=1,UA=10,BA=-2,cx=t=>t==="*";function zA(t,e){let n=t.split("/"),r=n.length;return n.some(cx)&&(r+=BA),e&&(r+=LA),n.filter(i=>!cx(i)).reduce((i,a)=>i+(OA.test(a)?VA:a===""?FA:UA),r)}function $A(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qA(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=HA({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),_=h.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:fi([a,v.pathname]),pathnameBase:JA(fi([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=fi([a,v.pathnameBase]))}return l}function HA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,g,v)=>{let{paramName:_,isOptional:I}=g;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[v];return I&&!S?m[_]=void 0:m[_]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function WA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function py(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:QA(n,e):e,search:XA(r),hash:ZA(i)}}function QA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Im(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function my(t,e){let n=YA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=Uc({},t),_t(!i.pathname||!i.pathname.includes("?"),Im("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Im("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Im("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=KA(i,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),JA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ek(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HE=["post","put","patch","delete"];new Set(HE);const tk=["get",...HE];new Set(tk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}const yy=A.createContext(null),nk=A.createContext(null),Pi=A.createContext(null),tf=A.createContext(null),Ri=A.createContext({outlet:null,matches:[],isDataRoute:!1}),WE=A.createContext(null);function rk(t,e){let{relative:n}=e===void 0?{}:e;ul()||_t(!1);let{basename:r,navigator:i}=A.useContext(Pi),{hash:a,pathname:l,search:u}=KE(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:fi([r,l])),i.createHref({pathname:h,search:u,hash:a})}function ul(){return A.useContext(tf)!=null}function Vo(){return ul()||_t(!1),A.useContext(tf).location}function GE(t){A.useContext(Pi).static||A.useLayoutEffect(t)}function dl(){let{isDataRoute:t}=A.useContext(Ri);return t?gk():sk()}function sk(){ul()||_t(!1);let t=A.useContext(yy),{basename:e,future:n,navigator:r}=A.useContext(Pi),{matches:i}=A.useContext(Ri),{pathname:a}=Vo(),l=JSON.stringify(my(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return GE(()=>{u.current=!0}),A.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let v=gy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,a,t])}function KE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Pi),{matches:i}=A.useContext(Ri),{pathname:a}=Vo(),l=JSON.stringify(my(i,r.v7_relativeSplatPath));return A.useMemo(()=>gy(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function ik(t,e){return ok(t,e)}function ok(t,e,n,r){ul()||_t(!1);let{navigator:i}=A.useContext(Pi),{matches:a}=A.useContext(Ri),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=Vo(),g;if(e){var v;let b=typeof e=="string"?cl(e):e;h==="/"||(v=b.pathname)!=null&&v.startsWith(h)||_t(!1),g=b}else g=m;let _=g.pathname||"/",I=_;if(h!=="/"){let b=h.replace(/^\//,"").split("/");I="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=jA(t,{pathname:I}),C=dk(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:fi([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:fi([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&C?A.createElement(tf.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:di.Pop}},C):C}function ak(){let t=mk(),e=ek(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const lk=A.createElement(ak,null);class ck extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ri.Provider,{value:this.props.routeContext},A.createElement(WE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uk(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(yy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ri.Provider,{value:e},r)}function dk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||_t(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:I}=n,S=v.route.loader&&_[v.route.id]===void 0&&(!I||I[v.route.id]===void 0);if(v.route.lazy||S){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let I,S=!1,C=null,b=null;n&&(I=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||lk,h&&(m<0&&_===0?(yk("route-fallback"),S=!0,b=null):m===_&&(S=!0,b=v.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,_+1)),j=()=>{let R;return I?R=C:S?R=b:v.route.Component?R=A.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=g,A.createElement(uk,{match:v,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:R})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?A.createElement(ck,{location:n.location,revalidation:n.revalidation,component:C,error:I,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):j()},null)}var QE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(QE||{}),YE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(YE||{});function hk(t){let e=A.useContext(yy);return e||_t(!1),e}function fk(t){let e=A.useContext(nk);return e||_t(!1),e}function pk(t){let e=A.useContext(Ri);return e||_t(!1),e}function JE(t){let e=pk(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function mk(){var t;let e=A.useContext(WE),n=fk(),r=JE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gk(){let{router:t}=hk(QE.UseNavigateStable),e=JE(YE.UseNavigateStable),n=A.useRef(!1);return GE(()=>{n.current=!0}),A.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bc({fromRouteId:e},a)))},[t,e])}const ux={};function yk(t,e,n){ux[t]||(ux[t]=!0)}function vk(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function vy(t){let{to:e,replace:n,state:r,relative:i}=t;ul()||_t(!1);let{future:a,static:l}=A.useContext(Pi),{matches:u}=A.useContext(Ri),{pathname:h}=Vo(),m=dl(),g=gy(e,my(u,a.v7_relativeSplatPath),h,i==="path"),v=JSON.stringify(g);return A.useEffect(()=>m(JSON.parse(v),{replace:n,state:r,relative:i}),[m,v,i,n,r]),null}function yr(t){_t(!1)}function wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:a,static:l=!1,future:u}=t;ul()&&_t(!1);let h=e.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:a,static:l,future:Bc({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=cl(r));let{pathname:g="/",search:v="",hash:_="",state:I=null,key:S="default"}=r,C=A.useMemo(()=>{let b=py(g,h);return b==null?null:{location:{pathname:b,search:v,hash:_,state:I,key:S},navigationType:i}},[h,g,v,_,I,S,i]);return C==null?null:A.createElement(Pi.Provider,{value:m},A.createElement(tf.Provider,{children:n,value:C}))}function xk(t){let{children:e,location:n}=t;return ik(lg(e),n)}new Promise(()=>{});function lg(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let a=[...e,i];if(r.type===A.Fragment){n.push.apply(n,lg(r.props.children,a));return}r.type!==yr&&_t(!1),!r.props.index||!r.props.children||_t(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lg(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function _k(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ek(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bk(t,e){return t.button===0&&(!e||e==="_self")&&!Ek(t)}function ug(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Sk(t,e){let n=ug(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const Tk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ik="6";try{window.__reactRouterVersion=Ik}catch{}const Ck="startTransition",dx=bA[Ck];function Ak(t){let{basename:e,children:n,future:r,window:i}=t,a=A.useRef();a.current==null&&(a.current=PA({window:i,v5Compat:!0}));let l=a.current,[u,h]=A.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=A.useCallback(v=>{m&&dx?dx(()=>h(v)):h(v)},[h,m]);return A.useLayoutEffect(()=>l.listen(g),[l,g]),A.useEffect(()=>vk(r),[r]),A.createElement(wk,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:g,viewTransition:v}=e,_=_k(e,Tk),{basename:I}=A.useContext(Pi),S,C=!1;if(typeof m=="string"&&Pk.test(m)&&(S=m,kk))try{let R=new URL(window.location.href),L=m.startsWith("//")?new URL(R.protocol+m):new URL(m),J=py(L.pathname,I);L.origin===R.origin&&J!=null?m=J+L.search+L.hash:C=!0}catch{}let b=rk(m,{relative:i}),M=Rk(m,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:v});function j(R){r&&r(R),R.defaultPrevented||M(R)}return A.createElement("a",cg({},_,{href:S||b,onClick:C||a?r:j,ref:n,target:h}))});var hx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hx||(hx={}));var fx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fx||(fx={}));function Rk(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=dl(),m=Vo(),g=KE(t,{relative:l});return A.useCallback(v=>{if(bk(v,n)){v.preventDefault();let _=r!==void 0?r:xh(m)===xh(g);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,g,r,i,n,t,a,l,u])}function Nk(t){let e=A.useRef(ug(t)),n=A.useRef(!1),r=Vo(),i=A.useMemo(()=>Sk(r.search,n.current?null:e.current),[r.search]),a=dl(),l=A.useCallback((u,h)=>{const m=ug(typeof u=="function"?u(i):u);n.current=!0,a("?"+m,h)},[a,i]);return[i,l]}var iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jk={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Dk=class{#e=jk;#n=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},dg=new Dk;function Mk(t){setTimeout(t,0)}var nf=typeof window>"u"||"Deno"in globalThis;function Xn(){}function Ok(t,e){return typeof t=="function"?t(e):t}function Vk(t){return typeof t=="number"&&t>=0&&t!==1/0}function Lk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hg(t,e){return typeof t=="function"?t(e):t}function Fk(t,e){return typeof t=="function"?t(e):t}function px(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==wy(l,e.options))return!1}else if(!zc(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function mx(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Co(e.options.mutationKey)!==Co(a))return!1}else if(!zc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function wy(t,e){return(e?.queryKeyHashFn||Co)(t)}function Co(t){return JSON.stringify(t,(e,n)=>fg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>zc(t[n],e[n])):!1}var Uk=Object.prototype.hasOwnProperty;function XE(t,e){if(t===e)return t;const n=gx(t)&&gx(e);if(!n&&!(fg(t)&&fg(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),l=a.length,u=n?new Array(l):{};let h=0;for(let m=0;m<l;m++){const g=n?m:a[m],v=t[g],_=e[g];if(v===_){u[g]=v,(n?m<i:Uk.call(t,g))&&h++;continue}if(v===null||_===null||typeof v!="object"||typeof _!="object"){u[g]=_;continue}const I=XE(v,_);u[g]=I,I===v&&h++}return i===l&&h===i?t:u}function Bk(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function gx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fg(t){if(!yx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yx(t){return Object.prototype.toString.call(t)==="[object Object]"}function zk(t){return new Promise(e=>{dg.setTimeout(e,t)})}function $k(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XE(t,e):e}function qk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Hk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xy=Symbol();function ZE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===xy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Wk(t,e){return typeof t=="function"?t(...e):!!t}var Gk=class extends iu{#e;#n;#t;constructor(){super(),this.#t=t=>{if(!nf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},eb=new Gk;function Kk(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Qk=Mk;function Yk(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=Qk;const a=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Wt=Yk(),Jk=class extends iu{#e=!0;#n;#t;constructor(){super(),this.#t=t=>{if(!nf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(t){this.#t=t,this.#n?.(),this.#n=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},_h=new Jk;function Xk(t){return Math.min(1e3*2**t,3e4)}function tb(t){return(t??"online")==="online"?_h.isOnline():!0}var pg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function nb(t){let e=!1,n=0,r;const i=Kk(),a=()=>i.status!=="pending",l=C=>{if(!a()){const b=new pg(C);_(b),t.onCancel?.(b)}},u=()=>{e=!0},h=()=>{e=!1},m=()=>eb.isFocused()&&(t.networkMode==="always"||_h.isOnline())&&t.canRun(),g=()=>tb(t.networkMode)&&t.canRun(),v=C=>{a()||(r?.(),i.resolve(C))},_=C=>{a()||(r?.(),i.reject(C))},I=()=>new Promise(C=>{r=b=>{(a()||m())&&C(b)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),S=()=>{if(a())return;let C;const b=n===0?t.initialPromise:void 0;try{C=b??t.fn()}catch(M){C=Promise.reject(M)}Promise.resolve(C).then(v).catch(M=>{if(a())return;const j=t.retry??(nf?0:3),R=t.retryDelay??Xk,L=typeof R=="function"?R(n,M):R,J=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,M);if(e||!J){_(M);return}n++,t.onFail?.(n,M),zk(L).then(()=>m()?void 0:I()).then(()=>{e?_(M):S()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?S():I().then(S),i)}}var rb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vk(this.gcTime)&&(this.#e=dg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(dg.clearTimeout(this.#e),this.#e=void 0)}},Zk=class extends rb{#e;#n;#t;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#t=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=vx(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=vx(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(e,n){const r=$k(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Fk(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>hg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Lk(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const h=ZE(this.options,n),g=(()=>{const v={client:this.#s,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#a=!1,this.options.persister?this.options.persister(h,g,this):h(g)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return i(h),h})();this.options.behavior?.onFetch(u,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=nb({initialPromise:n?.initialPromise,fn:u.fetchFn,onCancel:h=>{h instanceof pg&&h.revert&&this.setState({...this.#n,fetchStatus:"idle"}),r.abort()},onFail:(h,m)=>{this.#i({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#r.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#t.config.onSuccess?.(h,this),this.#t.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof pg){if(h.silent)return this.#r.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#t.config.onError?.(h,this),this.#t.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eP(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:e})})}};function eP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function wx(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=ZE(e.options,e.fetchOptions),I=async(S,C,b)=>{if(g)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const se={client:e.client,queryKey:e.queryKey,pageParam:C,direction:b?"backward":"forward",meta:e.options.meta};return v(se),se})(),R=await _(j),{maxPages:L}=e.options,J=b?Hk:qk;return{pages:J(S.pages,R,L),pageParams:J(S.pageParams,C,L)}};if(i&&a.length){const S=i==="backward",C=S?tP:xx,b={pages:a,pageParams:l},M=C(r,b);u=await I(b,M,S)}else{const S=t??a.length;do{const C=h===0?l[0]??r.initialPageParam:xx(r,u);if(h>0&&C==null)break;u=await I(u,C),h++}while(h<S)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function xx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function tP(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var nP=class extends rb{#e;#n;#t;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#n=[],this.state=e.state||sb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#n.includes(e)||(this.#n.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#n=this.#n.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=nb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",a=!this.#s.canStart();try{if(i)n();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this,r),await this.options.onError?.(l,e,this.state.context,r),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,l,e,this.state.context,r),l}finally{this.#r({type:"error",error:l})}}finally{this.#t.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#n.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function sb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rP=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(t,e,n){const r=new nP({client:t,mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=$d(t);if(typeof e=="string"){const n=this.#n.get(e);n?n.push(t):this.#n.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=$d(t);if(typeof e=="string"){const n=this.#n.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#n.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=$d(t);if(typeof e=="string"){const r=this.#n.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=$d(t);return typeof e=="string"?this.#n.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>mx(e,n))}findAll(t={}){return this.getAll().filter(e=>mx(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function $d(t){return t.options.scope?.id}var sP=class extends iu{#e;#n=void 0;#t;#s;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Bk(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),n?.mutationKey&&this.options.mutationKey&&Co(n.mutationKey)!==Co(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#o(e)}getCurrentResult(){return this.#n}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#o()}mutate(e,n){return this.#s=n,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){const e=this.#t?.state??sb();this.#n={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Wt.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#n.variables,r=this.#n.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,n,r,i),this.#s.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#s.onError?.(e.error,n,r,i),this.#s.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#n)})})}},iP=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??wy(r,e);let a=this.get(i);return a||(a=new Zk({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>px(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>px(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ib=class{#e;#n;#t;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new iP,this.#n=t.mutationCache||new rP,this.#t=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=eb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=_h.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#n.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(hg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=Ok(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Xn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(hg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=wx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=wx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _h.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(t){this.#t=t}setQueryDefaults(t,e){this.#s.set(Co(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Co(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#t.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#t.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},ob=A.createContext(void 0),oP=t=>{const e=A.useContext(ob);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ab=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(ob.Provider,{value:t,children:e}));function aP(t,e){const n=oP(),[r]=A.useState(()=>new sP(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const i=A.useSyncExternalStore(A.useCallback(l=>r.subscribe(Wt.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=A.useCallback((l,u)=>{r.mutate(l,u).catch(Xn)},[r]);if(i.error&&Wk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}let lP={data:""},cP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lP,uP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dP=/\/\*[^]*?\*\/|  +/g,_x=/\n+/g,ai=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?ai(l,a):a+"{"+ai(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ai(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ai.p?ai.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ps={},lb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+lb(t[n]);return e}return t},hP=(t,e,n,r,i)=>{let a=lb(t),l=ps[a]||(ps[a]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(a));if(!ps[l]){let h=a!==t?t:(m=>{let g,v,_=[{}];for(;g=uP.exec(m.replace(dP,""));)g[4]?_.shift():g[3]?(v=g[3].replace(_x," ").trim(),_.unshift(_[0][v]=_[0][v]||{})):_[0][g[1]]=g[2].replace(_x," ").trim();return _[0]})(t);ps[l]=ai(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let u=n&&ps.g?ps.g:null;return n&&(ps.g=ps[l]),((h,m,g,v)=>{v?m.data=m.data.replace(v,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ps[l],e,r,u),l},fP=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let u=l(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":ai(u,""):u===!1?"":u}return r+i+(l??"")},"");function rf(t){let e=this||{},n=t.call?t(e.p):t;return hP(n.unshift?n.raw?fP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,cP(e.target),e.g,e.o,e.k)}let cb,mg,gg;rf.bind({g:1});let bs=rf.bind({k:1});function pP(t,e,n,r){ai.p=e,cb=t,mg=n,gg=r}function Ni(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let u=Object.assign({},a),h=u.className||i.className;n.p=Object.assign({theme:mg&&mg()},u),n.o=/ *go\d+/.test(h),u.className=rf.apply(n,r)+(h?" "+h:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),gg&&m[0]&&gg(u),cb(m,u)}return i}}var mP=t=>typeof t=="function",Eh=(t,e)=>mP(t)?t(e):t,gP=(()=>{let t=0;return()=>(++t).toString()})(),ub=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),yP=20,_y="default",db=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return db(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},nh=[],hb={toasts:[],pausedAt:void 0,settings:{toastLimit:yP}},Ur={},fb=(t,e=_y)=>{Ur[e]=db(Ur[e]||hb,t),nh.forEach(([n,r])=>{n===e&&r(Ur[e])})},pb=t=>Object.keys(Ur).forEach(e=>fb(t,e)),vP=t=>Object.keys(Ur).find(e=>Ur[e].toasts.some(n=>n.id===t)),sf=(t=_y)=>e=>{fb(e,t)},wP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xP=(t={},e=_y)=>{let[n,r]=A.useState(Ur[e]||hb),i=A.useRef(Ur[e]);A.useEffect(()=>(i.current!==Ur[e]&&r(Ur[e]),nh.push([e,r]),()=>{let l=nh.findIndex(([u])=>u===e);l>-1&&nh.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var u,h,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||t?.duration||wP[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...n,toasts:a}},_P=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||gP()}),ou=t=>(e,n)=>{let r=_P(e,t,n);return sf(r.toasterId||vP(r.id))({type:2,toast:r}),r.id},at=(t,e)=>ou("blank")(t,e);at.error=ou("error");at.success=ou("success");at.loading=ou("loading");at.custom=ou("custom");at.dismiss=(t,e)=>{let n={type:3,toastId:t};e?sf(e)(n):pb(n)};at.dismissAll=t=>at.dismiss(void 0,t);at.remove=(t,e)=>{let n={type:4,toastId:t};e?sf(e)(n):pb(n)};at.removeAll=t=>at.remove(void 0,t);at.promise=(t,e,n)=>{let r=at.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Eh(e.success,i):void 0;return a?at.success(a,{id:r,...n,...n?.success}):at.dismiss(r),i}).catch(i=>{let a=e.error?Eh(e.error,i):void 0;a?at.error(a,{id:r,...n,...n?.error}):at.dismiss(r)}),t};var EP=1e3,bP=(t,e="default")=>{let{toasts:n,pausedAt:r}=xP(t,e),i=A.useRef(new Map).current,a=A.useCallback((v,_=EP)=>{if(i.has(v))return;let I=setTimeout(()=>{i.delete(v),l({type:4,toastId:v})},_);i.set(v,I)},[]);A.useEffect(()=>{if(r)return;let v=Date.now(),_=n.map(I=>{if(I.duration===1/0)return;let S=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(S<0){I.visible&&at.dismiss(I.id);return}return setTimeout(()=>at.dismiss(I.id,e),S)});return()=>{_.forEach(I=>I&&clearTimeout(I))}},[n,r,e]);let l=A.useCallback(sf(e),[e]),u=A.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=A.useCallback((v,_)=>{l({type:1,toast:{id:v,height:_}})},[l]),m=A.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=A.useCallback((v,_)=>{let{reverseOrder:I=!1,gutter:S=8,defaultPosition:C}=_||{},b=n.filter(R=>(R.position||C)===(v.position||C)&&R.height),M=b.findIndex(R=>R.id===v.id),j=b.filter((R,L)=>L<M&&R.visible).length;return b.filter(R=>R.visible).slice(...I?[j+1]:[0,j]).reduce((R,L)=>R+(L.height||0)+S,0)},[n]);return A.useEffect(()=>{n.forEach(v=>{if(v.dismissed)a(v.id,v.removeDelay);else{let _=i.get(v.id);_&&(clearTimeout(_),i.delete(v.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:h,startPause:u,endPause:m,calculateOffset:g}}},SP=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,TP=bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IP=bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,CP=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,AP=bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kP=Ni("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${AP} 1s linear infinite;
`,PP=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,RP=bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,NP=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${RP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jP=Ni("div")`
  position: absolute;
`,DP=Ni("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MP=bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OP=Ni("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(OP,null,e):e:n==="blank"?null:A.createElement(DP,null,A.createElement(kP,{...r}),n!=="loading"&&A.createElement(jP,null,n==="error"?A.createElement(CP,{...r}):A.createElement(NP,{...r})))},LP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,FP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,UP="0%{opacity:0;} 100%{opacity:1;}",BP="0%{opacity:1;} 100%{opacity:0;}",zP=Ni("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$P=Ni("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qP=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=ub()?[UP,BP]:[LP(n),FP(n)];return{animation:e?`${bs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},HP=A.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?qP(t.position||e||"top-center",t.visible):{opacity:0},a=A.createElement(VP,{toast:t}),l=A.createElement($P,{...t.ariaProps},Eh(t.message,t));return A.createElement(zP,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):A.createElement(A.Fragment,null,a,l))});pP(A.createElement);var WP=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=A.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;r(t,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:a,className:e,style:n},i)},GP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ub()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},KP=rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qd=16,mb=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:l,containerClassName:u})=>{let{toasts:h,handlers:m}=bP(n,a);return A.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:qd,left:qd,right:qd,bottom:qd,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let v=g.position||e,_=m.calculateOffset(g,{reverseOrder:t,gutter:r,defaultPosition:e}),I=GP(v,_);return A.createElement(WP,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?KP:"",style:I},g.type==="custom"?Eh(g.message,g):i?i(g):A.createElement(HP,{toast:g,position:v}))}))},hn=at;const QP=()=>{};var Ex={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|m>>6,I=m&63;h||(I=64,l||(_=64)),r.push(n[g],n[v],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||m==null||v==null)throw new JP;const _=a<<2|u>>4;if(r.push(_),m!==64){const I=u<<4&240|m>>2;if(r.push(I),v!==64){const S=m<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XP=function(t){const e=gb(t);return yb.encodeByteArray(e,!0)},bh=function(t){return XP(t).replace(/\./g,"")},vb=function(t){try{return yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>ZP().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof Ex>"u")return;const t=Ex.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vb(t[1]);return e&&JSON.parse(e)},of=()=>{try{return QP()||eR()||tR()||nR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wb=t=>of()?.emulatorHosts?.[t],rR=t=>{const e=wb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xb=()=>of()?.config,_b=t=>of()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bh(JSON.stringify(n)),bh(JSON.stringify(l)),""].join(".")}const kc={};function oR(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function aR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bx=!1;function bb(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||kc[t]===e||kc[t]||bx)return;kc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=oR().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,I){_.setAttribute("width","24"),_.setAttribute("id",I),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{bx=!0,l()},_}function g(_,I){_.setAttribute("id",I),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=aR(r),I=n("text"),S=document.getElementById(I)||document.createElement("span"),C=n("learnmore"),b=document.getElementById(C)||document.createElement("a"),M=n("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const R=_.element;u(R),g(b,C);const L=m();h(j,M),R.append(j,S,b,L),document.body.appendChild(R)}a?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function cR(){const t=of()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function pR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mR,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?gR(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Tr(i,u,r)}}function gR(t,e){return t.replace(yR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yR=/\{\$([^}]+)}/g;function vR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Sx(a)&&Sx(l)){if(!_i(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wR(t,e){const n=new xR(t,e);return n.subscribe.bind(n)}class xR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cm),i.error===void 0&&(i.error=Cm),i.complete===void 0&&(i.complete=Cm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,bR=2,SR=14400*1e3,TR=.5;function Tx(t,e=ER,n=bR){const r=e*Math.pow(n,t),i=Math.round(TR*r*(Math.random()-.5)*2);return Math.min(SR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AR(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(t){return t===mo?void 0:t}function AR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const PR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},RR=Ve.INFO,NR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},jR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class af{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const DR=(t,e)=>e.some(n=>t instanceof n);let Ix,Cx;function MR(){return Ix||(Ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,yg=new WeakMap,Ab=new WeakMap,Am=new WeakMap,Ey=new WeakMap;function VR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(pi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),Ey.set(e,t),e}function LR(t){if(yg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});yg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FR(t){vg=t(vg)}function UR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(km(this),e,...n);return Ab.set(r,e.sort?e.sort():[e]),pi(r)}:OR().includes(t)?function(...e){return t.apply(km(this),e),pi(Cb.get(this))}:function(...e){return pi(t.apply(km(this),e))}}function BR(t){return typeof t=="function"?UR(t):(t instanceof IDBTransaction&&LR(t),DR(t,MR())?new Proxy(t,vg):t)}function pi(t){if(t instanceof IDBRequest)return VR(t);if(Am.has(t))return Am.get(t);const e=BR(t);return e!==t&&(Am.set(t,e),Ey.set(e,t)),e}const km=t=>Ey.get(t);function kb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=pi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(pi(l.result),h.oldVersion,h.newVersion,pi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const zR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],Pm=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$R.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zR.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&h.done]))[0]};return Pm.set(e,a),a}FR(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HR(t){return t.getComponent()?.type==="VERSION"}const wg="@firebase/app",kx="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new af("@firebase/app"),WR="@firebase/app-compat",GR="@firebase/analytics-compat",KR="@firebase/analytics",QR="@firebase/app-check-compat",YR="@firebase/app-check",JR="@firebase/auth",XR="@firebase/auth-compat",ZR="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",rN="@firebase/functions-compat",sN="@firebase/installations",iN="@firebase/installations-compat",oN="@firebase/messaging",aN="@firebase/messaging-compat",lN="@firebase/performance",cN="@firebase/performance-compat",uN="@firebase/remote-config",dN="@firebase/remote-config-compat",hN="@firebase/storage",fN="@firebase/storage-compat",pN="@firebase/firestore",mN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",vN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="[DEFAULT]",wN={[wg]:"fire-core",[WR]:"fire-core-compat",[KR]:"fire-analytics",[GR]:"fire-analytics-compat",[YR]:"fire-app-check",[QR]:"fire-app-check-compat",[JR]:"fire-auth",[XR]:"fire-auth-compat",[ZR]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[rN]:"fire-fn-compat",[sN]:"fire-iid",[iN]:"fire-iid-compat",[oN]:"fire-fcm",[aN]:"fire-fcm-compat",[lN]:"fire-perf",[cN]:"fire-perf-compat",[uN]:"fire-rc",[dN]:"fire-rc-compat",[hN]:"fire-gcs",[fN]:"fire-gcs-compat",[pN]:"fire-fst",[gN]:"fire-fst-compat",[mN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,xN=new Map,_g=new Map;function Px(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){const e=t.name;if(_g.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const n of Sh.values())Px(n,t);for(const n of xN.values())Px(n,t);return!0}function Fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Lo("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=vN;function Eg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=xb()),!n)throw mi.create("no-options");const a=Sh.get(i);if(a){if(_i(n,a.options)&&_i(r,a.config))return a;throw mi.create("duplicate-app",{appName:i})}const l=new kR(i);for(const h of _g.values())l.addComponent(h);const u=new EN(n,r,l);return Sh.set(i,u),u}function by(t=xg){const e=Sh.get(t);if(!e&&t===xg&&xb())return Eg();if(!e)throw mi.create("no-app",{appName:t});return e}function er(t,e,n){let r=wN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(l.join(" "));return}Gr(new br(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",SN=1,$c="firebase-heartbeat-store";let Rm=null;function Pb(){return Rm||(Rm=kb(bN,SN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),Rm}async function TN(t){try{const n=(await Pb()).transaction($c),r=await n.objectStore($c).get(Rb(t));return await n.done,r}catch(e){if(e instanceof Tr)Ss.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}}async function Rx(t,e){try{const r=(await Pb()).transaction($c,"readwrite");await r.objectStore($c).put(e,Rb(t)),await r.done}catch(n){if(n instanceof Tr)Ss.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(r.message)}}}function Rb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,CN=30;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>CN){const i=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nx(),{heartbeatsToSend:n,unsentEntries:r}=kN(this._heartbeatsCache.heartbeats),i=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ss.warn(e),""}}}function Nx(){return new Date().toISOString().substring(0,10)}function kN(t,e=IN){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),jx(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jx(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}function RN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){Gr(new br("platform-logger",e=>new qR(e),"PRIVATE")),Gr(new br("heartbeat",e=>new AN(e),"PRIVATE")),er(wg,kx,t),er(wg,kx,"esm2020"),er("fire-js","")}NN("");function Nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=Nb,jb=new Lo("auth","Firebase",Nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new af("@firebase/auth");function DN(t,...e){Th.logLevel<=Ve.WARN&&Th.warn(`Auth (${fl}): ${t}`,...e)}function rh(t,...e){Th.logLevel<=Ve.ERROR&&Th.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw Ty(t,...e)}function xr(t,...e){return Ty(t,...e)}function Sy(t,e,n){const r={...jN(),[e]:n};return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function xs(t){return Sy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),Sy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ty(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jb.create(t,...e)}function Ie(t,e,...n){if(!t)throw Ty(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Ts(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){return typeof self<"u"&&self.location?.href||""}function ON(){return Dx()==="http:"||Dx()==="https:"}function Dx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ON()||Sb()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=lR()||dR()}get(){return VN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){Ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BN=new lu(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yr(t,e,n,r,i={}){return Mb(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=au({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...a};return uR()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(m.credentials="include"),Db.fetch()(await Ob(t,t.config.apiHost,n,u),m)})}async function Mb(t,e,n){t._canInitEmulator=!1;const r={...FN,...e};try{const i=new $N(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Hd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Hd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Hd(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Sy(t,g,m);tr(t,g)}}catch(i){if(i instanceof Tr)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function cu(t,e,n,r,i={}){const a=await Yr(t,e,n,r,i);return"mfaPendingCredential"in a&&tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ob(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Iy(t.config,i):`${t.config.apiScheme}://${i}`;return UN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function zN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),BN.get())})}}function Hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}function Mx(t){return t!==void 0&&t.enterprise!==void 0}class qN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HN(t,e){return Yr(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function Ih(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GN(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=Cy(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Pc(Nm(i.auth_time)),issuedAtTime:Pc(Nm(i.iat)),expirationTime:Pc(Nm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nm(t){return Number(t)*1e3}function Cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=vb(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ox(t){const e=Cy(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&KN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){const e=t.auth,n=await t.getIdToken(),r=await Xa(t,Ih(e,{idToken:n}));Ie(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Vb(i.providerUserInfo):[],l=JN(t.providerData,a),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,m=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Sg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function YN(t){const e=mt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Vb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){const n=await Mb(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await Ob(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(h.credentials="include"),Db.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZN(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ox(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Ox(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await XN(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ga;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Xa(this,WN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:I,providerData:S,stsTokenManager:C}=n;Ie(v&&C,e,"internal-error");const b=Ga.fromJSON(this.name,C);Ie(typeof v=="string",e,"internal-error"),ni(r,e.name),ni(i,e.name),Ie(typeof _=="boolean",e,"internal-error"),Ie(typeof I=="boolean",e,"internal-error"),ni(a,e.name),ni(l,e.name),ni(u,e.name),ni(h,e.name),ni(m,e.name),ni(g,e.name);const M=new wr({uid:v,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:b,createdAt:m,lastLoginAt:g});return S&&Array.isArray(S)&&(M.providerData=S.map(j=>({...j}))),h&&(M._redirectEventId=h),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ga;i.updateFromServerResponse(n);const a=new wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ch(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Vb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Ga;u.updateFromIdToken(r);const h=new wr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Map;function vs(t){Ts(t instanceof Function,"Expected a class definition");let e=Vx.get(t);return e?(Ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lb.type="NONE";const Lx=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,a),this.fullPersistenceKey=sh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ka(vs(Lx),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||vs(Lx);const l=sh(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const _=await Ih(e,{idToken:g}).catch(()=>{});if(!_)break;v=await wr._fromGetAccountInfoResponse(e,_,g)}else v=wr._fromJSON(e,g);m!==a&&(u=v),a=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ka(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Hb(e))return"Webos";if(Ub(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Fb(t=sn()){return/firefox\//i.test(t)}function Ub(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(t=sn()){return/crios\//i.test(t)}function zb(t=sn()){return/iemobile/i.test(t)}function $b(t=sn()){return/android/i.test(t)}function qb(t=sn()){return/blackberry/i.test(t)}function Hb(t=sn()){return/webos/i.test(t)}function Ay(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ej(t=sn()){return Ay(t)&&!!window.navigator?.standalone}function tj(){return hR()&&document.documentMode===10}function Wb(t=sn()){return Ay(t)||$b(t)||Hb(t)||qb(t)||/windows phone/i.test(t)||zb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e=[]){let n;switch(t){case"Browser":n=Fx(sn());break;case"Worker":n=`${Fx(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=6;class ij{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(xs(this));const n=e?mt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rj(this),n=new ij(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ps(t){return mt(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aj(t){lf=t}function Kb(t){return lf.loadJS(t)}function lj(){return lf.recaptchaEnterpriseScript}function cj(){return lf.gapiScript}function uj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dj{constructor(){this.enterprise=new hj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fj="recaptcha-enterprise",Qb="NO_RECAPTCHA";class pj{constructor(e){this.type=fj,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{HN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new qN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;Mx(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(Qb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dj().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&Mx(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=lj();h.length!==0&&(h+=u),Kb(h).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function Bx(t,e,n,r=!1,i=!1){const a=new pj(t);let l;if(i)l=Qb;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ah(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Bx(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Bx(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t,e){const n=Fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(_i(a,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function gj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yj(t,e,n){const r=Ps(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Yb(e),{host:l,port:u}=vj(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(_i(m,r.config.emulator)&&_i(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hl(l)?(Eb(`${a}//${l}${h}`),bb("Auth",!0)):wj()}function Yb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vj(t){const e=Yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:zx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:zx(l)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function xj(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return cu(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}async function Ej(t,e){return Yr(t,"POST","/v1/accounts:sendOobCode",ks(t,e))}async function bj(t,e){return Ej(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){return cu(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function Tj(t,e){return cu(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends ky{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(e,n,"signInWithPassword",_j);case"emailLink":return Sj(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ah(e,r,"signUpPassword",xj);case"emailLink":return Tj(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return cu(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class Ao extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Ao(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aj(t){const e=Ec(bc(t)).link,n=e?Ec(bc(e)).deep_link_id:null,r=Ec(bc(t)).deep_link_id;return(r?Ec(bc(r)).link:null)||r||n||e||t}class Py{constructor(e){const n=Ec(bc(e)),r=n.apiKey??null,i=n.oobCode??null,a=Cj(n.mode??null);Ie(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Aj(e);try{return new Py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Py.parseLink(n);return Ie(r,"argument-error"),qc._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Ry{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends uu{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ao._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends uu{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends uu{constructor(){super("twitter.com")}static credential(e,n){return Ao._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,e){return cu(t,"POST","/v1/accounts:signUp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wr._fromIdTokenResponse(e,r,i),l=$x(r);return new ko({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$x(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Tr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kh(e,n,r,i)}}function Jb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,a,e,r):a})}async function Pj(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(xs(r));const i="reauthenticate";try{const a=await Xa(t,Jb(r,i,e,t),n);Ie(a.idToken,r,"internal-error");const l=Cy(a.idToken);Ie(l,r,"internal-error");const{sub:u}=l;return Ie(t.uid===u,r,"user-mismatch"),ko._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,n=!1){if(On(t.app))return Promise.reject(xs(t));const r="signIn",i=await Jb(t,r,e),a=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Nj(t,e){return Xb(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jj(t,e,n){const r=Ps(t);await Ah(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bj)}async function Dj(t,e,n){if(On(t.app))return Promise.reject(xs(t));const r=Ps(t),l=await Ah(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&Zb(t),h}),u=await ko._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Mj(t,e,n){return On(t.app)?Promise.reject(xs(t)):Nj(mt(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Zb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e){return Yr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Xa(r,Oj(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Lj(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function Fj(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function Uj(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function Bj(t){return mt(t).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1e3,$j=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);tj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$j):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const qj=tS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nS.type="SESSION";const rS=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await Hj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=Ny("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Gj(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function Kj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qj(){return navigator?.serviceWorker?.controller||null}function Yj(){return sS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",Jj=1,Rh="firebaseLocalStorage",oS="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uf(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function Xj(){const t=indexedDB.deleteDatabase(iS);return new du(t).toPromise()}function Tg(){const t=indexedDB.open(iS,Jj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:oS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await Xj(),e(await Tg()))})})}async function qx(t,e,n){const r=uf(t,!0).put({[oS]:e,value:n});return new du(r).toPromise()}async function Zj(t,e){const n=uf(t,!1).get(e),r=await new du(n).toPromise();return r===void 0?null:r.value}function Hx(t,e){const n=uf(t,!0).delete(e);return new du(n).toPromise()}const eD=800,tD=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(Yj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kj(),!this.activeServiceWorker)return;this.sender=new Wj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await qx(e,Ph,"1"),await Hx(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=uf(i,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const nD=aS;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e){return e?vs(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rD(t){return Xb(t.auth,new jy(t),t.bypassAuthState)}function sD(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Rj(n,new jy(t),t.bypassAuthState)}async function iD(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Pj(n,new jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return iD;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:tr(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new lu(2e3,1e4);async function aD(t,e,n){if(On(t.app))return Promise.reject(xr(t,"operation-not-supported-in-this-environment"));const r=Ps(t);MN(t,e,Ry);const i=lS(r,n);return new wo(r,"signInViaPopup",e,i).executeNotNull()}class wo extends cS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oD.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",ih=new Map;class cD extends cS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),r=hD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dD(t,e){ih.set(t._key(),e)}function hD(t){return vs(t._redirectPersistence)}function fD(t){return sh(lD,t.config.apiKey,t.name)}async function pD(t,e,n=!1){if(On(t.app))return Promise.reject(xs(t));const r=Ps(t),i=lS(r,e),l=await new cD(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=600*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}saveEventToCache(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}function Wx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function yD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xD=/^https?/;async function _D(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vD(t);for(const n of e)try{if(ED(n))return}catch{}tr(t,"unauthorized-domain")}function ED(t){const e=bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!xD.test(n))return!1;if(wD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new lu(3e4,6e4);function Gx(){const t=Br().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SD(t){return new Promise((e,n)=>{function r(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n(xr(t,"network-request-failed"))},timeout:bD.get()})}if(Br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Br().gapi?.load)r();else{const i=uj("iframefcb");return Br()[i]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},Kb(`${cj()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw oh=null,e})}let oh=null;function TD(t){return oh=oh||SD(t),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new lu(5e3,15e3),CD="__/auth/iframe",AD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iy(e,AD):`https://${t.config.authDomain}/${CD}`,r={apiKey:e.apiKey,appName:t.name,v:fl},i=PD.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${au(r).slice(1)}`}async function ND(t){const e=await TD(t),n=Br().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:RD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=xr(t,"network-request-failed"),u=Br().setTimeout(()=>{a(l)},ID.get());function h(){Br().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,MD=600,OD="_blank",VD="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LD(t,e,n,r=DD,i=MD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...jD,width:r.toString(),height:i.toString(),top:a,left:l},m=sn().toLowerCase();n&&(u=Bb(m)?OD:n),Fb(m)&&(e=e||VD,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[I,S])=>`${_}${I}=${S},`,"");if(ej(m)&&u!=="_self")return FD(e||"",u),new Kx(null);const v=window.open(e||"",u,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new Kx(v)}function FD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",BD="emulator/auth/handler",zD=encodeURIComponent("fac");async function Qx(t,e,n,r,i,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:i};if(e instanceof Ry){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",vR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof uu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),m=h?`#${zD}=${encodeURIComponent(h)}`:"";return`${$D(t)}?${au(u).slice(1)}${m}`}function $D({config:t}){return t.emulator?Iy(t,BD):`https://${t.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=pD,this._overrideRedirectResult=dD}async _openPopup(e,n,r,i){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Qx(e,n,r,bg(),i);return LD(e,a,Ny())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Qx(e,n,r,bg(),i);return Gj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ts(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ND(e),r=new gD(e);return n.register("authEvent",i=>(Ie(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},i=>{const a=i?.[0]?.[jm];a!==void 0&&n(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Ub()||Ay()}}const HD=qD;var Yx="@firebase/auth",Jx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KD(t){Gr(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(t)},m=new oj(r,i,a,h);return gj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new br("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new WD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Yx,Jx,GD(t)),er(Yx,Jx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=300,YD=_b("authIdTokenMaxAge")||QD;let Xx=null;const JD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YD)return;const i=n?.token;Xx!==i&&(Xx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XD(t=by()){const e=Fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mj(t,{popupRedirectResolver:HD,persistence:[nD,qj,rS]}),r=_b("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=JD(a.toString());Fj(n,l,()=>l(n.currentUser)),Lj(n,u=>l(u))}}const i=wb("auth");return i&&yj(n,`http://${i}`),n}function ZD(){return document.getElementsByTagName("head")?.[0]??document}aj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=xr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",ZD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KD("Browser");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,dS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,P){function O(){}O.prototype=P.prototype,F.D=P.prototype,F.prototype=new O,F.prototype.constructor=F,F.C=function(B,$,N){for(var D=Array(arguments.length-2),me=2;me<arguments.length;me++)D[me-2]=arguments[me];return P.prototype[$].apply(B,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,P,O){O||(O=0);var B=Array(16);if(typeof P=="string")for(var $=0;16>$;++$)B[$]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for($=0;16>$;++$)B[$]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=F.g[0],O=F.g[1],$=F.g[2];var N=F.g[3],D=P+(N^O&($^N))+B[0]+3614090360&4294967295;P=O+(D<<7&4294967295|D>>>25),D=N+($^P&(O^$))+B[1]+3905402710&4294967295,N=P+(D<<12&4294967295|D>>>20),D=$+(O^N&(P^O))+B[2]+606105819&4294967295,$=N+(D<<17&4294967295|D>>>15),D=O+(P^$&(N^P))+B[3]+3250441966&4294967295,O=$+(D<<22&4294967295|D>>>10),D=P+(N^O&($^N))+B[4]+4118548399&4294967295,P=O+(D<<7&4294967295|D>>>25),D=N+($^P&(O^$))+B[5]+1200080426&4294967295,N=P+(D<<12&4294967295|D>>>20),D=$+(O^N&(P^O))+B[6]+2821735955&4294967295,$=N+(D<<17&4294967295|D>>>15),D=O+(P^$&(N^P))+B[7]+4249261313&4294967295,O=$+(D<<22&4294967295|D>>>10),D=P+(N^O&($^N))+B[8]+1770035416&4294967295,P=O+(D<<7&4294967295|D>>>25),D=N+($^P&(O^$))+B[9]+2336552879&4294967295,N=P+(D<<12&4294967295|D>>>20),D=$+(O^N&(P^O))+B[10]+4294925233&4294967295,$=N+(D<<17&4294967295|D>>>15),D=O+(P^$&(N^P))+B[11]+2304563134&4294967295,O=$+(D<<22&4294967295|D>>>10),D=P+(N^O&($^N))+B[12]+1804603682&4294967295,P=O+(D<<7&4294967295|D>>>25),D=N+($^P&(O^$))+B[13]+4254626195&4294967295,N=P+(D<<12&4294967295|D>>>20),D=$+(O^N&(P^O))+B[14]+2792965006&4294967295,$=N+(D<<17&4294967295|D>>>15),D=O+(P^$&(N^P))+B[15]+1236535329&4294967295,O=$+(D<<22&4294967295|D>>>10),D=P+($^N&(O^$))+B[1]+4129170786&4294967295,P=O+(D<<5&4294967295|D>>>27),D=N+(O^$&(P^O))+B[6]+3225465664&4294967295,N=P+(D<<9&4294967295|D>>>23),D=$+(P^O&(N^P))+B[11]+643717713&4294967295,$=N+(D<<14&4294967295|D>>>18),D=O+(N^P&($^N))+B[0]+3921069994&4294967295,O=$+(D<<20&4294967295|D>>>12),D=P+($^N&(O^$))+B[5]+3593408605&4294967295,P=O+(D<<5&4294967295|D>>>27),D=N+(O^$&(P^O))+B[10]+38016083&4294967295,N=P+(D<<9&4294967295|D>>>23),D=$+(P^O&(N^P))+B[15]+3634488961&4294967295,$=N+(D<<14&4294967295|D>>>18),D=O+(N^P&($^N))+B[4]+3889429448&4294967295,O=$+(D<<20&4294967295|D>>>12),D=P+($^N&(O^$))+B[9]+568446438&4294967295,P=O+(D<<5&4294967295|D>>>27),D=N+(O^$&(P^O))+B[14]+3275163606&4294967295,N=P+(D<<9&4294967295|D>>>23),D=$+(P^O&(N^P))+B[3]+4107603335&4294967295,$=N+(D<<14&4294967295|D>>>18),D=O+(N^P&($^N))+B[8]+1163531501&4294967295,O=$+(D<<20&4294967295|D>>>12),D=P+($^N&(O^$))+B[13]+2850285829&4294967295,P=O+(D<<5&4294967295|D>>>27),D=N+(O^$&(P^O))+B[2]+4243563512&4294967295,N=P+(D<<9&4294967295|D>>>23),D=$+(P^O&(N^P))+B[7]+1735328473&4294967295,$=N+(D<<14&4294967295|D>>>18),D=O+(N^P&($^N))+B[12]+2368359562&4294967295,O=$+(D<<20&4294967295|D>>>12),D=P+(O^$^N)+B[5]+4294588738&4294967295,P=O+(D<<4&4294967295|D>>>28),D=N+(P^O^$)+B[8]+2272392833&4294967295,N=P+(D<<11&4294967295|D>>>21),D=$+(N^P^O)+B[11]+1839030562&4294967295,$=N+(D<<16&4294967295|D>>>16),D=O+($^N^P)+B[14]+4259657740&4294967295,O=$+(D<<23&4294967295|D>>>9),D=P+(O^$^N)+B[1]+2763975236&4294967295,P=O+(D<<4&4294967295|D>>>28),D=N+(P^O^$)+B[4]+1272893353&4294967295,N=P+(D<<11&4294967295|D>>>21),D=$+(N^P^O)+B[7]+4139469664&4294967295,$=N+(D<<16&4294967295|D>>>16),D=O+($^N^P)+B[10]+3200236656&4294967295,O=$+(D<<23&4294967295|D>>>9),D=P+(O^$^N)+B[13]+681279174&4294967295,P=O+(D<<4&4294967295|D>>>28),D=N+(P^O^$)+B[0]+3936430074&4294967295,N=P+(D<<11&4294967295|D>>>21),D=$+(N^P^O)+B[3]+3572445317&4294967295,$=N+(D<<16&4294967295|D>>>16),D=O+($^N^P)+B[6]+76029189&4294967295,O=$+(D<<23&4294967295|D>>>9),D=P+(O^$^N)+B[9]+3654602809&4294967295,P=O+(D<<4&4294967295|D>>>28),D=N+(P^O^$)+B[12]+3873151461&4294967295,N=P+(D<<11&4294967295|D>>>21),D=$+(N^P^O)+B[15]+530742520&4294967295,$=N+(D<<16&4294967295|D>>>16),D=O+($^N^P)+B[2]+3299628645&4294967295,O=$+(D<<23&4294967295|D>>>9),D=P+($^(O|~N))+B[0]+4096336452&4294967295,P=O+(D<<6&4294967295|D>>>26),D=N+(O^(P|~$))+B[7]+1126891415&4294967295,N=P+(D<<10&4294967295|D>>>22),D=$+(P^(N|~O))+B[14]+2878612391&4294967295,$=N+(D<<15&4294967295|D>>>17),D=O+(N^($|~P))+B[5]+4237533241&4294967295,O=$+(D<<21&4294967295|D>>>11),D=P+($^(O|~N))+B[12]+1700485571&4294967295,P=O+(D<<6&4294967295|D>>>26),D=N+(O^(P|~$))+B[3]+2399980690&4294967295,N=P+(D<<10&4294967295|D>>>22),D=$+(P^(N|~O))+B[10]+4293915773&4294967295,$=N+(D<<15&4294967295|D>>>17),D=O+(N^($|~P))+B[1]+2240044497&4294967295,O=$+(D<<21&4294967295|D>>>11),D=P+($^(O|~N))+B[8]+1873313359&4294967295,P=O+(D<<6&4294967295|D>>>26),D=N+(O^(P|~$))+B[15]+4264355552&4294967295,N=P+(D<<10&4294967295|D>>>22),D=$+(P^(N|~O))+B[6]+2734768916&4294967295,$=N+(D<<15&4294967295|D>>>17),D=O+(N^($|~P))+B[13]+1309151649&4294967295,O=$+(D<<21&4294967295|D>>>11),D=P+($^(O|~N))+B[4]+4149444226&4294967295,P=O+(D<<6&4294967295|D>>>26),D=N+(O^(P|~$))+B[11]+3174756917&4294967295,N=P+(D<<10&4294967295|D>>>22),D=$+(P^(N|~O))+B[2]+718787259&4294967295,$=N+(D<<15&4294967295|D>>>17),D=O+(N^($|~P))+B[9]+3951481745&4294967295,F.g[0]=F.g[0]+P&4294967295,F.g[1]=F.g[1]+($+(D<<21&4294967295|D>>>11))&4294967295,F.g[2]=F.g[2]+$&4294967295,F.g[3]=F.g[3]+N&4294967295}r.prototype.u=function(F,P){P===void 0&&(P=F.length);for(var O=P-this.blockSize,B=this.B,$=this.h,N=0;N<P;){if($==0)for(;N<=O;)i(this,F,N),N+=this.blockSize;if(typeof F=="string"){for(;N<P;)if(B[$++]=F.charCodeAt(N++),$==this.blockSize){i(this,B),$=0;break}}else for(;N<P;)if(B[$++]=F[N++],$==this.blockSize){i(this,B),$=0;break}}this.h=$,this.o+=P},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var P=1;P<F.length-8;++P)F[P]=0;var O=8*this.o;for(P=F.length-8;P<F.length;++P)F[P]=O&255,O/=256;for(this.u(F),F=Array(16),P=O=0;4>P;++P)for(var B=0;32>B;B+=8)F[O++]=this.g[P]>>>B&255;return F};function a(F,P){var O=u;return Object.prototype.hasOwnProperty.call(O,F)?O[F]:O[F]=P(F)}function l(F,P){this.h=P;for(var O=[],B=!0,$=F.length-1;0<=$;$--){var N=F[$]|0;B&&N==P||(O[$]=N,B=!1)}this.g=O}var u={};function h(F){return-128<=F&&128>F?a(F,function(P){return new l([P|0],0>P?-1:0)}):new l([F|0],0>F?-1:0)}function m(F){if(isNaN(F)||!isFinite(F))return v;if(0>F)return b(m(-F));for(var P=[],O=1,B=0;F>=O;B++)P[B]=F/O|0,O*=4294967296;return new l(P,0)}function g(F,P){if(F.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(F.charAt(0)=="-")return b(g(F.substring(1),P));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(P,8)),B=v,$=0;$<F.length;$+=8){var N=Math.min(8,F.length-$),D=parseInt(F.substring($,$+N),P);8>N?(N=m(Math.pow(P,N)),B=B.j(N).add(m(D))):(B=B.j(O),B=B.add(m(D)))}return B}var v=h(0),_=h(1),I=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-b(this).m();for(var F=0,P=1,O=0;O<this.g.length;O++){var B=this.i(O);F+=(0<=B?B:4294967296+B)*P,P*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(S(this))return"0";if(C(this))return"-"+b(this).toString(F);for(var P=m(Math.pow(F,6)),O=this,B="";;){var $=L(O,P).g;O=M(O,$.j(P));var N=((0<O.g.length?O.g[0]:O.h)>>>0).toString(F);if(O=$,S(O))return N+B;for(;6>N.length;)N="0"+N;B=N+B}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function S(F){if(F.h!=0)return!1;for(var P=0;P<F.g.length;P++)if(F.g[P]!=0)return!1;return!0}function C(F){return F.h==-1}t.l=function(F){return F=M(this,F),C(F)?-1:S(F)?0:1};function b(F){for(var P=F.g.length,O=[],B=0;B<P;B++)O[B]=~F.g[B];return new l(O,~F.h).add(_)}t.abs=function(){return C(this)?b(this):this},t.add=function(F){for(var P=Math.max(this.g.length,F.g.length),O=[],B=0,$=0;$<=P;$++){var N=B+(this.i($)&65535)+(F.i($)&65535),D=(N>>>16)+(this.i($)>>>16)+(F.i($)>>>16);B=D>>>16,N&=65535,D&=65535,O[$]=D<<16|N}return new l(O,O[O.length-1]&-2147483648?-1:0)};function M(F,P){return F.add(b(P))}t.j=function(F){if(S(this)||S(F))return v;if(C(this))return C(F)?b(this).j(b(F)):b(b(this).j(F));if(C(F))return b(this.j(b(F)));if(0>this.l(I)&&0>F.l(I))return m(this.m()*F.m());for(var P=this.g.length+F.g.length,O=[],B=0;B<2*P;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var $=0;$<F.g.length;$++){var N=this.i(B)>>>16,D=this.i(B)&65535,me=F.i($)>>>16,We=F.i($)&65535;O[2*B+2*$]+=D*We,j(O,2*B+2*$),O[2*B+2*$+1]+=N*We,j(O,2*B+2*$+1),O[2*B+2*$+1]+=D*me,j(O,2*B+2*$+1),O[2*B+2*$+2]+=N*me,j(O,2*B+2*$+2)}for(B=0;B<P;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=P;B<2*P;B++)O[B]=0;return new l(O,0)};function j(F,P){for(;(F[P]&65535)!=F[P];)F[P+1]+=F[P]>>>16,F[P]&=65535,P++}function R(F,P){this.g=F,this.h=P}function L(F,P){if(S(P))throw Error("division by zero");if(S(F))return new R(v,v);if(C(F))return P=L(b(F),P),new R(b(P.g),b(P.h));if(C(P))return P=L(F,b(P)),new R(b(P.g),P.h);if(30<F.g.length){if(C(F)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var O=_,B=P;0>=B.l(F);)O=J(O),B=J(B);var $=se(O,1),N=se(B,1);for(B=se(B,2),O=se(O,2);!S(B);){var D=N.add(B);0>=D.l(F)&&($=$.add(O),N=D),B=se(B,1),O=se(O,1)}return P=M(F,$.j(P)),new R($,P)}for($=v;0<=F.l(P);){for(O=Math.max(1,Math.floor(F.m()/P.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),N=m(O),D=N.j(P);C(D)||0<D.l(F);)O-=B,N=m(O),D=N.j(P);S(N)&&(N=_),$=$.add(N),F=M(F,D)}return new R($,F)}t.A=function(F){return L(this,F).h},t.and=function(F){for(var P=Math.max(this.g.length,F.g.length),O=[],B=0;B<P;B++)O[B]=this.i(B)&F.i(B);return new l(O,this.h&F.h)},t.or=function(F){for(var P=Math.max(this.g.length,F.g.length),O=[],B=0;B<P;B++)O[B]=this.i(B)|F.i(B);return new l(O,this.h|F.h)},t.xor=function(F){for(var P=Math.max(this.g.length,F.g.length),O=[],B=0;B<P;B++)O[B]=this.i(B)^F.i(B);return new l(O,this.h^F.h)};function J(F){for(var P=F.g.length+1,O=[],B=0;B<P;B++)O[B]=F.i(B)<<1|F.i(B-1)>>>31;return new l(O,F.h)}function se(F,P){var O=P>>5;P%=32;for(var B=F.g.length-O,$=[],N=0;N<B;N++)$[N]=0<P?F.i(N+O)>>>P|F.i(N+O+1)<<32-P:F.i(N+O);return new l($,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,gi=l}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hS,Sc,fS,ah,Ig,pS,mS,gS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,E){return d==Array.prototype||d==Object.prototype||(d[w]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<d.length;++w){var E=d[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var E=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var H=d[k];if(!(H in E))break e;E=E[H]}d=d[d.length-1],k=E[d],w=w(k),w!=k&&w!=null&&e(E,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var E=0,k=!1,H={next:function(){if(!k&&E<d.length){var Y=E++;return{value:w(Y,d[Y]),done:!1}}return k=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function m(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function g(d,w,E){return d.call.apply(d.bind,arguments)}function v(d,w,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,k),d.apply(w,H)}}return function(){return d.apply(w,arguments)}}function _(d,w,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function I(d,w){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function S(d,w){function E(){}E.prototype=w.prototype,d.aa=w.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,H,Y){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return w.prototype[H].apply(k,ae)}}function C(d){const w=d.length;if(0<w){const E=Array(w);for(let k=0;k<w;k++)E[k]=d[k];return E}return[]}function b(d,w){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(h(k)){const H=d.length||0,Y=k.length||0;d.length=H+Y;for(let ae=0;ae<Y;ae++)d[H+ae]=k[ae]}else d.push(k)}}class M{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function j(d){return/^[\s\xa0]*$/.test(d)}function R(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function L(d){return L[" "](d),d}L[" "]=function(){};var J=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function se(d,w,E){for(const k in d)w.call(E,d[k],k,d)}function F(d,w){for(const E in d)w.call(void 0,d[E],E,d)}function P(d){const w={};for(const E in d)w[E]=d[E];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,w){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)d[E]=k[E];for(let Y=0;Y<O.length;Y++)E=O[Y],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function $(d){var w=1;d=d.split(":");const E=[];for(;0<w&&d.length;)E.push(d.shift()),w--;return d.length&&E.push(d.join(":")),E}function N(d){u.setTimeout(()=>{throw d},0)}function D(){var d=ge;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class me{constructor(){this.h=this.g=null}add(w,E){const k=We.get();k.set(w,E),this.h?this.h.next=k:this.g=k,this.h=k}}var We=new M(()=>new Se,d=>d.reset());class Se{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ie=!1,ge=new me,ce=()=>{const d=u.Promise.resolve(void 0);De=()=>{d.then(z)}};var z=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){N(E)}var w=We;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}ie=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,w),u.removeEventListener("test",E,w)}catch{}return d})();function Re(d,w){if(ye.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(J){e:{try{L(w.nodeName);var H=!0;break e}catch{}H=!1}H||(w=null)}}else E=="mouseover"?w=d.fromElement:E=="mouseout"&&(w=d.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}S(Re,ye);var Me={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ke(d,w,E,k,H){this.listener=d,this.proxy=null,this.src=w,this.type=E,this.capture=!!k,this.ha=H,this.key=++qe,this.da=this.fa=!1}function lt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ut(d){this.src=d,this.g={},this.h=0}Ut.prototype.add=function(d,w,E,k,H){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=Rs(d,w,k,H);return-1<ae?(w=d[ae],E||(w.fa=!1)):(w=new Ke(w,this.src,Y,!!k,H),w.fa=E,d.push(w)),w};function Oi(d,w){var E=w.type;if(E in d.g){var k=d.g[E],H=Array.prototype.indexOf.call(k,w,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(k,H,1),Y&&(lt(w),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Rs(d,w,E,k){for(var H=0;H<d.length;++H){var Y=d[H];if(!Y.da&&Y.listener==w&&Y.capture==!!E&&Y.ha==k)return H}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),Wo={};function El(d,w,E,k,H){if(Array.isArray(w)){for(var Y=0;Y<w.length;Y++)El(d,w[Y],E,k,H);return null}return E=Tl(E),d&&d[Be]?d.K(w,E,m(k)?!!k.capture:!1,H):bl(d,w,E,!1,k,H)}function bl(d,w,E,k,H,Y){if(!w)throw Error("Invalid event type");var ae=m(H)?!!H.capture:!!H,Ye=Ko(d);if(Ye||(d[Vi]=Ye=new Ut(d)),E=Ye.add(w,E,k,ae,Y),E.proxy)return E;if(k=Cu(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)Ae||(H=ae),H===void 0&&(H=!1),d.addEventListener(w.toString(),k,H);else if(d.attachEvent)d.attachEvent(Xr(w.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Cu(){function d(E){return w.call(d.src,d.listener,E)}const w=Sl;return d}function Go(d,w,E,k,H){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)Go(d,w[Y],E,k,H);else k=m(k)?!!k.capture:!!k,E=Tl(E),d&&d[Be]?(d=d.i,w=String(w).toString(),w in d.g&&(Y=d.g[w],E=Rs(Y,E,k,H),-1<E&&(lt(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[w],d.h--)))):d&&(d=Ko(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Rs(w,E,k,H)),(E=-1<d?w[d]:null)&&Jr(E))}function Jr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Be])Oi(w.i,d);else{var E=d.type,k=d.proxy;w.removeEventListener?w.removeEventListener(E,k,d.capture):w.detachEvent?w.detachEvent(Xr(E),k):w.addListener&&w.removeListener&&w.removeListener(k),(E=Ko(w))?(Oi(E,d),E.h==0&&(E.src=null,w[Vi]=null)):lt(d)}}}function Xr(d){return d in Wo?Wo[d]:Wo[d]="on"+d}function Sl(d,w){if(d.da)d=!0;else{w=new Re(w,this);var E=d.listener,k=d.ha||d.src;d.fa&&Jr(d),d=E.call(k,w)}return d}function Ko(d){return d=d[Vi],d instanceof Ut?d:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(d){return typeof d=="function"?d:(d[Qo]||(d[Qo]=function(w){return d.handleEvent(w)}),d[Qo])}function kt(){X.call(this),this.i=new Ut(this),this.M=this,this.F=null}S(kt,X),kt.prototype[Be]=!0,kt.prototype.removeEventListener=function(d,w,E,k){Go(this,d,w,E,k)};function Pt(d,w){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=w.type||w,typeof w=="string")w=new ye(w,d);else if(w instanceof ye)w.target=w.target||d;else{var H=w;w=new ye(k,d),B(w,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ae=w.g=E[Y];H=Zr(ae,k,!0,w)&&H}if(ae=w.g=d,H=Zr(ae,k,!0,w)&&H,H=Zr(ae,k,!1,w)&&H,E)for(Y=0;Y<E.length;Y++)ae=w.g=E[Y],H=Zr(ae,k,!1,w)&&H}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var E=d.g[w],k=0;k<E.length;k++)lt(E[k]);delete d.g[w],d.h--}}this.F=null},kt.prototype.K=function(d,w,E,k){return this.i.add(String(d),w,!1,E,k)},kt.prototype.L=function(d,w,E,k){return this.i.add(String(d),w,!0,E,k)};function Zr(d,w,E,k){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var H=!0,Y=0;Y<w.length;++Y){var ae=w[Y];if(ae&&!ae.da&&ae.capture==E){var Ye=ae.listener,Rt=ae.ha||ae.src;ae.fa&&Oi(d.i,ae),H=Ye.call(Rt,k)!==!1&&H}}return H&&!k.defaultPrevented}function Il(d,w,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(d,w||0)}function Ns(d){d.g=Il(()=>{d.g=null,d.i&&(d.i=!1,Ns(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Li extends X{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(d){X.call(this),this.h=d,this.g={}}S(Fi,X);var Cl=[];function Al(d){se(d.g,function(w,E){this.g.hasOwnProperty(E)&&Jr(w)},d),d.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),Al(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kl=u.JSON.stringify,Pl=u.JSON.parse,Rl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ui(){}Ui.prototype.h=null;function Yo(d){return d.h||(d.h=d.i())}function Jo(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){ye.call(this,"d")}S(Cr,ye);function Xo(){ye.call(this,"c")}S(Xo,ye);var Ar={},Nl=null;function Bi(){return Nl=Nl||new kt}Ar.La="serverreachability";function jl(d){ye.call(this,Ar.La,d)}S(jl,ye);function es(d){const w=Bi();Pt(w,new jl(w))}Ar.STAT_EVENT="statevent";function Dl(d,w){ye.call(this,Ar.STAT_EVENT,d),this.stat=w}S(Dl,ye);function yt(d){const w=Bi();Pt(w,new Dl(w,d))}Ar.Ma="timingevent";function Zo(d,w){ye.call(this,Ar.Ma,d),this.size=w}S(Zo,ye);function nr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function $i(d,w,E,k,H,Y){d.info(function(){if(d.g)if(Y)for(var ae="",Ye=Y.split("&"),Rt=0;Rt<Ye.length;Rt++){var ze=Ye[Rt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var Et=Mt.split("_");ae=2<=Et.length&&Et[1]=="type"?ae+(Mt+"="+ze+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+w+`
`+E+`
`+ae})}function ea(d,w,E,k,H,Y,ae){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+w+`
`+E+`
`+Y+" "+ae})}function rr(d,w,E,k){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Qf(d,E)+(k?" "+k:"")})}function Ml(d,w){d.info(function(){return"TIMEOUT: "+w})}zi.prototype.info=function(){};function Qf(d,w){if(!d.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var H=k[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return kl(E)}catch{return w}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function qi(){}S(qi,Ui),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},sr=new qi;function ir(d,w,E,k){this.j=d,this.i=w,this.l=E,this.R=k||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ku}function ku(){this.i=null,this.g="",this.h=!1}var Ol={},na={};function ra(d,w,E){d.L=1,d.v=Vs(kn(w)),d.m=E,d.P=!0,Vl(d,null)}function Vl(d,w){d.F=Date.now(),Xe(d),d.A=kn(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Fs(E.i,"t",k),d.C=0,E=d.j.J,d.h=new ku,d.g=Gu(d.j,E?w:null,!d.m),0<d.O&&(d.M=new Li(_(d.Y,d,d.g),d.O)),w=d.U,E=d.g,k=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Cl[0]=H.toString()),H=Cl);for(var Y=0;Y<H.length;Y++){var ae=El(E,H[Y],k||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),es(),$i(d.i,d.u,d.A,d.l,d.R,d.m)}ir.prototype.ca=function(d){d=d.target;const w=this.M;w&&mn(d)==3?w.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const Et=mn(this.g);var w=this.g.Ba();const $n=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Et!=4||w==7||(w==8||0>=$n?es(3):es(2)),Hi(this);var E=this.g.Z();this.X=E;t:if(Pu(this)){var k=$l(this.g);d="";var H=k.length,Y=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),js(this);var ae="";break t}this.h.i=new u.TextDecoder}for(w=0;w<H;w++)this.h.h=!0,d+=this.h.i.decode(k[w],{stream:!(Y&&w==H-1)});k.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,ea(this.i,this.u,this.A,this.l,this.R,Et,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Rt=this.g;if((Ye=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ye)){var ze=Ye;break t}}ze=null}if(E=ze)rr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ll(this,E);else{this.o=!1,this.s=3,yt(12),Bn(this),js(this);break e}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<ae.length;)if(Rn=Yf(this,ae),Rn==na){Et==4&&(this.s=4,yt(14),E=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Ol){this.s=4,yt(15),rr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else rr(this.i,this.l,Rn,null),Ll(this,Rn);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)rr(this.i,this.l,ae,"[Invalid Chunked Response]"),Bn(this),js(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Hl(Mt),Mt.M=!0,yt(11))}}else rr(this.i,this.l,ae,null),Ll(this,ae);Et==4&&Bn(this),this.o&&!this.J&&(Et==4?pa(this.j,this):(this.o=!1,Xe(this)))}else ca(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Bn(this),js(this)}}}catch{}finally{}};function Pu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yf(d,w){var E=d.C,k=w.indexOf(`
`,E);return k==-1?na:(E=Number(w.substring(E,k)),isNaN(E)?Ol:(k+=1,k+E>w.length?na:(w=w.slice(k,k+E),d.C=k+E,w)))}ir.prototype.cancel=function(){this.J=!0,Bn(this)};function Xe(d){d.S=Date.now()+d.I,Ru(d,d.I)}function Ru(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nr(_(d.ba,d),w)}function Hi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}ir.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ml(this.i,this.A),this.L!=2&&(es(),yt(17)),Bn(this),this.s=2,js(this)):Ru(this,this.S-d)};function js(d){d.j.G==0||d.J||pa(d.j,d)}function Bn(d){Hi(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Al(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Ll(d,w){try{var E=d.j;if(E.G!=0&&(E.g==d||on(E.h,d))){if(!d.K&&on(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)fa(E),ur(E);else break e;ha(E),yt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=nr(_(E.Za,E),6e3));if(1>=ju(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else is(E,11)}else if((d.K||E.g==d)&&fa(E),!j(w))for(H=E.Da.g.parse(w),w=0;w<H.length;w++){let ze=H[w];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Mt=ze[3];Mt!=null&&(E.la=Mt,E.j.info("VER="+E.la));const Et=ze[4];Et!=null&&(E.Aa=Et,E.j.info("SVER="+E.Aa));const $n=ze[5];$n!=null&&typeof $n=="number"&&0<$n&&(k=1.5*$n,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const Rn=d.g;if(Rn){const Xi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var Y=k.h;Y.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fl(Y,Y.h),Y.h=null))}if(k.D){const ga=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(k.ya=ga,Je(k.I,k.D,ga))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var ae=d;if(k.qa=Wu(k,k.J?k.ia:null,k.W),ae.K){Du(k.h,ae);var Ye=ae,Rt=k.L;Rt&&(Ye.I=Rt),Ye.B&&(Hi(Ye),Xe(Ye)),k.g=ae}else Ji(k);0<E.i.length&&Nr(E)}else ze[0]!="stop"&&ze[0]!="close"||is(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?is(E,7):zt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}es(4)}catch{}}var Nu=class{constructor(d,w){this.g=d,this.map=w}};function Wi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ju(d){return d.h?1:d.g?d.g.size:0}function on(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Fl(d,w){d.g?d.g.add(w):d.h=w}function Du(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Wi.prototype.cancel=function(){if(this.i=Mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Mu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const E of d.g.values())w=w.concat(E.D);return w}return C(d.i)}function sa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var w=[],E=d.length,k=0;k<E;k++)w.push(d[k]);return w}w=[],E=0;for(k in d)w[E++]=d[k];return w}function ia(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var w=[];d=d.length;for(var E=0;E<d;E++)w.push(E);return w}w=[],E=0;for(const k in d)w[E++]=k;return w}}}function Ds(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var E=ia(d),k=sa(d),H=k.length,Y=0;Y<H;Y++)w.call(void 0,k[Y],E&&E[Y],d)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jf(d,w){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),H=null;if(0<=k){var Y=d[E].substring(0,k);H=d[E].substring(k+1)}else Y=d[E];w(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ts(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ts){this.h=d.h,Ki(this,d.j),this.o=d.o,this.g=d.g,Ms(this,d.s),this.l=d.l;var w=d.i,E=new kr;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),Os(this,E),this.m=d.m}else d&&(w=String(d).match(Gi))?(this.h=!1,Ki(this,w[1]||"",!0),this.o=Ue(w[2]||""),this.g=Ue(w[3]||"",!0),Ms(this,w[4]),this.l=Ue(w[5]||"",!0),Os(this,w[6]||"",!0),this.m=Ue(w[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}ts.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Ls(w,oa,!0),":");var E=this.g;return(E||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Ls(w,oa,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ls(E,E.charAt(0)=="/"?Lu:Vu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ls(E,Ul)),d.join("")};function kn(d){return new ts(d)}function Ki(d,w,E){d.j=E?Ue(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Ms(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Os(d,w,E){w instanceof kr?(d.i=w,Pr(d.i,d.h)):(E||(w=Ls(w,Fu)),d.i=new kr(w,d.h))}function Je(d,w,E){d.i.set(w,E)}function Vs(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ls(d,w,E){return typeof d=="string"?(d=encodeURI(d).replace(w,Ou),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ou(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oa=/[#\/\?@]/g,Vu=/[#\?:]/g,Lu=/[#\?]/g,Fu=/[#\?@]/g,Ul=/#/g;function kr(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Bt(d){d.g||(d.g=new Map,d.h=0,d.i&&Jf(d.i,function(w,E){d.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=kr.prototype,t.add=function(d,w){Bt(this),this.i=null,d=zn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(w),this.h+=1,this};function or(d,w){Bt(d),w=zn(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ar(d,w){return Bt(d),w=zn(d,w),d.g.has(w)}t.forEach=function(d,w){Bt(this),this.g.forEach(function(E,k){E.forEach(function(H){d.call(w,H,k,this)},this)},this)},t.na=function(){Bt(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let k=0;k<w.length;k++){const H=d[k];for(let Y=0;Y<H.length;Y++)E.push(w[k])}return E},t.V=function(d){Bt(this);let w=[];if(typeof d=="string")ar(this,d)&&(w=w.concat(this.g.get(zn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)w=w.concat(d[E])}return w},t.set=function(d,w){return Bt(this),this.i=null,d=zn(this,d),ar(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Fs(d,w,E){or(d,w),0<E.length&&(d.i=null,d.g.set(zn(d,w),C(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var k=w[E];const Y=encodeURIComponent(String(k)),ae=this.V(k);for(k=0;k<ae.length;k++){var H=Y;ae[k]!==""&&(H+="="+encodeURIComponent(String(ae[k]))),d.push(H)}}return this.i=d.join("&")};function zn(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Pr(d,w){w&&!d.j&&(Bt(d),d.i=null,d.g.forEach(function(E,k){var H=k.toLowerCase();k!=H&&(or(this,k),Fs(this,H,E))},d)),d.j=w}function Xf(d,w){const E=new zi;if(u.Image){const k=new Image;k.onload=I(pn,E,"TestLoadImage: loaded",!0,w,k),k.onerror=I(pn,E,"TestLoadImage: error",!1,w,k),k.onabort=I(pn,E,"TestLoadImage: abort",!1,w,k),k.ontimeout=I(pn,E,"TestLoadImage: timeout",!1,w,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else w(!1)}function Uu(d,w){const E=new zi,k=new AbortController,H=setTimeout(()=>{k.abort(),pn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:k.signal}).then(Y=>{clearTimeout(H),Y.ok?pn(E,"TestPingServer: ok",!0,w):pn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(H),pn(E,"TestPingServer: error",!1,w)})}function pn(d,w,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function Zf(){this.g=new Rl}function Bu(d,w,E){const k=E||"";try{Ds(d,function(H,Y){let ae=H;m(H)&&(ae=kl(H)),w.push(k+Y+"="+encodeURIComponent(ae))})}catch(H){throw w.push(k+"type="+encodeURIComponent("_badmap")),H}}function ns(d){this.l=d.Ub||null,this.j=d.eb||!1}S(ns,Ui),ns.prototype.g=function(){return new Qi(this.l,this.j)},ns.prototype.i=(function(d){return function(){return d}})({});function Qi(d,w){kt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Qi,kt),t=Qi.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,cr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function zu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?lr(this):cr(this),this.readyState==3&&zu(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,lr(this))},t.Qa=function(d){this.g&&(this.response=d,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,cr(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=w.next();return d.join(`\r
`)};function cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rs(d){let w="";return se(d,function(E,k){w+=k,w+=":",w+=E,w+=`\r
`}),w}function Us(d,w,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=rs(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Je(d,w,E))}function it(d){kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,kt);var ep=/^https?$/i,Bl=["POST","PUT"];t=it.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Yo(this.o):Yo(sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(Y){Yi(this,Y);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())E.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Bl,w,void 0))||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Yi(this,Y)}};function Yi(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,aa(d),Pn(d)}function aa(d){d.A||(d.A=!0,Pt(d,"complete"),Pt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Pt(this,"complete"),Pt(this,"abort"),Pn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},t.bb=function(){zl(this)};function zl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||mn(d)!=4||d.Z()!=2)){if(d.u&&mn(d)==4)Il(d.Ea,0,d);else if(Pt(d,"readystatechange"),mn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var k;if(k=ae===0){var H=String(d.D).match(Gi)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),k=!ep.test(H?H.toLowerCase():"")}E=k}if(E)Pt(d,"complete"),Pt(d,"success");else{d.m=6;try{var Y=2<mn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",aa(d)}}finally{Pn(d)}}}}function Pn(d,w){if(d.g){la(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||Pt(d,"ready");try{E.onreadystatechange=k}catch{}}}function la(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function mn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Pl(w)}};function $l(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(d){const w={};d=(d.g&&2<=mn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(j(d[k]))continue;var E=$(d[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=w[H]||[];w[H]=Y,Y.push(E)}F(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(d,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||w}function ql(d){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,d),this.cb=Rr("retryDelaySeedMs",1e4,d),this.Wa=Rr("forwardChannelMaxRetries",2,d),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new Zf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(d,w,E,k){yt(0),this.W=d,this.H=w||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=Wu(this,null,this.W),Nr(this)};function zt(d){if(ua(d),d.G==3){var w=d.U++,E=kn(d.I);if(Je(E,"SID",d.K),Je(E,"RID",w),Je(E,"TYPE","terminate"),ss(d,E),w=new ir(d,d.j,w),w.L=2,w.v=Vs(kn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=w.v,E=!0),E||(w.g=Gu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Xe(w)}Hu(d)}function ur(d){d.g&&(Hl(d),d.g.cancel(),d.g=null)}function ua(d){ur(d),d.u&&(u.clearTimeout(d.u),d.u=null),fa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Nr(d){if(!An(d.h)&&!d.s){d.s=!0;var w=d.Ga;De||ce(),ie||(De(),ie=!0),ge.add(w,d),d.B=0}}function tp(d,w){return ju(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nr(_(d.Ga,d,w),qu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new ir(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=P(Y),B(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Bs(this,H,w),E=kn(this.I),Je(E,"RID",d),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),ss(this,E),Y&&(this.O?w="headers="+encodeURIComponent(String(rs(Y)))+"&"+w:this.m&&Us(E,this.m,Y)),Fl(this.h,H),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",w),Je(E,"SID","null"),H.T=!0,ra(H,E,null)):ra(H,E,w),this.G=2}}else this.G==3&&(d?da(this,d):this.i.length==0||An(this.h)||da(this))};function da(d,w){var E;w?E=w.l:E=d.U++;const k=kn(d.I);Je(k,"SID",d.K),Je(k,"RID",E),Je(k,"AID",d.T),ss(d,k),d.m&&d.o&&Us(k,d.m,d.o),E=new ir(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Bs(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Fl(d.h,E),ra(E,k,w)}function ss(d,w){d.H&&se(d.H,function(E,k){Je(w,k,E)}),d.l&&Ds({},function(E,k){Je(w,k,E)})}function Bs(d,w,E){E=Math.min(d.i.length,E);var k=d.l?_(d.l.Na,d.l,d):null;e:{var H=d.i;let Y=-1;for(;;){const ae=["count="+E];Y==-1?0<E?(Y=H[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ye=!0;for(let Rt=0;Rt<E;Rt++){let ze=H[Rt].g;const Mt=H[Rt].map;if(ze-=Y,0>ze)Y=Math.max(0,H[Rt].g-100),Ye=!1;else try{Bu(Mt,ae,"req"+ze+"_")}catch{k&&k(Mt)}}if(Ye){k=ae.join("&");break e}}}return d=d.i.splice(0,E),w.D=d,k}function Ji(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;De||ce(),ie||(De(),ie=!0),ge.add(w,d),d.v=0}}function ha(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nr(_(d.Fa,d),qu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nr(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ur(this),$u(this))};function Hl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function $u(d){d.g=new ir(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=kn(d.qa);Je(w,"RID","rpc"),Je(w,"SID",d.K),Je(w,"AID",d.T),Je(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(w,"TO",d.ja),Je(w,"TYPE","xmlhttp"),ss(d,w),d.m&&d.o&&Us(w,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Vs(kn(w)),E.m=null,E.P=!0,Vl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,ur(this),ha(this),yt(19))};function fa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function pa(d,w){var E=null;if(d.g==w){fa(d),Hl(d),d.g=null;var k=2}else if(on(d.h,w))E=w.D,Du(d.h,w),k=1;else return;if(d.G!=0){if(w.o)if(k==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var H=d.B;k=Bi(),Pt(k,new Zo(k,E)),Nr(d)}else Ji(d);else if(H=w.s,H==3||H==0&&0<w.X||!(k==1&&tp(d,w)||k==2&&ha(d)))switch(E&&0<E.length&&(w=d.h,w.i=w.i.concat(E)),H){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function qu(d,w){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*w}function is(d,w){if(d.j.info("Error code "+w),w==2){var E=_(d.fb,d),k=d.Xa;const H=!k;k=new ts(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ki(k,"https"),Vs(k),H?Xf(k.toString(),E):Uu(k.toString(),E)}else yt(2);d.G=0,d.l&&d.l.sa(w),Hu(d),ua(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Hu(d){if(d.G=0,d.ka=[],d.l){const w=Mu(d.h);(w.length!=0||d.i.length!=0)&&(b(d.ka,w),b(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Wu(d,w,E){var k=E instanceof ts?kn(E):new ts(E);if(k.g!="")w&&(k.g=w+"."+k.g),Ms(k,k.s);else{var H=u.location;k=H.protocol,w=w?w+"."+H.hostname:H.hostname,H=+H.port;var Y=new ts(null);k&&Ki(Y,k),w&&(Y.g=w),H&&Ms(Y,H),E&&(Y.l=E),k=Y}return E=d.D,w=d.ya,E&&w&&Je(k,E,w),Je(k,"VER",d.la),ss(d,k),k}function Gu(d,w,E){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new it(new ns({eb:E})):new it(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}t=Wl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ma(){}ma.prototype.g=function(d,w){return new an(d,w)};function an(d,w){kt.call(this),this.g=new ql(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!j(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new jr(this)}S(an,kt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){zt(this.g)},an.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=kl(d),d=E);w.i.push(new Nu(w.Ya++,d)),w.G==3&&Nr(w)},an.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,an.aa.N.call(this)};function Ku(d){Cr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const E in w){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}S(Ku,Cr);function Qu(){Xo.call(this),this.status=1}S(Qu,Xo);function jr(d){this.g=d}S(jr,Wl),jr.prototype.ua=function(){Pt(this.g,"a")},jr.prototype.ta=function(d){Pt(this.g,new Ku(d))},jr.prototype.sa=function(d){Pt(this.g,new Qu)},jr.prototype.ra=function(){Pt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,gS=function(){return new ma},mS=function(){return Bi()},pS=Ar,Ig={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,ah=ta,Au.COMPLETE="complete",fS=Au,Jo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Sc=Jo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,hS=it}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",t_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new af("@firebase/firestore");function Fa(){return Po.logLevel}function he(t,...e){if(Po.logLevel<=Ve.DEBUG){const n=e.map(Dy);Po.debug(`Firestore (${ml}): ${t}`,...n)}}function Is(t,...e){if(Po.logLevel<=Ve.ERROR){const n=e.map(Dy);Po.error(`Firestore (${ml}): ${t}`,...n)}}function Za(t,...e){if(Po.logLevel<=Ve.WARN){const n=e.map(Dy);Po.warn(`Firestore (${ml}): ${t}`,...n)}}function Dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yS(t,r,n)}function yS(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Is(r),new Error(r)}function Qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yS(e,i,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class tM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nM{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new vS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class rM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Cg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Dm(i)===Dm(a)?Le(i,a):Dm(i)?1:-1}return Le(t.length,e.length)}const aM=55296,lM=57343;function Dm(t){const e=t.charCodeAt(0);return e>=aM&&e<=lM}function el(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class Fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Fr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const r=Fr.isNumericId(e),i=Fr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):Cg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class et extends Fr{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const cM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Fr{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return cM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Gt([r_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ue(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ue(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ue(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(et.fromString(e))}static fromName(e){return new xe(et.fromString(e).popFirst(5))}static empty(){return new xe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e,n){if(!n)throw new ue(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uM(t,e,n,r){if(e===!0&&r===!0)throw new ue(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!xe.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i_(t){if(xe.isDocumentKey(t))throw new ue(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(t);throw new ue(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function hu(t,e){if(!xS(t))throw new ue(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ue(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,a_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a_);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o_)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new st(0,0))}static max(){return new Pe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function dM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Ei(i,xe.empty(),e)}function hM(t){return new Ei(t.readTime,t.key,Hc)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(Pe.min(),xe.empty(),Hc)}static max(){return new Ei(Pe.max(),xe.empty(),Hc)}}function fM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==pM)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(h=>r(h)))})),l=!0,a===i&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((i=>i?ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next((g=>{l[m]=g,++u,u===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new ee(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function gM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-1;function ff(t){return t==null}function Nh(t){return t===0&&1/t==-1/0}function yM(t){return typeof t=="number"&&Number.isInteger(t)&&!Nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="";function vM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l_(e)),e=wM(t.get(n),e);return l_(e)}function wM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case _S:n+="";break;default:n+=a}}return n}function l_(t){return t+_S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Dt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bS("Invalid base64 string: "+a):a}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const xM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=xM.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="server_timestamp",TS="__type__",IS="__previous_value__",CS="__local_write_time__";function Vy(t){return(t?.mapValue?.fields||{})[TS]?.stringValue===SS}function pf(t){const e=t.mapValue.fields[IS];return Vy(e)?pf(e):e}function Wc(t){const e=bi(t.mapValue.fields[CS].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,i,a,l,u,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const jh="(default)";class Gc{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="__type__",EM="__max__",Kd={mapValue:{}},kS="__vector__",Dh="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vy(t)?4:SM(t)?9007199254740991:bM(t)?10:11:Ce(28295,{value:t})}function Kr(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bi(i.timestampValue),u=bi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Si(i.bytesValue).isEqual(Si(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=wt(i.doubleValue),u=wt(a.doubleValue);return l===u?Nh(l)===Nh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(c_(l)!==c_(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Kr(l[h],u[h])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find((n=>Kr(n,e)))!==void 0}function tl(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=wt(a.integerValue||a.doubleValue),h=wt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return d_(t.timestampValue,e.timestampValue);case 4:return d_(Wc(t),Wc(e));case 5:return Cg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Si(a),h=Si(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Le(u[m],h[m]);if(g!==0)return g}return Le(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Le(wt(a.latitude),wt(l.latitude));return u!==0?u:Le(wt(a.longitude),wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return h_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},h=l.fields||{},m=u[Dh]?.arrayValue,g=h[Dh]?.arrayValue,v=Le(m?.values?.length||0,g?.values?.length||0);return v!==0?v:h_(m,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Kd.mapValue&&l===Kd.mapValue)return 0;if(a===Kd.mapValue)return 1;if(l===Kd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=Cg(h[v],g[v]);if(_!==0)return _;const I=tl(u[h[v]],m[g[v]]);if(I!==0)return I}return Le(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function d_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=bi(t),r=bi(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function h_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=tl(n[i],r[i]);if(a)return a}return Le(n.length,r.length)}function nl(t){return Ag(t)}function Ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Si(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Ag(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Ag(n.fields[l])}`;return i+"}"})(t.mapValue):Ce(61005,{value:t})}function lh(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+lh(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+lh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ji(r.fields,((a,l)=>{i+=a.length+lh(l)})),i})(t.mapValue);default:throw Ce(13486,{value:t})}}function f_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kg(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function p_(t){return!!t&&"nullValue"in t}function m_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function bM(t){return(t?.mapValue?.fields||{})[AS]?.stringValue===kS}function Rc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return{...t}}function SM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Rc(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new bn(Rc(this.value))}}function PS(t){const e=[];return ji(t.fields,((n,r)=>{const i=new Gt([n]);if(ch(r)){const a=PS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,Pe.min(),Pe.min(),Pe.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Pe.min(),Pe.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Pe.min(),Pe.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function g_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=tl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function TM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class Ct extends RS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CM(e,n,r):n==="array-contains"?new PM(e,r):n==="in"?new RM(e,r):n==="not-in"?new NM(e,r):n==="array-contains-any"?new jM(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AM(e,r):new kM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends RS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Sr(e,n)}matches(e){return NS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function jS(t){return IM(t)&&NS(t)}function IM(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function Pg(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(jS(t))return t.filters.map((e=>Pg(e))).join(",");{const e=t.filters.map((n=>Pg(n))).join(",");return`${t.op}(${e})`}}function DS(t,e){return t instanceof Ct?(function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)})(t,e):t instanceof Sr?(function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&DS(l,i.filters[u])),!0):!1})(t,e):void Ce(19439)}function MS(t){return t instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(t):t instanceof Sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(MS).join(" ,")+"}"})(t):"Filter"}class CM extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class AM extends Ct{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kM extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OS(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class PM extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&Kc(n.arrayValue,this.value)}}class RM extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class NM extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class jM extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function v_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new DM(t,e,n,r,i,a,l)}function Fy(t){const e=Ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Pg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nl(r))).join(",")),e.Te=n}return e.Te}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y_(t.startAt,e.startAt)&&y_(t.endAt,e.endAt)}function Rg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MM(t,e,n,r,i,a,l,u){return new vl(t,e,n,r,i,a,l,u)}function mf(t){return new vl(t)}function w_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VS(t){return t.collectionGroup!==null}function Nc(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Dt(Gt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qc(a,r))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Qc(Gt.keyField(),r))}return e.Ie}function zr(t){const e=Ne(t);return e.Ee||(e.Ee=OM(e,Nc(t))),e.Ee}function OM(t,e){if(t.limitType==="F")return v_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Qc(i.field,a)}));const n=t.endAt?new Mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mh(t.startAt.position,t.startAt.inclusive):null;return v_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Uy(zr(t),zr(e))&&t.limitType===e.limitType}function LS(t){return`${Fy(zr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>MS(i))).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nl(i))).join(",")),`Target(${r})`})(zr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Nc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,h){const m=g_(l,u,h);return l.inclusive?m<=0:m<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(l,u,h){const m=g_(l,u,h);return l.inclusive?m>=0:m>0})(r.endAt,Nc(r),i))})(t,e)}function VM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FS(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const a=LM(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LM(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?tl(h,m):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new ht(xe.comparator);function Cs(){return FM}const US=new ht(xe.comparator);function Tc(...t){let e=US;for(const n of t)e=e.insert(n.key,n);return e}function BS(t){let e=US;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xo(){return jc()}function zS(){return jc()}function jc(){return new Uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UM=new ht(xe.comparator),BM=new Dt(xe.comparator);function Fe(...t){let e=BM;for(const n of t)e=e.add(n);return e}const zM=new Dt(Le);function $M(){return zM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function $S(t){return{integerValue:""+t}}function qM(t,e){return yM(e)?$S(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function HM(t,e,n){return t instanceof Yc?(function(i,a){const l={fields:{[TS]:{stringValue:SS},[CS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Vy(a)&&(a=pf(a)),a&&(l.fields[IS]=a),{mapValue:l}})(n,e):t instanceof Jc?HS(t,e):t instanceof Xc?WS(t,e):(function(i,a){const l=qS(i,a),u=x_(l)+x_(i.Ae);return kg(l)&&kg(i.Ae)?$S(u):By(i.serializer,u)})(t,e)}function WM(t,e,n){return t instanceof Jc?HS(t,e):t instanceof Xc?WS(t,e):n}function qS(t,e){return t instanceof Oh?(function(r){return kg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Yc extends vf{}class Jc extends vf{constructor(e){super(),this.elements=e}}function HS(t,e){const n=GS(e);for(const r of t.elements)n.some((i=>Kr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xc extends vf{constructor(e){super(),this.elements=e}}function WS(t,e){let n=GS(e);for(const r of t.elements)n=n.filter((i=>!Kr(i,r)));return{arrayValue:{values:n}}}class Oh extends vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x_(t){return wt(t.integerValue||t.doubleValue)}function GS(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.field=e,this.transform=n}}function KM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof Xc&&i instanceof Xc?el(r.elements,i.elements,Kr):r instanceof Oh&&i instanceof Oh?Kr(r.Ae,i.Ae):r instanceof Yc&&i instanceof Yc})(t.transform,e.transform)}class QM{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function KS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YS(t.key,Er.none()):new fu(t.key,t.data,Er.none());{const n=t.data,r=bn.empty();let i=new Dt(Gt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Di(t.key,r,new Vn(i.toArray()),Er.none())}}function YM(t,e,n){t instanceof fu?(function(i,a,l){const u=i.value.clone(),h=E_(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Di?(function(i,a,l){if(!uh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=E_(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(QS(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Dc(t,e,n,r){return t instanceof fu?(function(a,l,u,h){if(!uh(a.precondition,l))return u;const m=a.value.clone(),g=b_(a.fieldTransforms,h,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Di?(function(a,l,u,h){if(!uh(a.precondition,l))return u;const m=b_(a.fieldTransforms,h,l),g=l.data;return g.setAll(QS(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return uh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function JM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qS(r.transform,i||null);a!=null&&(n===null&&(n=bn.empty()),n.set(r.field,a))}return n||null}function __(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&el(r,i,((a,l)=>KM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fu extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends wf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function E_(t,e,n){const r=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,WM(l,u,n[i]))}return r}function b_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,HM(a,l,e))}return r}class YS extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YM(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zS();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const h=KS(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,r)=>__(n,r)))&&el(this.baseMutations,e.baseMutations,((n,r)=>__(n,r)))}}class zy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return UM})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new zy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,$e;function n4(t){switch(t){case Z.OK:return Ce(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function JS(t){if(t===void 0)return Is("GRPC error has no .code"),Z.UNKNOWN;switch(t){case St.OK:return Z.OK;case St.CANCELLED:return Z.CANCELLED;case St.UNKNOWN:return Z.UNKNOWN;case St.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case St.INTERNAL:return Z.INTERNAL;case St.UNAVAILABLE:return Z.UNAVAILABLE;case St.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case St.NOT_FOUND:return Z.NOT_FOUND;case St.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case St.ABORTED:return Z.ABORTED;case St.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case St.DATA_LOSS:return Z.DATA_LOSS;default:return Ce(39323,{code:t})}}($e=St||(St={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new gi([4294967295,4294967295],0);function S_(t){const e=r4().encode(t),n=new dS;return n.update(e),new Uint8Array(n.digest())}function T_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,a],0)]}class $y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare(s4)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S_(e),[r,i]=T_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new $y(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=S_(e),[r,i]=T_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(Pe.min(),i,new ht(Le),Cs(),Fe())}}class pu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class XS{constructor(e,n){this.targetId=e,this.Ce=n}}class ZS{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class I_{constructor(){this.ve=0,this.Fe=C_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:a})}})),new pu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=C_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=Qd(),this.He=Qd(),this.Ye=new ht(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Rg(a))if(r===0){const l=new xe(a.path);this.et(n,l,nn.newNoDocument(l,Pe.min()))}else Qe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=Si(r).toUint8Array()}catch(h){if(h instanceof bS)return Za("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new $y(l,i,a)}catch(h){return Za(h instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Rg(u.target)){const h=new xe(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,nn.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Fe();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new xf(e,n,this.Ye,this.je,r);return this.je=Cs(),this.Je=Qd(),this.He=Qd(),this.Ye=new ht(Le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new ht(xe.comparator)}function C_(){return new ht(xe.comparator)}const o4={asc:"ASCENDING",desc:"DESCENDING"},a4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l4={and:"AND",or:"OR"};class c4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u4(t,e){return Vh(t,e.toTimestamp())}function $r(t){return Qe(!!t,49232),Pe.fromTimestamp((function(n){const r=bi(n);return new st(r.seconds,r.nanos)})(t))}function qy(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=(function(i){return new et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tT(t){const e=et.fromString(t);return Qe(oT(e),10190,{key:e.toString()}),e}function Og(t,e){return qy(t.databaseId,e.path)}function Mm(t,e){const n=tT(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(rT(n))}function nT(t,e){return qy(t.databaseId,e)}function d4(t){const e=tT(t);return e.length===4?et.emptyPath():rT(e)}function Vg(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rT(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A_(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function h4(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Qe(g===void 0||typeof g=="string",58123),Kt.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Kt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const g=m.code===void 0?Z.UNKNOWN:JS(m.code);return new ue(g,m.message||"")})(l);n=new ZS(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mm(t,r.document.name),a=$r(r.document.updateTime),l=r.document.createTime?$r(r.document.createTime):Pe.min(),u=new bn({mapValue:{fields:r.document.fields}}),h=nn.newFoundDocument(i,a,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];n=new dh(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mm(t,r.document),a=r.readTime?$r(r.readTime):Pe.min(),l=nn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new dh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mm(t,r.document),a=r.removedTargetIds||[];n=new dh([],a,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new t4(i,a),u=r.targetId;n=new XS(u,l)}}return n}function f4(t,e){let n;if(e instanceof fu)n={update:A_(t,e.key,e.value)};else if(e instanceof YS)n={delete:Og(t,e.key)};else if(e instanceof Di)n={update:A_(t,e.key,e.data),updateMask:E4(e.fieldMask)};else{if(!(e instanceof XM))return Ce(16599,{Vt:e.type});n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Yc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Oh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ce(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:u4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(t,e.precondition)),n}function p4(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?$r(i.updateTime):$r(a);return l.isEqual(Pe.min())&&(l=$r(a)),new QM(l,i.transformResults||[])})(n,e)))):[]}function m4(t,e){return{documents:[nT(t,e.path)]}}function g4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nT(t,i);const a=(function(m){if(m.length!==0)return iT(Sr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ba(_.field),direction:w4(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Dg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function y4(t){let e=d4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const _=sT(v);return _ instanceof Sr&&jS(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((_=>(function(S){return new Qc(za(S.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let _;return _=typeof v=="object"?v.value:v,ff(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(v){const _=!!v.before,I=v.values||[];return new Mh(I,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,I=v.values||[];return new Mh(I,_)})(n.endAt)),MM(e,i,l,a,u,"F",h,m)}function v4(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=za(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=za(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ct.create(za(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Sr.create(n.compositeFilter.filters.map((r=>sT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function w4(t){return o4[t]}function x4(t){return a4[t]}function _4(t){return l4[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function za(t){return Gt.fromServerFormat(t.fieldPath)}function iT(t){return t instanceof Ct?(function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:x4(n.op),value:n.value}}})(t):t instanceof Sr?(function(n){const r=n.getFilters().map((i=>iT(i)));return r.length===1?r[0]:{compositeFilter:{op:_4(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function E4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function oT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,a=Pe.min(),l=Pe.min(),u=Kt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.yt=e}}function S4(t){const e=y4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.Cn=new I4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ei.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class I4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(aT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="LruGarbageCollector",C4=1048576;function R_([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class A4{constructor(e){this.Ir=e,this.buffer=new Dt(R_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();R_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?he(P_,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class P4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(hf.ce);const r=new A4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(k_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Fa()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function R4(t,e){return new P4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.changes=new Uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dc(r.mutation,i,Vn.empty(),st.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const i=xo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Tc();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Cs();const l=jc(),u=(function(){return jc()})();return n.forEach(((h,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Di)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),Dc(g.mutation,m,g.mutation.getFieldMask(),st.now())):l.set(m.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((m,g)=>l.set(m,g))),n.forEach(((m,g)=>u.set(m,new j4(g,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new ht(((l,u)=>l-u)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Vn.empty();g=u.applyToLocalView(m,g),r.set(h,g);const v=(i.get(u.batchId)||Fe()).add(h);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,v=zS();g.forEach((_=>{if(!a.has(_)){const I=KS(n.get(_),r.get(_));I!==null&&v.set(_,I),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ee.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(xo());let u=Hc,h=a;return l.next((m=>ee.forEach(m,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,h,m,Fe()))).next((g=>({batchId:u,changes:BS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let i=Tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Tc();return this.indexManager.getCollectionParents(e,a).next((u=>ee.forEach(u,(h=>{const m=(function(v,_){return new vl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((h,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,nn.newInvalidDocument(g)))}));let u=Tc();return l.forEach(((h,m)=>{const g=a.get(h);g!==void 0&&Dc(g.mutation,m,Vn.empty(),st.now()),yf(n,m)&&(u=u.insert(h,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:S4(i.bundledQuery),readTime:$r(i.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.overlays=new ht(xe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return ee.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=xo(),a=n.length+1,l=new xe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ht(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=xo(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=xo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=i)););return ee.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new e4(n,r));let a=this.qr.get(n);a===void 0&&(a=Fe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Qr=new Dt(Ft.$r),this.Ur=new Dt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new et([])),r=new Ft(n,e),i=new Ft(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new et([])),r=new Ft(n,e),i=new Ft(n,e+1);let a=Fe();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Ft.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZM(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Ft(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Oy:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Le);return n.forEach((i=>{const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new xe(a),0);let u=new Dt(Le);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(h.Yr)),!0)}),l),ee.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(i=>{const a=new Ft(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.ri=e,this.docs=(function(){return new ht(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Cs();const l=n.path,u=new xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||fM(hM(g),r)<=0||(i.has(g.key)||yf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new U4(this)}getSize(e){return ee.resolve(this.size)}}class U4 extends N4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.persistence=e,this.si=new Uo((n=>Fy(n)),Uy),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Hy,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ee.waitFor(a).next((()=>i))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new V4,this.referenceDelegate=e(this),this.Pi=new B4(this),this.indexManager=new T4,this.remoteDocumentCache=(function(i){return new F4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new b4(n),this.Ii=new M4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new L4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new z4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class z4 extends mM{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Ri=new Hy,this.Vi=null}static mi(e){return new Wy(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new Uo((r=>vM(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=R4(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ee.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Fe(),i=Fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Gy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fR()?8:gM(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new $4;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fa()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Fa()<=Ve.DEBUG&&he("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fa()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):ee.resolve())}ys(e,n){if(w_(n))return ee.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=jg(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Fe(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const m=this.Ds(n,u);return this.Cs(n,m,l,h.readTime)?this.ys(e,jg(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,r,i){return w_(n)||i.isEqual(Pe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ee.resolve(null):(Fa()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.vs(e,l,n,dM(i,Hc)).next((u=>u)))}))}Ds(e,n){let r=new Dt(FS(e));return n.forEach(((i,a)=>{yf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Fa()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ps.getDocumentsMatchingQuery(e,n,Ei.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",H4=3e8;class W4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ht(Le),this.xs=new Uo((a=>Fy(a)),Uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function G4(t,e,n,r){return new W4(t,e,n,r)}async function cT(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=Fe();for(const m of i){l.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function K4(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,m,g){const v=m.batch,_=v.keys();let I=ee.resolve();return _.forEach((S=>{I=I.next((()=>g.getEntry(h,S))).next((C=>{const b=m.docVersions.get(S);Qe(b!==null,48541),C.version.compareTo(b)<0&&(v.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Fe();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function uT(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Q4(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const _=i.get(v);if(!_)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let I=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Kt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),i=i.insert(v,I),(function(C,b,M){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=H4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(_,I,g)&&u.push(n.Pi.updateTargetData(a,I))}));let h=Cs(),m=Fe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(Y4(a,l,e.documentUpdates).next((g=>{h=g.ks,m=g.qs}))),!r.isEqual(Pe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return ee.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,m))).next((()=>h))})).then((a=>(n.Ms=i,a)))}function Y4(t,e,n){let r=Fe(),i=Fe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Cs();return n.forEach(((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Pe.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(Ky,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function J4(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X4(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ee.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new hi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Lg(t,e,n){const r=Ne(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!yl(l))throw l;he(Ky,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function N_(t,e,n){const r=Ne(t);let i=Pe.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,m,g){const v=Ne(h),_=v.xs.get(g);return _!==void 0?ee.resolve(v.Ms.get(_)):v.Pi.getTargetData(m,g)})(r,l,zr(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Pe.min(),n?a:Fe()))).next((u=>(Z4(r,VM(e),u),{documents:u,Qs:a})))))}function Z4(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class j_{constructor(){this.activeTargetIds=$M()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eO{constructor(){this.Mo=new j_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new j_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(D_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function Fg(){return Yd===null?Yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",nO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Fg(),u=this.zo(e,n.toUriEncodedString());he(Om,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:m}=new URL(u),g=hl(m);return this.Jo(e,u,h,r,g).then((v=>(he(Om,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Za(Om,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=nO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class iO extends rO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Fg();return new Promise(((u,h)=>{const m=new hS;m.setWithCredentials(!0),m.listenOnce(fS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ah.NO_ERROR:const v=m.getResponseJson();he(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case ah.TIMEOUT:he(Zt,`RPC '${e}' ${l} timed out`),h(new ue(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const _=m.getStatus();if(he(Zt,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const S=I?.error;if(S&&S.status&&S.message){const C=(function(M){const j=M.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN})(S.status);h(new ue(C,S.message))}else h(new ue(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ue(Z.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(Zt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);he(Zt,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=Fg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gS(),u=mS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");he(Zt,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=l.createWebChannel(g,h);this.I_(v);let _=!1,I=!1;const S=new sO({Yo:b=>{I?he(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(he(Zt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),he(Zt,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Zo:()=>v.close()}),C=(b,M,j)=>{b.listen(M,(R=>{try{j(R)}catch(L){setTimeout((()=>{throw L}),0)}}))};return C(v,Sc.EventType.OPEN,(()=>{I||(he(Zt,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),C(v,Sc.EventType.CLOSE,(()=>{I||(I=!0,he(Zt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(v))})),C(v,Sc.EventType.ERROR,(b=>{I||(I=!0,Za(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.a_(new ue(Z.UNAVAILABLE,"The operation could not be completed")))})),C(v,Sc.EventType.MESSAGE,(b=>{if(!I){const M=b.data[0];Qe(!!M,16349);const j=M,R=j?.error||j[0]?.error;if(R){he(Zt,`RPC '${e}' stream ${i} received error:`,R);const L=R.status;let J=(function(P){const O=St[P];if(O!==void 0)return JS(O)})(L),se=R.message;J===void 0&&(J=Z.INTERNAL,se="Unknown error status: "+L+" with message "+R.message),I=!0,S.a_(new ue(J,se)),v.close()}else he(Zt,`RPC '${e}' stream ${i} received:`,M),S.u_(M)}})),C(u,pS.STAT_EVENT,(b=>{b.stat===Ig.PROXY?he(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ig.NOPROXY&&he(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){return new c4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="PersistentStream";class hT{constructor(e,n,r,i,a,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ue(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oO extends hT{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?$r(l.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Vg(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=Rg(h)?{documents:m4(a,h)}:{query:g4(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=eT(a,l.resumeToken);const m=Dg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Vh(a,l.snapshotVersion.toTimestamp());const m=Dg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=v4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.q_(n)}}class aO extends hT{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p4(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>f4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{}class cO extends lO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Mg(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Z.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Mg(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="RemoteStore";class dO{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bo(this)&&(he(Ro,"Restarting streams for network reachability change."),await(async function(h){const m=Ne(h);m.Ea.add(4),await mu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ef(m)})(this))}))})),this.Ra=new uO(r,i)}}async function Ef(t){if(Bo(t))for(const e of t.da)await e(!0)}async function mu(t){for(const e of t.da)await e(!1)}function fT(t,e){const n=Ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xy(n)?Jy(n):wl(n).O_()&&Yy(n,e))}function Qy(t,e){const n=Ne(t),r=wl(n);n.Ia.delete(e),r.O_()&&pT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bo(n)&&n.Ra.set("Unknown"))}function Yy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function pT(t,e){t.Va.Ue(e),wl(t).Z_(e)}function Jy(t){t.Va=new i4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function Xy(t){return Bo(t)&&!wl(t).x_()&&t.Ia.size>0}function Bo(t){return Ne(t).Ea.size===0}function mT(t){t.Va=void 0}async function hO(t){t.Ra.set("Online")}async function fO(t){t.Ia.forEach(((e,n)=>{Yy(t,e)}))}async function pO(t,e){mT(t),Xy(t)?(t.Ra.ha(e),Jy(t)):t.Ra.set("Unknown")}async function mO(t,e,n){if(t.Ra.set("Online"),e instanceof ZS&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){he(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(t,r)}else if(e instanceof dh?t.Va.Ze(e):e instanceof XS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await uT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,m)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),pT(a,h);const v=new hi(g.target,h,m,g.sequenceNumber);Yy(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(Ro,"Failed to raise snapshot:",r),await Fh(t,r)}}async function Fh(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await mu(t),t.Ra.set("Offline"),n||(n=()=>uT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ef(t)}))}function gT(t,e){return e().catch((n=>Fh(t,n,e)))}async function bf(t){const e=Ne(t),n=Ii(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oy;for(;gO(e);)try{const i=await J4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,yO(e,i)}catch(i){await Fh(e,i)}yT(e)&&vT(e)}function gO(t){return Bo(t)&&t.Ta.length<10}function yO(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yT(t){return Bo(t)&&!Ii(t).x_()&&t.Ta.length>0}function vT(t){Ii(t).start()}async function vO(t){Ii(t).ra()}async function wO(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function xO(t,e,n){const r=t.Ta.shift(),i=zy.from(r,e,n);await gT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await bf(t)}async function _O(t,e){e&&Ii(t).X_&&await(async function(r,i){if((function(l){return n4(l)&&l!==Z.ABORTED})(i.code)){const a=r.Ta.shift();Ii(r).B_(),await gT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await bf(r)}})(t,e),yT(t)&&vT(t)}async function V_(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),he(Ro,"RemoteStore received new credentials");const r=Bo(n);n.Ea.add(3),await mu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ef(n)}async function EO(t,e){const n=Ne(t);e?(n.Ea.delete(2),await Ef(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=(function(n,r,i){const a=Ne(n);return a.sa(),new oO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:hO.bind(null,t),t_:fO.bind(null,t),r_:pO.bind(null,t),H_:mO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Xy(t)?Jy(t):t.Ra.set("Unknown")):(await t.ma.stop(),mT(t))}))),t.ma}function Ii(t){return t.fa||(t.fa=(function(n,r,i){const a=Ne(n);return a.sa(),new aO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:vO.bind(null,t),r_:_O.bind(null,t),ta:wO.bind(null,t),na:xO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await bf(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new Zy(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(t,e){if(Is("AsyncQueue",`${e}: ${t}`),yl(t))return new ue(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Tc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.ga=new ht(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class sl{constructor(e,n,r,i,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new sl(e,n,Ya.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SO{constructor(){this.queries=F_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ne(n),a=i.queries;i.queries=F_(),a.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new ue(Z.ABORTED,"Firestore shutting down"))}}function F_(){return new Uo((t=>LS(t)),gf)}async function wT(t,e){const n=Ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new bO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=ev(l,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&tv(n)}async function xT(t,e){const n=Ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TO(t,e){const n=Ne(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&tv(n)}function IO(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function tv(t){t.Ca.forEach((e=>{e.next()}))}var Ug,U_;(U_=Ug||(Ug={})).Ma="default",U_.Cache="cache";class _T{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class CO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=FS(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new L_,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const _=i.get(g),I=yf(this.query,v)?v:null,S=!!_&&this.mutatedKeys.has(_.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let b=!1;_&&I?_.data.isEqual(I.data)?S!==C&&(r.track({type:3,doc:I}),b=!0):this.su(_,I)||(r.track({type:2,doc:I}),b=!0,(h&&this.eu(I,h)>0||m&&this.eu(I,m)<0)&&(u=!0)):!_&&I?(r.track({type:0,doc:I}),b=!0):_&&!I&&(r.track({type:1,doc:_}),b=!0,(h||m)&&(u=!0)),b&&(I?(l=l.add(I),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(I,S){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:b})}};return C(I)-C(S)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,m=h!==this.Za;return this.Za=h,l.length!==0||m?{snapshot:new sl(this.query,e.tu,a,l,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new bT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ET(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nv="SyncEngine";class AO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kO{constructor(e){this.key=e,this.hu=!1}}class PO{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Uo((u=>LS(u)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(xe.comparator),this.Au=new Map,this.Ru=new Hy,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RO(t,e,n=!0){const r=kT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ST(r,e,n,!0),i}async function NO(t,e){const n=kT(t);await ST(n,e,!0,!1)}async function ST(t,e,n,r){const i=await X4(t.localStore,zr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await jO(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&fT(t.remoteStore,i),u}async function jO(t,e,n,r,i){t.pu=(v,_,I)=>(async function(C,b,M,j){let R=b.view.ru(M);R.Cs&&(R=await N_(C.localStore,b.query,!1).then((({documents:F})=>b.view.ru(F,R))));const L=j&&j.targetChanges.get(b.targetId),J=j&&j.targetMismatches.get(b.targetId)!=null,se=b.view.applyChanges(R,C.isPrimaryClient,L,J);return z_(C,b.targetId,se.au),se.snapshot})(t,v,_,I);const a=await N_(t.localStore,e,!0),l=new CO(e,a.Qs),u=l.ru(a.documents),h=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,h);z_(t,n,m.au);const g=new AO(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function DO(t,e,n){const r=Ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!gf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qy(r.remoteStore,i.targetId),Bg(r,i.targetId)})).catch(gl)):(Bg(r,i.targetId),await Lg(r.localStore,i.targetId,!0))}async function MO(t,e){const n=Ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qy(n.remoteStore,r.targetId))}async function OO(t,e,n){const r=$O(t);try{const i=await(function(l,u){const h=Ne(l),m=st.now(),g=u.reduce(((I,S)=>I.add(S.key)),Fe());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let S=Cs(),C=Fe();return h.Ns.getEntries(I,g).next((b=>{S=b,S.forEach(((M,j)=>{j.isValidDocument()||(C=C.add(M))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,S))).next((b=>{v=b;const M=[];for(const j of u){const R=JM(j,v.get(j.key).overlayedDocument);R!=null&&M.push(new Di(j.key,R,PS(R.value.mapValue),Er.exists(!0)))}return h.mutationQueue.addMutationBatch(I,m,M,u)})).next((b=>{_=b;const M=b.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(I,b.batchId,M)}))})).then((()=>({batchId:_.batchId,changes:BS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,h){let m=l.Vu[l.currentUser.toKey()];m||(m=new ht(Le)),m=m.insert(u,h),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await gu(r,i.changes),await bf(r.remoteStore)}catch(i){const a=ev(i,"Failed to persist write");n.reject(a)}}async function TT(t,e){const n=Ne(t);try{const r=await Q4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Qe(l.hu,14607):i.removedDocuments.size>0&&(Qe(l.hu,42227),l.hu=!1))})),await gu(n,r,e)}catch(r){await gl(r)}}function B_(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const h=Ne(l);h.onlineState=u;let m=!1;h.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(u)&&(m=!0)})),m&&tv(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VO(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ht(xe.comparator);l=l.insert(a,nn.newNoDocument(a,Pe.min()));const u=Fe().add(a),h=new xf(Pe.min(),new Map,new ht(Le),l,u);await TT(r,h),r.du=r.du.remove(a),r.Au.delete(e),rv(r)}else await Lg(r.localStore,e,!1).then((()=>Bg(r,e,n))).catch(gl)}async function LO(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await K4(n.localStore,e);CT(n,r,null),IT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await gl(i)}}async function FO(t,e,n){const r=Ne(t);try{const i=await(function(l,u){const h=Ne(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next((v=>(Qe(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>h.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);CT(r,e,n),IT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await gl(i)}}function IT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function CT(t,e,n){const r=Ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||AT(t,r)}))}function AT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rv(t))}function z_(t,e,n){for(const r of n)r instanceof ET?(t.Ru.addReference(r.key,e),UO(t,r)):r instanceof bT?(he(nv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||AT(t,r.key)):Ce(19791,{wu:r})}function UO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(nv,"New document in limbo: "+n),t.Eu.add(r),rv(t))}function rv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(et.fromString(e)),r=t.fu.next();t.Au.set(r,new kO(n)),t.du=t.du.insert(n,r),fT(t.remoteStore,new hi(zr(mf(n.path)),r,"TargetPurposeLimboResolution",hf.ce))}}async function gu(t,e,n){const r=Ne(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){i.push(m);const g=Gy.As(h.targetId,m);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,m){const g=Ne(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ee.forEach(m,(_=>ee.forEach(_.Es,(I=>g.persistence.referenceDelegate.addReference(v,_.targetId,I))).next((()=>ee.forEach(_.ds,(I=>g.persistence.referenceDelegate.removeReference(v,_.targetId,I)))))))))}catch(v){if(!yl(v))throw v;he(Ky,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const I=g.Ms.get(_),S=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(_,C)}}})(r.localStore,a))}async function BO(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){he(nv,"User change. New user:",e.toKey());const r=await cT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new ue(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.Ls)}}function zO(t,e){const n=Ne(t),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let i=Fe();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function kT(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VO.bind(null,e),e.Pu.H_=TO.bind(null,e.eventManager),e.Pu.yu=IO.bind(null,e.eventManager),e}function $O(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G4(this.persistence,new q4,e.initialUser,this.serializer)}Cu(e){return new lT(Wy.mi,this.serializer)}Du(e){return new eO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class qO extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new lT((r=>Lh.mi(r,n)),this.serializer)}}class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await EO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SO})()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),r=(function(a){return new iO(a)})(e.databaseInfo);return(function(a,l,u,h){return new cO(a,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new dO(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>B_(this.syncEngine,n,0)),(function(){return M_.v()?new M_:new tO})())}createSyncEngine(e,n){return(function(i,a,l,u,h,m,g){const v=new PO(i,a,l,u,h,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);he(Ro,"RemoteStore shutting down."),r.Ea.add(5),await mu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class HO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(Ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ev(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WO(t);he(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>V_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>V_(e.remoteStore,i))),t._onlineComponents=e}async function WO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ci,"Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new Uh)}}else he(Ci,"Using default OfflineComponentProvider"),await Lm(t,new qO(void 0));return t._offlineComponents}async function RT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ci,"Using user provided OnlineComponentProvider"),await $_(t,t._uninitializedComponentsProvider._online)):(he(Ci,"Using default OnlineComponentProvider"),await $_(t,new zg))),t._onlineComponents}function GO(t){return RT(t).then((e=>e.syncEngine))}async function $g(t){const e=await RT(t),n=e.eventManager;return n.onListen=RO.bind(null,e.syncEngine),n.onUnlisten=DO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MO.bind(null,e.syncEngine),n}function KO(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,m){const g=new PT({next:_=>{g.Nu(),l.enqueueAndForget((()=>xT(a,v)));const I=_.docs.has(u);!I&&_.fromCache?m.reject(new ue(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&h&&h.source==="server"?m.reject(new ue(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new _T(mf(u.path),g,{includeMetadataChanges:!0,qa:!0});return wT(a,v)})(await $g(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firestore.googleapis.com",H_=!0;class W_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=H_}else this.host=e.host,this.ssl=e.ssl??H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C4)throw new ue(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eM;switch(r.type){case"firstParty":return new sM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=q_.get(n);r&&(he("ComponentProvider","Removing Datastore"),q_.delete(n),r.terminate())})(this),Promise.resolve()}}function QO(t,e,n,r={}){t=_r(t,Sf);const i=hl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Eb(`https://${u}`),bb("Firestore",!0)),a.host!==jT&&a.host!==u&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:i,emulatorOptions:r};if(!_i(h,l)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=tn.MOCK_USER;else{m=iR(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ue(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new tn(v)}t._authCredentials=new tM(new vS(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hu(n,pt._jsonSchema))return new pt(e,r||null,new xe(et.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:At("string",pt._jsonSchemaVersion),referencePath:At("string")};class vi extends zo{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new xe(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function yc(t,e,...n){if(t=mt(t),wS("collection","path",e),t instanceof Sf){const r=et.fromString(e,...n);return i_(r),new vi(t,null,r)}{if(!(t instanceof pt||t instanceof vi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return i_(r),new vi(t.firestore,null,r)}}function vr(t,e,...n){if(t=mt(t),arguments.length===1&&(e=My.newId()),wS("doc","path",e),t instanceof Sf){const r=et.fromString(e,...n);return s_(r),new pt(t,null,new xe(r))}{if(!(t instanceof pt||t instanceof vi))throw new ue(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return s_(r),new pt(t.firestore,t instanceof vi?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&he(G_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;he(G_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",Q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Zy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class No extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function YO(t,e){const n=typeof t=="object"?t:by(),r=typeof t=="string"?t:jh,i=Fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=rR("firestore");a&&QO(i,...a)}return i}function sv(t){if(t._terminated)throw new ue(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JO(t),t._firestoreClient}function JO(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new _M(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NT(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new HO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(Kt.fromBase64String(e))}catch(n){throw new ue(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:At("string",Zn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(hu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:At("string",qr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hr(e.vectorValues);throw new ue(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:At("string",Hr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class ZO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class DT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class iv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MT(this.Ac)&&XO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_f(e)}Cc(e,n,r,i=!1){return new iv({Ac:e,methodName:n,Dc:r,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(t){const e=t._freezeSettings(),n=_f(t._databaseId);return new eV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OT(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);av("Data must be an object, but it was:",l,r);const u=VT(r,l);let h,m;if(a.merge)h=new Vn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=qg(e,v,n);if(!l.contains(_))throw new ue(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);FT(g,_)||g.push(_)}h=new Vn(g),m=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,m=l.fieldTransforms;return new ZO(new bn(u),h,m)}class Af extends If{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}class ov extends If{_toFieldTransform(e){return new GM(e.path,new Yc)}isEqual(e){return e instanceof ov}}function tV(t,e,n,r){const i=t.Cc(1,e,n);av("Data must be an object, but it was:",i,r);const a=[],l=bn.empty();ji(r,((h,m)=>{const g=lv(e,h,n);m=mt(m);const v=i.yc(g);if(m instanceof Af)a.push(g);else{const _=yu(m,v);_!=null&&(a.push(g),l.set(g,_))}}));const u=new Vn(a);return new DT(l,u,i.fieldTransforms)}function nV(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[qg(e,r,n)],h=[i];if(a.length%2!=0)throw new ue(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(qg(e,a[_])),h.push(a[_+1]);const m=[],g=bn.empty();for(let _=u.length-1;_>=0;--_)if(!FT(m,u[_])){const I=u[_];let S=h[_];S=mt(S);const C=l.yc(I);if(S instanceof Af)m.push(I);else{const b=yu(S,C);b!=null&&(m.push(I),g.set(I,b))}}const v=new Vn(m);return new DT(g,v,l.fieldTransforms)}function rV(t,e,n,r=!1){return yu(n,t.Cc(r?4:3,e))}function yu(t,e){if(LT(t=mt(t)))return av("Unsupported field value:",e,t),VT(t,e);if(t instanceof If)return(function(r,i){if(!MT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let h=yu(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Vh(i.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(i.serializer,a)}}if(r instanceof qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:eT(i.serializer,r._byteString)};if(r instanceof pt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hr)return(function(l,u){return{mapValue:{fields:{[AS]:{stringValue:kS},[Dh]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return By(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${df(r)}`)})(t,e)}function VT(t,e){const n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,((r,i)=>{const a=yu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function LT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof qr||t instanceof Zn||t instanceof pt||t instanceof If||t instanceof Hr)}function av(t,e,n){if(!LT(n)||!xS(n)){const r=df(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function qg(t,e,n){if((e=mt(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return lv(t,e);throw Bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const sV=new RegExp("[~\\*/\\[\\]]");function lv(t,e,n){if(e.search(sV)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ue(Z.INVALID_ARGUMENT,u+t+h)}function FT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iV extends UT{data(){return super.data()}}function kf(t,e){return typeof e=="string"?lv(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}class BT extends cv{}function Fm(t,e,...n){let r=[];e instanceof cv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof uv)).length,u=a.filter((h=>h instanceof Pf)).length;if(l>1||l>0&&u>0)throw new ue(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Pf extends BT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return zT(e._query,n),new zo(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=Cf(e.firestore);return(function(a,l,u,h,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Z_(v,g);const S=[];for(const C of v)S.push(X_(h,a,C));_={arrayValue:{values:S}}}else _=X_(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Z_(v,g),_=rV(u,l,v,g==="in"||g==="not-in");return Ct.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function J_(t,e,n){const r=e,i=kf("where",t);return Pf._create(i,r,n)}class uv extends cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)zT(l,h),l=Ng(l,h)})(e._query,n),new zo(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dv extends BT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dv(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(a,l)})(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new vl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function aV(t,e="asc"){const n=e,r=kf("orderBy",t);return dv._create(r,n)}function X_(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new ue(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VS(e)&&n.indexOf("/")!==-1)throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!xe.isDocumentKey(r))throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f_(t,new xe(r))}if(n instanceof pt)return f_(t,n._key);throw new ue(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function Z_(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lV{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new Hr(n)}convertGeoPoint(e){return new qr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=bi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Qe(oT(r),9688,{name:e});const i=new Gc(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||Is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends UT{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:At("string",So._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class hh extends So{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hh(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const h=new hh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new hh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:cV(u.type),doc:h,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){t=_r(t,pt);const e=_r(t.firestore,No);return KO(sv(e),t._key).then((n=>HT(e,t,n)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:At("string",Ja._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class qT extends lV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function t1(t,e,n){t=_r(t,pt);const r=_r(t.firestore,No),i=$T(t.converter,e);return hv(r,[OT(Cf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function fh(t,e,n,...r){t=_r(t,pt);const i=_r(t.firestore,No),a=Cf(i);let l;return l=typeof(e=mt(e))=="string"||e instanceof Tf?nV(a,"updateDoc",t._key,e,n,r):tV(a,"updateDoc",t._key,e),hv(i,[l.toMutation(t._key,Er.exists(!0))])}function n1(t,e){const n=_r(t.firestore,No),r=vr(t),i=$T(t.converter,e);return hv(n,[OT(Cf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then((()=>r))}function vc(t,...e){t=mt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Y_(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y_(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let a,l,u;if(t instanceof pt)l=_r(t.firestore,No),u=mf(t._key.path),a={next:h=>{e[r]&&e[r](HT(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=_r(t,zo);l=_r(h.firestore,No),u=h._query;const m=new qT(l);a={next:g=>{e[r]&&e[r](new Ja(l,m,h,g))},error:e[r+1],complete:e[r+2]},oV(t._query)}return(function(m,g,v,_){const I=new PT(_),S=new _T(g,I,v);return m.asyncQueue.enqueueAndForget((async()=>wT(await $g(m),S))),()=>{I.Nu(),m.asyncQueue.enqueueAndForget((async()=>xT(await $g(m),S)))}})(sv(l),u,i,a)}function hv(t,e){return(function(r,i){const a=new yi;return r.asyncQueue.enqueueAndForget((async()=>OO(await GO(r),i,a))),a.promise})(sv(t),e)}function HT(t,e,n){const r=n.docs.get(e._key),i=new qT(t);return new So(t,i,e._key,r,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}function ho(){return new ov("serverTimestamp")}(function(e,n=!0){(function(i){ml=i})(fl),Gr(new br("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new No(new nM(r.getProvider("auth-internal")),new iM(l,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ue(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(m.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),er(e_,t_,e),er(e_,t_,"esm2020")})();var uV="firebase",dV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(uV,dV,"app");const WT="@firebase/installations",fv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,KT=`w:${fv}`,QT="FIS_v2",hV="https://firebaseinstallations.googleapis.com/v1",fV=3600*1e3,pV="installations",mV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jo=new Lo(pV,mV,gV);function YT(t){return t instanceof Tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT({projectId:t}){return`${hV}/projects/${t}/installations`}function XT(t){return{token:t.token,requestStatus:2,expiresIn:vV(t.expiresIn),creationTime:Date.now()}}async function ZT(t,e){const r=(await e.json()).error;return jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yV(t,{refreshToken:e}){const n=eI(t);return n.append("Authorization",wV(e)),n}async function tI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vV(t){return Number(t.replace("s","000"))}function wV(t){return`${QT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=JT(t),i=eI(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={fid:n,authVersion:QT,appId:t.appId,sdkVersion:KT},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await tI(()=>fetch(r,u));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:XT(m.authToken)}}else throw await ZT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^[cdef][\w-]{21}$/,Hg="";function bV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=SV(t);return EV.test(n)?n:Hg}catch{return Hg}}function SV(t){return _V(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Map;function sI(t,e){const n=Rf(t);iI(n,e),TV(n,e)}function iI(t,e){const n=rI.get(t);if(n)for(const r of n)r(e)}function TV(t,e){const n=IV();n&&n.postMessage({key:t,fid:e}),CV()}let _o=null;function IV(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{iI(t.data.key,t.data.fid)}),_o}function CV(){rI.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="firebase-installations-database",kV=1,Do="firebase-installations-store";let Um=null;function pv(){return Um||(Um=kb(AV,kV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Do)}}})),Um}async function zh(t,e){const n=Rf(t),i=(await pv()).transaction(Do,"readwrite"),a=i.objectStore(Do),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&sI(t,e.fid),e}async function oI(t){const e=Rf(t),r=(await pv()).transaction(Do,"readwrite");await r.objectStore(Do).delete(e),await r.done}async function Nf(t,e){const n=Rf(t),i=(await pv()).transaction(Do,"readwrite"),a=i.objectStore(Do),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await i.done,u&&(!l||l.fid!==u.fid)&&sI(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(t){let e;const n=await Nf(t.appConfig,r=>{const i=PV(r),a=RV(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Hg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function PV(t){const e=t||{fid:bV(),registrationStatus:0};return aI(e)}function RV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jV(t)}:{installationEntry:e}}async function NV(t,e){try{const n=await xV(t,e);return zh(t.appConfig,n)}catch(n){throw YT(n)&&n.customData.serverCode===409?await oI(t.appConfig):await zh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jV(t){let e=await r1(t.appConfig);for(;e.registrationStatus===1;)await nI(100),e=await r1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mv(t);return r||n}return e}function r1(t){return Nf(t,e=>{if(!e)throw jo.create("installation-not-found");return aI(e)})}function aI(t){return DV(t)?{fid:t.fid,registrationStatus:0}:t}function DV(t){return t.registrationStatus===1&&t.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV({appConfig:t,heartbeatServiceProvider:e},n){const r=OV(t,n),i=yV(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={installation:{sdkVersion:KT,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await tI(()=>fetch(r,u));if(h.ok){const m=await h.json();return XT(m)}else throw await ZT("Generate Auth Token",h)}function OV(t,{fid:e}){return`${JT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gv(t,e=!1){let n;const r=await Nf(t.appConfig,a=>{if(!lI(a))throw jo.create("not-registered");const l=a.authToken;if(!e&&FV(l))return a;if(l.requestStatus===1)return n=VV(t,e),a;{if(!navigator.onLine)throw jo.create("app-offline");const u=BV(a);return n=LV(t,u),u}});return n?await n:r.authToken}async function VV(t,e){let n=await s1(t.appConfig);for(;n.authToken.requestStatus===1;)await nI(100),n=await s1(t.appConfig);const r=n.authToken;return r.requestStatus===0?gv(t,e):r}function s1(t){return Nf(t,e=>{if(!lI(e))throw jo.create("not-registered");const n=e.authToken;return zV(n)?{...e,authToken:{requestStatus:0}}:e})}async function LV(t,e){try{const n=await MV(t,e),r={...e,authToken:n};return await zh(t.appConfig,r),n}catch(n){if(YT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zh(t.appConfig,r)}throw n}}function lI(t){return t!==void 0&&t.registrationStatus===2}function FV(t){return t.requestStatus===2&&!UV(t)}function UV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+fV}function BV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zV(t){return t.requestStatus===1&&t.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t){const e=t,{installationEntry:n,registrationPromise:r}=await mv(e);return r?r.catch(console.error):gv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e=!1){const n=t;return await HV(n),(await gv(n,e)).token}async function HV(t){const{registrationPromise:e}=await mv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){if(!t||!t.options)throw Bm("App Configuration");if(!t.name)throw Bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bm(t){return jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="installations",GV="installations-internal",KV=t=>{const e=t.getProvider("app").getImmediate(),n=WV(e),r=Fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QV=t=>{const e=t.getProvider("app").getImmediate(),n=Fo(e,cI).getImmediate();return{getId:()=>$V(n),getToken:i=>qV(n,i)}};function YV(){Gr(new br(cI,KV,"PUBLIC")),Gr(new br(GV,QV,"PRIVATE"))}YV();er(WT,fv);er(WT,fv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",JV="firebase_id",XV="origin",ZV=60*1e3,eL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new af("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new Lo("analytics","Analytics",tL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){if(!t.startsWith(yv)){const e=Ln.create("invalid-gtag-resource",{gtagURL:t});return Sn.warn(e.message),""}return t}function uI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function sL(t,e){const n=rL("firebase-js-sdk-policy",{createScriptURL:nL}),r=document.createElement("script"),i=`${yv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function iL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oL(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const h=(await uI(n)).find(m=>m.measurementId===i);h&&await e[h.appId]}}catch(u){Sn.error(u)}t("config",i,a)}async function aL(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await uI(n);for(const h of l){const m=u.find(v=>v.measurementId===h),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Sn.error(a)}}function lL(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[u,h]=l;await aL(t,e,n,u,h)}else if(a==="config"){const[u,h]=l;await oL(t,e,n,r,u,h)}else if(a==="consent"){const[u,h]=l;t("consent",u,h)}else if(a==="get"){const[u,h,m]=l;t("get",u,h,m)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Sn.error(u)}}return i}function cL(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=lL(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function uL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=30,hL=1e3;class fL{constructor(e={},n=hL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dI=new fL;function pL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mL(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:pL(n)},i=eL.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function gL(t,e=dI,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ln.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new wL;return setTimeout(async()=>{u.abort()},ZV),hI({appId:r,apiKey:i,measurementId:a},l,u,e)}async function hI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dI){const{appId:a,measurementId:l}=t;try{await yL(r,e)}catch(u){if(l)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await mL(t);return i.deleteThrottleMetadata(a),u}catch(u){const h=u;if(!vL(h)){if(i.deleteThrottleMetadata(a),l)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw u}const m=Number(h?.customData?.httpStatus)===503?Tx(n,i.intervalMillis,dL):Tx(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(a,g),Sn.debug(`Calling attemptFetch again in ${m} millis`),hI(t,g,r,i)}}function yL(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vL(t){if(!(t instanceof Tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xL(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(){if(Tb())try{await Ib()}catch(t){return Sn.warn(Ln.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Sn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EL(t,e,n,r,i,a,l){const u=gL(t);u.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Sn.error(_)),e.push(u);const h=_L().then(_=>{if(_)return r.getId()}),[m,g]=await Promise.all([u,h]);uL(a)||sL(a,m.measurementId),i("js",new Date);const v=l?.config??{};return v[XV]="firebase",v.update=!0,g!=null&&(v[JV]=g),i("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.app=e}_delete(){return delete Mc[this.app.options.appId],Promise.resolve()}}let Mc={},i1=[];const o1={};let zm="dataLayer",SL="gtag",a1,fI,l1=!1;function TL(){const t=[];if(Sb()&&t.push("This is a browser extension environment."),pR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});Sn.warn(n.message)}}function IL(t,e,n){TL();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Mc[r]!=null)throw Ln.create("already-exists",{id:r});if(!l1){iL(zm);const{wrappedGtag:a,gtagCore:l}=cL(Mc,i1,o1,zm,SL);fI=a,a1=l,l1=!0}return Mc[r]=EL(t,i1,o1,e,a1,zm,n),new bL(t)}function CL(t=by()){t=mt(t);const e=Fo(t,$h);return e.isInitialized()?e.getImmediate():AL(t)}function AL(t,e={}){const n=Fo(t,$h);if(n.isInitialized()){const i=n.getImmediate();if(_i(e,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:e})}function kL(t,e,n,r){t=mt(t),xL(fI,Mc[t.app.options.appId],e,n,r).catch(i=>Sn.error(i))}const c1="@firebase/analytics",u1="0.10.18";function PL(){Gr(new br($h,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return IL(r,i,n)},"PUBLIC")),Gr(new br("analytics-internal",t,"PRIVATE")),er(c1,u1),er(c1,u1,"esm2020");function t(e){try{const n=e.getProvider($h).getImmediate();return{logEvent:(r,i,a)=>kL(n,r,i,a)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}PL();const RL={apiKey:"AIzaSyARx0TFv2c_qDPcpDr0zvgvAvHIjDVgCpI",authDomain:"meetmate2-324c2.firebaseapp.com",databaseURL:"https://demo-default-rtdb.firebaseio.com",projectId:"meetmate2-324c2",storageBucket:"meetmate2-324c2.firebasestorage.app",messagingSenderId:"1002826191053",appId:"1:1002826191053:web:6ffffcf61d56c1c2b09984",measurementId:"G-DVT211MGFD"};let Zc;try{Zc=Eg(RL)}catch(t){console.warn("Firebase initialization failed:",t),Zc=Eg({apiKey:"demo-key",authDomain:"demo.firebaseapp.com",projectId:"demo-project",storageBucket:"demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo"})}const si=XD(Zc),un=YO(Zc);typeof window<"u"&&CL(Zc);class ri{static async signUp(e,n,r){try{const i=await Dj(si,e,n);await Vj(i.user,{displayName:r});const a={uid:i.user.uid,email:i.user.email,name:r,role:"ATTENDEE",createdAt:new Date,updatedAt:new Date};return await t1(vr(un,"users",i.user.uid),a),i}catch(i){throw console.error("Sign up error:",i),i}}static async signIn(e,n){try{return await Mj(si,e,n)}catch(r){throw console.error("Sign in error:",r),r}}static async signInWithGoogle(){try{const e=new gs,n=await aD(si,e);if(!(await e1(vr(un,"users",n.user.uid))).exists()){const i={uid:n.user.uid,email:n.user.email,name:n.user.displayName||"Google User",role:"ATTENDEE",createdAt:new Date,updatedAt:new Date};await t1(vr(un,"users",n.user.uid),i)}return n}catch(e){throw console.error("Google sign in error:",e),e}}static async signOut(){try{await Bj(si)}catch(e){throw console.error("Sign out error:",e),e}}static getCurrentUser(){return si.currentUser}static onAuthStateChanged(e){return Uj(si,e)}static async resetPassword(e){try{await jj(si,e)}catch(n){throw console.error("Reset password error:",n),n}}static async updateUserProfile(e,n){try{const r=vr(un,"users",e);await fh(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Update profile error:",r),r}}static async getUserProfile(e){try{const n=await e1(vr(un,"users",e));return n.exists()?n.data():null}catch(n){throw console.error("Get profile error:",n),n}}}const pI=A.createContext(void 0),$o=()=>{const t=A.useContext(pI);if(t===void 0)throw new Error("useFirebaseAuth must be used within an AuthProvider");return t},NL=({children:t})=>{const[e,n]=A.useState(null),[r,i]=A.useState(null),[a,l]=A.useState(!0);A.useEffect(()=>ri.onAuthStateChanged(async C=>{if(n(C),C)try{const b=await ri.getUserProfile(C.uid);i(b)}catch(b){console.error("Error fetching user profile:",b)}else i(null);l(!1)}),[]);const I={user:e,userProfile:r,loading:a,signUp:async(S,C,b)=>{try{l(!0);const M=await ri.signUp(S,C,b);n(M.user)}catch(M){throw console.error("Sign up error:",M),M}finally{l(!1)}},signIn:async(S,C)=>{try{l(!0);const b=await ri.signIn(S,C);n(b.user)}catch(b){throw console.error("Sign in error:",b),b}finally{l(!1)}},signInWithGoogle:async()=>{try{l(!0);const S=await ri.signInWithGoogle();n(S.user)}catch(S){throw console.error("Google sign in error:",S),S}finally{l(!1)}},signOut:async()=>{try{l(!0),await ri.signOut(),n(null),i(null)}catch(S){throw console.error("Sign out error:",S),S}finally{l(!1)}},resetPassword:async S=>{try{await ri.resetPassword(S)}catch(C){throw console.error("Reset password error:",C),C}},updateProfile:async S=>{if(!e)throw new Error("No user logged in");try{await ri.updateUserProfile(e.uid,S),r&&i({...r,...S,updatedAt:new Date})}catch(C){throw console.error("Update profile error:",C),C}}};return f.jsx(pI.Provider,{value:I,children:t})},mI=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),jf=A.createContext({}),Df=A.createContext(null),Mf=typeof document<"u",vv=Mf?A.useLayoutEffect:A.useEffect,gI=A.createContext({strict:!1}),wv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jL="framerAppearId",yI="data-"+wv(jL);function DL(t,e,n,r){const{visualElement:i}=A.useContext(jf),a=A.useContext(gI),l=A.useContext(Df),u=A.useContext(mI).reducedMotion,h=A.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=h.current;A.useInsertionEffect(()=>{m&&m.update(n,l)});const g=A.useRef(!!(n[yI]&&!window.HandoffComplete));return vv(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),A.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function $a(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ML(t,e,n){return A.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$a(n)&&(n.current=r))},[e])}function eu(t){return typeof t=="string"||Array.isArray(t)}function Of(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_v=["initial",...xv];function Vf(t){return Of(t.animate)||_v.some(e=>eu(t[e]))}function vI(t){return!!(Vf(t)||t.variants)}function OL(t,e){if(Vf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eu(n)?n:void 0,animate:eu(r)?r:void 0}}return t.inherit!==!1?e:{}}function VL(t){const{initial:e,animate:n}=OL(t,A.useContext(jf));return A.useMemo(()=>({initial:e,animate:n}),[d1(e),d1(n)])}function d1(t){return Array.isArray(t)?t.join(" "):t}const h1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tu={};for(const t in h1)tu[t]={isEnabled:e=>h1[t].some(n=>!!e[n])};function LL(t){for(const e in t)tu[e]={...tu[e],...t[e]}}const Ev=A.createContext({}),wI=A.createContext({}),FL=Symbol.for("motionComponentSymbol");function UL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&LL(t);function a(u,h){let m;const g={...A.useContext(mI),...u,layoutId:BL(u)},{isStatic:v}=g,_=VL(u),I=r(u,v);if(!v&&Mf){_.visualElement=DL(i,I,g,e);const S=A.useContext(wI),C=A.useContext(gI).strict;_.visualElement&&(m=_.visualElement.loadFeatures(g,C,t,S))}return A.createElement(jf.Provider,{value:_},m&&_.visualElement?A.createElement(m,{visualElement:_.visualElement,...g}):null,n(i,u,ML(I,_.visualElement,h),I,v,_.visualElement))}const l=A.forwardRef(a);return l[FL]=i,l}function BL({layoutId:t}){const e=A.useContext(Ev).id;return e&&t!==void 0?e+"-"+t:t}function zL(t){function e(r,i={}){return UL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const $L=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(t){return typeof t!="string"||t.includes("-")?!1:!!($L.indexOf(t)>-1||/[A-Z]/.test(t))}const qh={};function qL(t){Object.assign(qh,t)}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(vu);function xI(t,{layout:e,layoutId:n}){return qo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qh[t]||t==="opacity")}const Cn=t=>!!(t&&t.getVelocity),HL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WL=vu.length;function GL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let l=0;l<WL;l++){const u=vu[l];if(t[u]!==void 0){const h=HL[u]||u;a+=`${h}(${t[u]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const _I=t=>e=>typeof e=="string"&&e.startsWith(t),EI=_I("--"),Wg=_I("var(--"),KL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,QL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ai=(t,e,n)=>Math.min(Math.max(n,t),e),Ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oc={...Ho,transform:t=>Ai(0,1,t)},Jd={...Ho,default:1},Vc=t=>Math.round(t*1e5)/1e5,Lf=/(-)?([\d]*\.?[\d])+/g,bI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,YL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wu(t){return typeof t=="string"}const xu=t=>({test:e=>wu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ii=xu("deg"),Wr=xu("%"),Te=xu("px"),JL=xu("vh"),XL=xu("vw"),f1={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},p1={...Ho,transform:Math.round},SI={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,size:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:ii,skewX:ii,skewY:ii,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Oc,originX:f1,originY:f1,originZ:Te,zIndex:p1,fillOpacity:Oc,strokeOpacity:Oc,numOctaves:p1};function Sv(t,e,n,r){const{style:i,vars:a,transform:l,transformOrigin:u}=t;let h=!1,m=!1,g=!0;for(const v in e){const _=e[v];if(EI(v)){a[v]=_;continue}const I=SI[v],S=QL(_,I);if(qo.has(v)){if(h=!0,l[v]=S,!g)continue;_!==(I.default||0)&&(g=!1)}else v.startsWith("origin")?(m=!0,u[v]=S):i[v]=S}if(e.transform||(h||r?i.transform=GL(t.transform,n,g,r):i.transform&&(i.transform="none")),m){const{originX:v="50%",originY:_="50%",originZ:I=0}=u;i.transformOrigin=`${v} ${_} ${I}`}}const Tv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TI(t,e,n){for(const r in e)!Cn(e[r])&&!xI(r,n)&&(t[r]=e[r])}function ZL({transformTemplate:t},e,n){return A.useMemo(()=>{const r=Tv();return Sv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function e3(t,e,n){const r=t.style||{},i={};return TI(i,r,t),Object.assign(i,ZL(t,e,n)),t.transformValues?t.transformValues(i):i}function t3(t,e,n){const r={},i=e3(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const n3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n3.has(t)}let II=t=>!Hh(t);function r3(t){t&&(II=e=>e.startsWith("on")?!Hh(e):t(e))}try{r3(require("@emotion/is-prop-valid").default)}catch{}function s3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(II(i)||n===!0&&Hh(i)||!e&&!Hh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function m1(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function i3(t,e,n){const r=m1(e,t.x,t.width),i=m1(n,t.y,t.height);return`${r} ${i}`}const o3={offset:"stroke-dashoffset",array:"stroke-dasharray"},a3={offset:"strokeDashoffset",array:"strokeDasharray"};function l3(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?o3:a3;t[a.offset]=Te.transform(-r);const l=Te.transform(e),u=Te.transform(n);t[a.array]=`${l} ${u}`}function Iv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...m},g,v,_){if(Sv(t,m,g,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:I,style:S,dimensions:C}=t;I.transform&&(C&&(S.transform=I.transform),delete I.transform),C&&(i!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=i3(C,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),n!==void 0&&(I.y=n),r!==void 0&&(I.scale=r),l!==void 0&&l3(I,l,u,h,!1)}const CI=()=>({...Tv(),attrs:{}}),Cv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c3(t,e,n,r){const i=A.useMemo(()=>{const a=CI();return Iv(a,e,{enableHardwareAcceleration:!1},Cv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};TI(a,t.style,t),i.style={...a,...i.style}}return i}function u3(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(bv(n)?c3:t3)(r,a,l,n),g={...s3(r,typeof n=="string",t),...h,ref:i},{children:v}=r,_=A.useMemo(()=>Cn(v)?v.get():v,[v]);return A.createElement(n,{...g,children:_})}}function AI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const kI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PI(t,e,n,r){AI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kI.has(i)?i:wv(i),e.attrs[i])}function Av(t,e){const{style:n}=t,r={};for(const i in n)(Cn(n[i])||e.style&&Cn(e.style[i])||xI(i,t))&&(r[i]=n[i]);return r}function RI(t,e){const n=Av(t,e);for(const r in t)if(Cn(t[r])||Cn(e[r])){const i=vu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function kv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function NI(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wh=t=>Array.isArray(t),d3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),h3=t=>Wh(t)?t[t.length-1]||0:t;function ph(t){const e=Cn(t)?t.get():t;return d3(e)?e.toValue():e}function f3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const l={latestValues:p3(r,i,a,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const jI=t=>(e,n)=>{const r=A.useContext(jf),i=A.useContext(Df),a=()=>f3(t,e,r,i);return n?a():NI(a)};function p3(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=ph(a[_]);let{initial:l,animate:u}=t;const h=Vf(t),m=vI(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;return v&&typeof v!="boolean"&&!Of(v)&&(Array.isArray(v)?v:[v]).forEach(I=>{const S=kv(t,I);if(!S)return;const{transitionEnd:C,transition:b,...M}=S;for(const j in M){let R=M[j];if(Array.isArray(R)){const L=g?R.length-1:0;R=R[L]}R!==null&&(i[j]=R)}for(const j in C)i[j]=C[j]}),i}const xt=t=>t;class g1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function m3(t){let e=new g1,n=new g1,r=0,i=!1,a=!1;const l=new WeakSet,u={schedule:(h,m=!1,g=!1)=>{const v=g&&i,_=v?e:n;return m&&l.add(h),_.add(h)&&v&&i&&(r=e.order.length),h},cancel:h=>{n.remove(h),l.delete(h)},process:h=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const g=e.order[m];g(h),l.has(g)&&(u.schedule(g),t())}i=!1,a&&(a=!1,u.process(h))}};return u}const Xd=["prepare","read","update","preRender","render","postRender"],g3=40;function y3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Xd.reduce((v,_)=>(v[_]=m3(()=>n=!0),v),{}),l=v=>a[v].process(i),u=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,g3),1),i.timestamp=v,i.isProcessing=!0,Xd.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(u))},h=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:Xd.reduce((v,_)=>{const I=a[_];return v[_]=(S,C=!1,b=!1)=>(n||h(),I.schedule(S,C,b)),v},{}),cancel:v=>Xd.forEach(_=>a[_].cancel(v)),state:i,steps:a}}const{schedule:tt,cancel:As,state:en,steps:$m}=y3(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0),v3={useVisualState:jI({scrapeMotionValuesFromProps:RI,createRenderState:CI,onMount:(t,e,{renderState:n,latestValues:r})=>{tt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{Iv(n,r,{enableHardwareAcceleration:!1},Cv(e.tagName),t.transformTemplate),PI(e,n)})}})},w3={useVisualState:jI({scrapeMotionValuesFromProps:Av,createRenderState:Tv})};function x3(t,{forwardMotionProps:e=!1},n,r){return{...bv(t)?v3:w3,preloadedFeatures:n,useRender:u3(e),createVisualElement:r,Component:t}}function ws(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ff(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _3=t=>e=>DI(e)&&t(e,Ff(e));function _s(t,e,n,r){return ws(t,e,_3(n),r)}const E3=(t,e)=>n=>e(t(n)),wi=(...t)=>t.reduce(E3);function MI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const y1=MI("dragHorizontal"),v1=MI("dragVertical");function OI(t){let e=!1;if(t==="y")e=v1();else if(t==="x")e=y1();else{const n=y1(),r=v1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function VI(){const t=OI(!0);return t?(t(),!1):!0}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function w1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,l)=>{if(a.pointerType==="touch"||VI())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&tt.update(()=>u[r](a,l))};return _s(t.current,n,i,{passive:!t.getProps()[r]})}class b3 extends Mi{mount(){this.unmount=wi(w1(this.node,!0),w1(this.node,!1))}unmount(){}}class S3 extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wi(ws(this.node.current,"focus",()=>this.onFocus()),ws(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LI=(t,e)=>e?t===e?!0:LI(t,e.parentElement):!1;function qm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ff(n))}class T3 extends Mi{constructor(){super(...arguments),this.removeStartListeners=xt,this.removeEndListeners=xt,this.removeAccessibleListeners=xt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=_s(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:g,globalTapTarget:v}=this.node.getProps();tt.update(()=>{!v&&!LI(this.node.current,u.target)?g&&g(u,h):m&&m(u,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=_s(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wi(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||qm("up",(h,m)=>{const{onTap:g}=this.node.getProps();g&&tt.update(()=>g(h,m))})};this.removeEndListeners(),this.removeEndListeners=ws(this.node.current,"keyup",l),qm("down",(u,h)=>{this.startPress(u,h)})},n=ws(this.node.current,"keydown",e),r=()=>{this.isPressing&&qm("cancel",(a,l)=>this.cancelPress(a,l))},i=ws(this.node.current,"blur",r);this.removeAccessibleListeners=wi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VI()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=_s(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ws(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gg=new WeakMap,Hm=new WeakMap,I3=t=>{const e=Gg.get(t.target);e&&e(t)},C3=t=>{t.forEach(I3)};function A3({root:t,...e}){const n=t||document;Hm.has(n)||Hm.set(n,{});const r=Hm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(C3,{root:t,...e})),r[i]}function k3(t,e,n){const r=A3(e);return Gg.set(t,n),r.observe(t),()=>{Gg.delete(t),r.unobserve(t)}}const P3={some:0,all:1};class R3 extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:P3[i]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(h)};return k3(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N3(e,n))&&this.startObserver()}unmount(){}}function N3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const j3={inView:{Feature:R3},tap:{Feature:T3},focus:{Feature:S3},hover:{Feature:b3}};function FI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function D3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function M3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Uf(t,e,n){const r=t.getProps();return kv(r,e,n!==void 0?n:r.custom,D3(t),M3(t))}let Pv=xt;const To=t=>t*1e3,Es=t=>t/1e3,O3={current:!1},UI=t=>Array.isArray(t)&&typeof t[0]=="number";function BI(t){return!!(!t||typeof t=="string"&&zI[t]||UI(t)||Array.isArray(t)&&t.every(BI))}const Ac=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ac([0,.65,.55,1]),circOut:Ac([.55,0,1,.45]),backIn:Ac([.31,.01,.66,-.59]),backOut:Ac([.33,1.53,.69,.99])};function $I(t){if(t)return UI(t)?Ac(t):Array.isArray(t)?t.map($I):zI[t]}function V3(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:l="loop",ease:u,times:h}={}){const m={[e]:n};h&&(m.offset=h);const g=$I(u);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function L3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const qI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F3=1e-7,U3=12;function B3(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=qI(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>F3&&++u<U3);return l}function _u(t,e,n,r){if(t===e&&n===r)return xt;const i=a=>B3(a,0,1,t,n);return a=>a===0||a===1?a:qI(i(a),e,r)}const z3=_u(.42,0,1,1),$3=_u(0,0,.58,1),HI=_u(.42,0,.58,1),q3=t=>Array.isArray(t)&&typeof t[0]!="number",WI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GI=t=>e=>1-t(1-e),Rv=t=>1-Math.sin(Math.acos(t)),KI=GI(Rv),H3=WI(Rv),QI=_u(.33,1.53,.69,.99),Nv=GI(QI),W3=WI(Nv),G3=t=>(t*=2)<1?.5*Nv(t):.5*(2-Math.pow(2,-10*(t-1))),K3={linear:xt,easeIn:z3,easeInOut:HI,easeOut:$3,circIn:Rv,circInOut:H3,circOut:KI,backIn:Nv,backInOut:W3,backOut:QI,anticipate:G3},x1=t=>{if(Array.isArray(t)){Pv(t.length===4);const[e,n,r,i]=t;return _u(e,n,r,i)}else if(typeof t=="string")return K3[t];return t},jv=(t,e)=>n=>!!(wu(n)&&YL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),YI=(t,e,n)=>r=>{if(!wu(r))return r;const[i,a,l,u]=r.match(Lf);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Q3=t=>Ai(0,255,t),Wm={...Ho,transform:t=>Math.round(Q3(t))},Eo={test:jv("rgb","red"),parse:YI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wm.transform(t)+", "+Wm.transform(e)+", "+Wm.transform(n)+", "+Vc(Oc.transform(r))+")"};function Y3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Kg={test:jv("#"),parse:Y3,transform:Eo.transform},qa={test:jv("hsl","hue"),parse:YI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(Vc(e))+", "+Wr.transform(Vc(n))+", "+Vc(Oc.transform(r))+")"},dn={test:t=>Eo.test(t)||Kg.test(t)||qa.test(t),parse:t=>Eo.test(t)?Eo.parse(t):qa.test(t)?qa.parse(t):Kg.parse(t),transform:t=>wu(t)?t:t.hasOwnProperty("red")?Eo.transform(t):qa.transform(t)},dt=(t,e,n)=>-n*t+n*e+t;function Gm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=Gm(h,u,t+1/3),a=Gm(h,u,t),l=Gm(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Km=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},X3=[Kg,Eo,qa],Z3=t=>X3.find(e=>e.test(t));function _1(t){const e=Z3(t);let n=e.parse(t);return e===qa&&(n=J3(n)),n}const JI=(t,e)=>{const n=_1(t),r=_1(e),i={...n};return a=>(i.red=Km(n.red,r.red,a),i.green=Km(n.green,r.green,a),i.blue=Km(n.blue,r.blue,a),i.alpha=dt(n.alpha,r.alpha,a),Eo.transform(i))};function e5(t){var e,n;return isNaN(t)&&wu(t)&&(((e=t.match(Lf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(bI))===null||n===void 0?void 0:n.length)||0)>0}const XI={regex:KL,countKey:"Vars",token:"${v}",parse:xt},ZI={regex:bI,countKey:"Colors",token:"${c}",parse:dn.parse},e2={regex:Lf,countKey:"Numbers",token:"${n}",parse:Ho.parse};function Qm(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function Gh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Qm(n,XI),Qm(n,ZI),Qm(n,e2),n}function t2(t){return Gh(t).values}function n2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Gh(t),a=e.length;return l=>{let u=i;for(let h=0;h<a;h++)h<r?u=u.replace(XI.token,l[h]):h<r+n?u=u.replace(ZI.token,dn.transform(l[h])):u=u.replace(e2.token,Vc(l[h]));return u}}const t5=t=>typeof t=="number"?0:t;function n5(t){const e=t2(t);return n2(t)(e.map(t5))}const ki={test:e5,parse:t2,createTransformer:n2,getAnimatableNone:n5},r2=(t,e)=>n=>`${n>0?e:t}`;function s2(t,e){return typeof t=="number"?n=>dt(t,e,n):dn.test(t)?JI(t,e):t.startsWith("var(")?r2(t,e):o2(t,e)}const i2=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,l)=>s2(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}},r5=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s2(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},o2=(t,e)=>{const n=ki.createTransformer(e),r=Gh(t),i=Gh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wi(i2(r.values,i.values),n):r2(t,e)},nu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},E1=(t,e)=>n=>dt(t,e,n);function s5(t){return typeof t=="number"?E1:typeof t=="string"?dn.test(t)?JI:o2:Array.isArray(t)?i2:typeof t=="object"?r5:E1}function i5(t,e,n){const r=[],i=n||s5(t[0]),a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||xt:e;u=wi(h,u)}r.push(u)}return r}function a2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Pv(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=i5(e,r,i),u=l.length,h=m=>{let g=0;if(u>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=nu(t[g],t[g+1],m);return l[g](v)};return n?m=>h(Ai(t[0],t[a-1],m)):h}function o5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=nu(0,e,r);t.push(dt(n,1,i))}}function a5(t){const e=[0];return o5(e,t.length-1),e}function l5(t,e){return t.map(n=>n*e)}function c5(t,e){return t.map(()=>e||HI).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=q3(r)?r.map(x1):x1(r),a={done:!1,value:e[0]},l=l5(n&&n.length===e.length?n:a5(e),t),u=a2(l,e,{ease:Array.isArray(i)?i:c5(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}function l2(t,e){return e?t*(1e3/e):0}const u5=5;function c2(t,e,n){const r=Math.max(e-u5,0);return l2(n-t(r),e-r)}const Ym=.001,d5=.01,h5=10,f5=.05,p5=1;function m5({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,l=1-e;l=Ai(f5,p5,l),t=Ai(d5,h5,Es(t)),l<1?(i=m=>{const g=m*l,v=g*t,_=g-n,I=Qg(m,l),S=Math.exp(-v);return Ym-_/I*S},a=m=>{const v=m*l*t,_=v*n+n,I=Math.pow(l,2)*Math.pow(m,2)*t,S=Math.exp(-v),C=Qg(Math.pow(m,2),l);return(-i(m)+Ym>0?-1:1)*((_-I)*S)/C}):(i=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Ym+g*v},a=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const u=5/t,h=y5(i,a,u);if(t=To(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const g5=12;function y5(t,e,n){let r=n;for(let i=1;i<g5;i++)r=r-t(r)/e(r);return r}function Qg(t,e){return t*Math.sqrt(1-e*e)}const v5=["duration","bounce"],w5=["stiffness","damping","mass"];function b1(t,e){return e.some(n=>t[n]!==void 0)}function x5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!b1(t,w5)&&b1(t,v5)){const n=m5(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function u2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=x5({...r,velocity:-Es(r.velocity||0)}),I=v||0,S=h/(2*Math.sqrt(u*m)),C=a-i,b=Es(Math.sqrt(u/m)),M=Math.abs(C)<5;n||(n=M?.01:2),e||(e=M?.005:.5);let j;if(S<1){const R=Qg(b,S);j=L=>{const J=Math.exp(-S*b*L);return a-J*((I+S*b*C)/R*Math.sin(R*L)+C*Math.cos(R*L))}}else if(S===1)j=R=>a-Math.exp(-b*R)*(C+(I+b*C)*R);else{const R=b*Math.sqrt(S*S-1);j=L=>{const J=Math.exp(-S*b*L),se=Math.min(R*L,300);return a-J*((I+S*b*C)*Math.sinh(se)+R*C*Math.cosh(se))/R}}return{calculatedDuration:_&&g||null,next:R=>{const L=j(R);if(_)l.done=R>=g;else{let J=I;R!==0&&(S<1?J=c2(j,R,L):J=0);const se=Math.abs(J)<=n,F=Math.abs(a-L)<=e;l.done=se&&F}return l.value=l.done?a:L,l}}}function S1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},I=P=>u!==void 0&&P<u||h!==void 0&&P>h,S=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let C=n*e;const b=v+C,M=l===void 0?b:l(b);M!==b&&(C=M-v);const j=P=>-C*Math.exp(-P/r),R=P=>M+j(P),L=P=>{const O=j(P),B=R(P);_.done=Math.abs(O)<=m,_.value=_.done?M:B};let J,se;const F=P=>{I(_.value)&&(J=P,se=u2({keyframes:[_.value,S(_.value)],velocity:c2(R,P,_.value),damping:i,stiffness:a,restDelta:m,restSpeed:g}))};return F(0),{calculatedDuration:null,next:P=>{let O=!1;return!se&&J===void 0&&(O=!0,L(P),F(P)),J!==void 0&&P>J?se.next(P-J):(!O&&L(P),_)}}}const _5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>As(e),now:()=>en.isProcessing?en.timestamp:performance.now()}},T1=2e4;function I1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<T1;)e+=n,r=t.next(e);return e>=T1?1/0:e}const E5={decay:S1,inertia:S1,tween:Kh,keyframes:Kh,spring:u2};function Qh({autoplay:t=!0,delay:e=0,driver:n=_5,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:h,onStop:m,onComplete:g,onUpdate:v,..._}){let I=1,S=!1,C,b;const M=()=>{b=new Promise(z=>{C=z})};M();let j;const R=E5[i]||Kh;let L;R!==Kh&&typeof r[0]!="number"&&(L=a2([0,100],r,{clamp:!1}),r=[0,100]);const J=R({..._,keyframes:r});let se;u==="mirror"&&(se=R({..._,keyframes:[...r].reverse(),velocity:-(_.velocity||0)}));let F="idle",P=null,O=null,B=null;J.calculatedDuration===null&&a&&(J.calculatedDuration=I1(J));const{calculatedDuration:$}=J;let N=1/0,D=1/0;$!==null&&(N=$+l,D=N*(a+1)-l);let me=0;const We=z=>{if(O===null)return;I>0&&(O=Math.min(O,z)),I<0&&(O=Math.min(z-D/I,O)),P!==null?me=P:me=Math.round(z-O)*I;const X=me-e*(I>=0?1:-1),ye=I>=0?X<0:X>D;me=Math.max(X,0),F==="finished"&&P===null&&(me=D);let Ae=me,Re=J;if(a){const Ke=Math.min(me,D)/N;let lt=Math.floor(Ke),Ut=Ke%1;!Ut&&Ke>=1&&(Ut=1),Ut===1&&lt--,lt=Math.min(lt,a+1),!!(lt%2)&&(u==="reverse"?(Ut=1-Ut,l&&(Ut-=l/N)):u==="mirror"&&(Re=se)),Ae=Ai(0,1,Ut)*N}const Me=ye?{done:!1,value:r[0]}:Re.next(Ae);L&&(Me.value=L(Me.value));let{done:Be}=Me;!ye&&$!==null&&(Be=I>=0?me>=D:me<=0);const qe=P===null&&(F==="finished"||F==="running"&&Be);return v&&v(Me.value),qe&&ie(),Me},Se=()=>{j&&j.stop(),j=void 0},De=()=>{F="idle",Se(),C(),M(),O=B=null},ie=()=>{F="finished",g&&g(),Se(),C()},ge=()=>{if(S)return;j||(j=n(We));const z=j.now();h&&h(),P!==null?O=z-P:(!O||F==="finished")&&(O=z),F==="finished"&&M(),B=O,P=null,F="running",j.start()};t&&ge();const ce={then(z,X){return b.then(z,X)},get time(){return Es(me)},set time(z){z=To(z),me=z,P!==null||!j||I===0?P=z:O=j.now()-z/I},get duration(){const z=J.calculatedDuration===null?I1(J):J.calculatedDuration;return Es(z)},get speed(){return I},set speed(z){z===I||!j||(I=z,ce.time=Es(me))},get state(){return F},play:ge,pause:()=>{F="paused",P=me},stop:()=>{S=!0,F!=="idle"&&(F="idle",m&&m(),De())},cancel:()=>{B!==null&&We(B),De()},complete:()=>{F="finished"},sample:z=>(O=0,We(z))};return ce}function b5(t){let e;return()=>(e===void 0&&(e=t()),e)}const S5=b5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),T5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zd=10,I5=2e4,C5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BI(e.ease);function A5(t,e,{onUpdate:n,onComplete:r,...i}){if(!(S5()&&T5.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,u,h,m=!1;const g=()=>{h=new Promise(R=>{u=R})};g();let{keyframes:v,duration:_=300,ease:I,times:S}=i;if(C5(e,i)){const R=Qh({...i,repeat:0,delay:0});let L={done:!1,value:v[0]};const J=[];let se=0;for(;!L.done&&se<I5;)L=R.sample(se),J.push(L.value),se+=Zd;S=void 0,v=J,_=se-Zd,I="linear"}const C=V3(t.owner.current,e,v,{...i,duration:_,ease:I,times:S}),b=()=>{m=!1,C.cancel()},M=()=>{m=!0,tt.update(b),u(),g()};return C.onfinish=()=>{m||(t.set(L3(v,i)),r&&r(),M())},{then(R,L){return h.then(R,L)},attachTimeline(R){return C.timeline=R,C.onfinish=null,xt},get time(){return Es(C.currentTime||0)},set time(R){C.currentTime=To(R)},get speed(){return C.playbackRate},set speed(R){C.playbackRate=R},get duration(){return Es(_)},play:()=>{l||(C.play(),As(b))},pause:()=>C.pause(),stop:()=>{if(l=!0,C.playState==="idle")return;const{currentTime:R}=C;if(R){const L=Qh({...i,autoplay:!1});t.setWithVelocity(L.sample(R-Zd).value,L.sample(R).value,Zd)}M()},complete:()=>{m||C.finish()},cancel:M}}function k5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:xt,pause:xt,stop:xt,then:a=>(a(),Promise.resolve()),cancel:xt,complete:xt});return e?Qh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const P5={type:"spring",stiffness:500,damping:25,restSpeed:10},R5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),N5={type:"keyframes",duration:.8},j5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D5=(t,{keyframes:e})=>e.length>2?N5:qo.has(t)?t.startsWith("scale")?R5(e[1]):P5:j5,Yg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ki.test(e)||e==="0")&&!e.startsWith("url(")),M5=new Set(["brightness","contrast","saturate","opacity"]);function O5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lf)||[];if(!r)return t;const i=n.replace(r,"");let a=M5.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const V5=/([a-z-]*)\(.*?\)/g,Jg={...ki,getAnimatableNone:t=>{const e=t.match(V5);return e?e.map(O5).join(" "):t}},L5={...SI,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Jg,WebkitFilter:Jg},Dv=t=>L5[t];function d2(t,e){let n=Dv(t);return n!==Jg&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h2=t=>/^0[^.\s]+$/.test(t);function F5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||h2(t)}function U5(t,e,n,r){const i=Yg(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const h=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),F5(a[m])&&h.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(u=a[m]);if(i&&h.length&&u)for(let m=0;m<h.length;m++){const g=h[m];a[g]=d2(e,u)}return a}function B5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}function Mv(t,e){return t[e]||t.default||t}const z5={skipAnimations:!1},Ov=(t,e,n,r={})=>i=>{const a=Mv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-To(l);const h=U5(e,t,n,a),m=h[0],g=h[h.length-1],v=Yg(t,m),_=Yg(t,g);let I={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:S=>{e.set(S),a.onUpdate&&a.onUpdate(S)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(B5(a)||(I={...I,...D5(t,I)}),I.duration&&(I.duration=To(I.duration)),I.repeatDelay&&(I.repeatDelay=To(I.repeatDelay)),!v||!_||O3.current||a.type===!1||z5.skipAnimations)return k5(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=A5(e,t,I);if(S)return S}return Qh(I)};function Yh(t){return!!(Cn(t)&&t.add)}const f2=t=>/^\-?\d*\.?\d+$/.test(t);function Vv(t,e){t.indexOf(e)===-1&&t.push(e)}function Lv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Fv{constructor(){this.subscriptions=[]}add(e){return Vv(this.subscriptions,e),()=>Lv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $5=t=>!isNaN(parseFloat(t));class q5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=en;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=$5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fv);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?l2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new q5(t,e)}const p2=t=>e=>e.test(t),H5={test:t=>t==="auto",parse:t=>t},m2=[Ho,Te,Wr,ii,XL,JL,H5],wc=t=>m2.find(p2(t)),W5=[...m2,dn,ki],G5=t=>W5.find(p2(t));function K5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function Q5(t,e){const n=Uf(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const u=h3(a[l]);K5(t,l,u)}}function Y5(t,e,n){var r,i;const a=Object.keys(e).filter(u=>!t.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const h=a[u],m=e[h];let g=null;Array.isArray(m)&&(g=m[0]),g===null&&(g=(i=(r=n[h])!==null&&r!==void 0?r:t.readValue(h))!==null&&i!==void 0?i:e[h]),g!=null&&(typeof g=="string"&&(f2(g)||h2(g))?g=parseFloat(g):!G5(g)&&ki.test(m)&&(g=d2(h,m)),t.addValue(h,il(g,{owner:t})),n[h]===void 0&&(n[h]=g),g!==null&&t.setBaseTarget(h,g))}}function J5(t,e){return e?(e[t]||e.default||e).from:void 0}function X5(t,e,n){const r={};for(const i in t){const a=J5(i,e);if(a!==void 0)r[i]=a;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function Z5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function e6(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function g2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(a=r);const m=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in u){const _=t.getValue(v),I=u[v];if(!_||I===void 0||g&&Z5(g,v))continue;const S={delay:n,elapsed:0,...Mv(a||{},v)};if(window.HandoffAppearAnimations){const M=t.getProps()[yI];if(M){const j=window.HandoffAppearAnimations(M,v,_,tt);j!==null&&(S.elapsed=j,S.isHandoff=!0)}}let C=!S.isHandoff&&!e6(_,I);if(S.type==="spring"&&(_.getVelocity()||S.velocity)&&(C=!1),_.animation&&(C=!1),C)continue;_.start(Ov(v,_,I,t.shouldReduceMotion&&qo.has(v)?{type:!1}:S));const b=_.animation;Yh(h)&&(h.add(v),b.then(()=>h.remove(v))),m.push(b)}return l&&Promise.all(m).then(()=>{l&&Q5(t,l)}),m}function Xg(t,e,n={}){const r=Uf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(g2(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return t6(t,e,m+h,g,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,m]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function t6(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(t.variantChildren).sort(n6).forEach((m,g)=>{m.notify("AnimationStart",e),l.push(Xg(m,e,{...a,delay:n+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function n6(t,e){return t.sortNodePosition(e)}function r6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Xg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Xg(t,e,n);else{const i=typeof e=="function"?Uf(t,e,n.custom):e;r=Promise.all(g2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const s6=[...xv].reverse(),i6=xv.length;function o6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>r6(t,n,r)))}function a6(t){let e=o6(t);const n=c6();let r=!0;const i=(h,m)=>{const g=Uf(t,m);if(g){const{transition:v,transitionEnd:_,...I}=g;h={...h,...I,..._}}return h};function a(h){e=h(t)}function l(h,m){const g=t.getProps(),v=t.getVariantContext(!0)||{},_=[],I=new Set;let S={},C=1/0;for(let M=0;M<i6;M++){const j=s6[M],R=n[j],L=g[j]!==void 0?g[j]:v[j],J=eu(L),se=j===m?R.isActive:null;se===!1&&(C=M);let F=L===v[j]&&L!==g[j]&&J;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),R.protectedKeys={...S},!R.isActive&&se===null||!L&&!R.prevProp||Of(L)||typeof L=="boolean")continue;let O=l6(R.prevProp,L)||j===m&&R.isActive&&!F&&J||M>C&&J,B=!1;const $=Array.isArray(L)?L:[L];let N=$.reduce(i,{});se===!1&&(N={});const{prevResolvedValues:D={}}=R,me={...D,...N},We=Se=>{O=!0,I.has(Se)&&(B=!0,I.delete(Se)),R.needsAnimating[Se]=!0};for(const Se in me){const De=N[Se],ie=D[Se];if(S.hasOwnProperty(Se))continue;let ge=!1;Wh(De)&&Wh(ie)?ge=!FI(De,ie):ge=De!==ie,ge?De!==void 0?We(Se):I.add(Se):De!==void 0&&I.has(Se)?We(Se):R.protectedKeys[Se]=!0}R.prevProp=L,R.prevResolvedValues=N,R.isActive&&(S={...S,...N}),r&&t.blockInitialAnimation&&(O=!1),O&&(!F||B)&&_.push(...$.map(Se=>({animation:Se,options:{type:j,...h}})))}if(I.size){const M={};I.forEach(j=>{const R=t.getBaseTarget(j);R!==void 0&&(M[j]=R)}),_.push({animation:M})}let b=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(_):Promise.resolve()}function u(h,m,g){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(I=>{var S;return(S=I.animationState)===null||S===void 0?void 0:S.setActive(h,m)}),n[h].isActive=m;const _=l(g,h);for(const I in n)n[I].protectedKeys={};return _}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n}}function l6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FI(e,t):!1}function fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function c6(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}class u6 extends Mi{constructor(e){super(e),e.animationState||(e.animationState=a6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Of(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let d6=0;class h6 extends Mi{constructor(){super(...arguments),this.id=d6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const f6={animation:{Feature:u6},exit:{Feature:h6}},C1=(t,e)=>Math.abs(t-e);function p6(t,e){const n=C1(t.x,e.x),r=C1(t.y,e.y);return Math.sqrt(n**2+r**2)}class y2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Xm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,I=p6(v.offset,{x:0,y:0})>=3;if(!_&&!I)return;const{point:S}=v,{timestamp:C}=en;this.history.push({...S,timestamp:C});const{onStart:b,onMove:M}=this.handlers;_||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Jm(_,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:I,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xm(v.type==="pointercancel"?this.lastMoveEventInfo:Jm(_,this.transformPagePoint),this.history);this.startEvent&&I&&I(v,b),S&&S(v,b)},!DI(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Ff(e),u=Jm(l,this.transformPagePoint),{point:h}=u,{timestamp:m}=en;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Xm(u,this.history)),this.removeListeners=wi(_s(this.contextWindow,"pointermove",this.handlePointerMove),_s(this.contextWindow,"pointerup",this.handlePointerUp),_s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function Jm(t,e){return e?{point:e(t.point)}:t}function A1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xm({point:t},e){return{point:t,delta:A1(t,v2(e)),offset:A1(t,m6(e)),velocity:g6(e,.1)}}function m6(t){return t[0]}function v2(t){return t[t.length-1]}function g6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=v2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>To(e)));)n--;if(!r)return{x:0,y:0};const a=Es(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Fn(t){return t.max-t.min}function Zg(t,e=0,n=.01){return Math.abs(t-e)<=n}function k1(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Zg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(Zg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){k1(t.x,e.x,n.x,r?r.originX:void 0),k1(t.y,e.y,n.y,r?r.originY:void 0)}function P1(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function y6(t,e,n){P1(t.x,e.x,n.x),P1(t.y,e.y,n.y)}function R1(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Fc(t,e,n){R1(t.x,e.x,n.x),R1(t.y,e.y,n.y)}function v6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function N1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function w6(t,{top:e,left:n,bottom:r,right:i}){return{x:N1(t.x,n,i),y:N1(t.y,e,r)}}function j1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function x6(t,e){return{x:j1(t.x,e.x),y:j1(t.y,e.y)}}function _6(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=nu(e.min,e.max-r,t.min):r>i&&(n=nu(t.min,t.max-i,e.min)),Ai(0,1,n)}function E6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ey=.35;function b6(t=ey){return t===!1?t=0:t===!0&&(t=ey),{x:D1(t,"left","right"),y:D1(t,"top","bottom")}}function D1(t,e,n){return{min:M1(t,e),max:M1(t,n)}}function M1(t,e){return typeof t=="number"?t:t[e]||0}const O1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:O1(),y:O1()}),V1=()=>({min:0,max:0}),Tt=()=>({x:V1(),y:V1()});function Jn(t){return[t("x"),t("y")]}function w2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zm(t){return t===void 0||t===1}function ty({scale:t,scaleX:e,scaleY:n}){return!Zm(t)||!Zm(e)||!Zm(n)}function go(t){return ty(t)||x2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function x2(t){return L1(t.x)||L1(t.y)}function L1(t){return t&&t!=="0%"}function Jh(t,e,n){const r=t-n,i=e*r;return n+i}function F1(t,e,n,r,i){return i!==void 0&&(t=Jh(t,i,r)),Jh(t,n,r)+e}function ny(t,e=0,n=1,r,i){t.min=F1(t.min,e,n,r,i),t.max=F1(t.max,e,n,r,i)}function _2(t,{x:e,y:n}){ny(t.x,e.translate,e.scale,e.originPoint),ny(t.y,n.translate,n.scale,n.originPoint)}function I6(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const h=a.instance;h&&h.style&&h.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_2(t,l)),r&&go(a.latestValues)&&Wa(t,a.latestValues))}e.x=U1(e.x),e.y=U1(e.y)}function U1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function oi(t,e){t.min=t.min+e,t.max=t.max+e}function B1(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,l=dt(t.min,t.max,a);ny(t,e[n],e[r],l,e.scale)}const C6=["x","scaleX","originX"],A6=["y","scaleY","originY"];function Wa(t,e){B1(t.x,e,C6),B1(t.y,e,A6)}function E2(t,e){return w2(T6(t.getBoundingClientRect(),e))}function k6(t,e,n){const r=E2(t,n),{scroll:i}=e;return i&&(oi(r.x,i.offset.x),oi(r.y,i.offset.y)),r}const b2=({current:t})=>t?t.ownerDocument.defaultView:null,P6=new WeakMap;class R6{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ff(g,"page").point)},a=(g,v)=>{const{drag:_,dragPropagation:I,onDragStart:S}=this.getProps();if(_&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OI(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(b=>{let M=this.getAxisMotionValue(b).get()||0;if(Wr.test(M)){const{projection:j}=this.visualElement;if(j&&j.layout){const R=j.layout.layoutBox[b];R&&(M=Fn(R)*(parseFloat(M)/100))}}this.originPoint[b]=M}),S&&tt.update(()=>S(g,v),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:I,onDirectionLock:S,onDrag:C}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:b}=v;if(I&&this.currentDirection===null){this.currentDirection=N6(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),C&&C(g,v)},u=(g,v)=>this.stop(g,v),h=()=>Jn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new y2(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:b2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tt.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!eh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=v6(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&$a(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=w6(i.layoutBox,n):this.constraints=!1,this.elastic=b6(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=E6(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$a(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=k6(r,i.root,this.visualElement.getTransformPagePoint());let l=x6(i.layout.layoutBox,a);if(n){const u=n(S6(l));this.hasMutatedConstraints=!!u,u&&(l=w2(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Jn(g=>{if(!eh(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const _=i?200:1e6,I=i?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ov(e,r,0,n))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!eh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-dt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$a(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jn(l=>{const u=this.getAxisMotionValue(l);if(u){const h=u.get();i[l]=_6({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!eh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(dt(h,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;P6.set(this.visualElement,this);const e=this.visualElement.current,n=_s(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();$a(h)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=ws(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Jn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=ey,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function eh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function N6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j6 extends Mi{constructor(e){super(e),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new R6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const z1=t=>(e,n)=>{t&&tt.update(()=>t(e,n))};class D6 extends Mi{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(e){this.session=new y2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:z1(e),onStart:z1(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=_s(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function M6(){const t=A.useContext(Df);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=A.useId();return A.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=$1(t,e.target.x),r=$1(t,e.target.y);return`${n}% ${r}%`}},O6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ki.parse(t);if(i.length>5)return r;const a=ki.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const m=dt(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};class V6 extends ef.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;qL(L6),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S2(t){const[e,n]=M6(),r=A.useContext(Ev);return ef.createElement(V6,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(wI),isPresent:e,safeToRemove:n})}const L6={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:O6},T2=["TopLeft","TopRight","BottomLeft","BottomRight"],F6=T2.length,q1=t=>typeof t=="string"?parseFloat(t):t,H1=t=>typeof t=="number"||Te.test(t);function U6(t,e,n,r,i,a){i?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,B6(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,z6(r))):a&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<F6;l++){const u=`border${T2[l]}Radius`;let h=W1(e,u),m=W1(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||H1(h)===H1(m)?(t[u]=Math.max(dt(q1(h),q1(m),r),0),(Wr.test(m)||Wr.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function W1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B6=I2(0,.5,KI),z6=I2(.5,.95,xt);function I2(t,e,n){return r=>r<t?0:r>e?1:n(nu(t,e,r))}function G1(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){G1(t.x,e.x),G1(t.y,e.y)}function K1(t,e,n,r,i){return t-=e,t=Jh(t,1/n,r),i!==void 0&&(t=Jh(t,1/i,r)),t}function $6(t,e=0,n=1,r=.5,i,a=t,l=t){if(Wr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=dt(a.min,a.max,r);t===a&&(u-=e),t.min=K1(t.min,e,n,u,i),t.max=K1(t.max,e,n,u,i)}function Q1(t,e,[n,r,i],a,l){$6(t,e[n],e[r],e[i],e.scale,a,l)}const q6=["x","scaleX","originX"],H6=["y","scaleY","originY"];function Y1(t,e,n,r){Q1(t.x,e,q6,n?n.x:void 0,r?r.x:void 0),Q1(t.y,e,H6,n?n.y:void 0,r?r.y:void 0)}function J1(t){return t.translate===0&&t.scale===1}function C2(t){return J1(t.x)&&J1(t.y)}function W6(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function A2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function X1(t){return Fn(t.x)/Fn(t.y)}class G6{constructor(){this.members=[]}add(e){Vv(this.members,e),e.scheduleRender()}remove(e){if(Lv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z1(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:h,rotateX:m,rotateY:g}=n;h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const K6=(t,e)=>t.depth-e.depth;class Q6{constructor(){this.children=[],this.isDirty=!1}add(e){Vv(this.children,e),this.isDirty=!0}remove(e){Lv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K6),this.isDirty=!1,this.children.forEach(e)}}function Y6(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(As(r),t(a-e))};return tt.read(r,!0),()=>As(r)}function J6(t){window.MotionDebug&&window.MotionDebug.record(t)}function X6(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Z6(t,e,n){const r=Cn(t)?t:il(t);return r.start(Ov("",r,e,n)),r.animation}const eE=["","X","Y","Z"],eF={visibility:"hidden"},tE=1e3;let tF=0;const yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function k2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=tF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yo.totalNodes=yo.resolvedTargetDeltas=yo.recalculatedProjection=0,this.nodes.forEach(sF),this.nodes.forEach(cF),this.nodes.forEach(uF),this.nodes.forEach(iF),J6(yo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q6)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Fv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=X6(l),this.instance=l;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||h)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=Y6(_,250),mh.hasAnimatedSinceResize&&(mh.hasAnimatedSinceResize=!1,this.nodes.forEach(rE))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:I,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||mF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:M}=g.getProps(),j=!this.targetLayout||!A2(this.targetLayout,S)||I,R=!_&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,R);const L={...Mv(C,"layout"),onPlay:b,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else _||rE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nE);return}this.isUpdating||this.nodes.forEach(aF),this.isUpdating=!1,this.nodes.forEach(lF),this.nodes.forEach(nF),this.nodes.forEach(rF),this.clearAllSnapshots();const u=performance.now();en.delta=Ai(0,1e3/60,u-en.timestamp),en.timestamp=u,en.isProcessing=!0,$m.update.process(en),$m.preRender.process(en),$m.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oF),this.sharedNodes.forEach(hF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!C2(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&(u||go(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),gF(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Tt();const u=l.measureViewportBox(),{scroll:h}=this.root;return h&&(oi(u.x,h.offset.x),oi(u.y,h.offset.y)),u}removeElementScroll(l){const u=Tt();Yn(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;if(m!==this.root&&g&&v.layoutScroll){if(g.isRoot){Yn(u,l);const{scroll:_}=this.root;_&&(oi(u.x,-_.offset.x),oi(u.y,-_.offset.y))}oi(u.x,g.offset.x),oi(u.y,g.offset.y)}}return u}applyTransform(l,u=!1){const h=Tt();Yn(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),go(g.latestValues)&&Wa(h,g.latestValues)}return go(this.latestValues)&&Wa(h,this.latestValues),h}removeTransform(l){const u=Tt();Yn(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!go(m.latestValues))continue;ty(m.latestValues)&&m.updateSnapshot();const g=Tt(),v=m.measurePageBox();Yn(g,v),Y1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return go(this.latestValues)&&Y1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Fc(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),_2(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Fc(this.relativeTargetOrigin,this.target,I.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ty(this.parent.latestValues)||x2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Yn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,I=this.treeScale.y;I6(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:S}=u;if(!S){this.projectionTransform&&(this.projectionDelta=Ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha());const C=this.projectionTransform;Lc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=Z1(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==_||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Tt(),I=h?h.source:void 0,S=this.layout?this.layout.source:void 0,C=I!==S,b=this.getStack(),M=!b||b.members.length<=1,j=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(pF));this.animationProgress=0;let R;this.mixTargetDelta=L=>{const J=L/1e3;sE(v.x,l.x,J),sE(v.y,l.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fF(this.relativeTarget,this.relativeTargetOrigin,_,J),R&&W6(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Tt()),Yn(R,this.relativeTarget)),C&&(this.animationValues=g,U6(g,m,this.latestValues,J,j,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{mh.hasAnimatedSinceResize=!0,this.currentAnimation=Z6(0,tE,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&P2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Tt();const v=Fn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const _=Fn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Yn(u,h),Wa(u,g),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new G6),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const m={};for(let g=0;g<eE.length;g++){const v="rotate"+eE[g];h[v]&&(m[v]=h[v],l.setStaticValue(v,0))}l.render();for(const g in m)l.setStaticValue(g,m[g]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eF;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ph(l?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=ph(l?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=Z1(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:I,y:S}=this.projectionDelta;m.transformOrigin=`${I.origin*100}% ${S.origin*100}% 0`,v.animationValues?m.opacity=v===this?(h=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const C in qh){if(_[C]===void 0)continue;const{correct:b,applyTo:M}=qh[C],j=m.transform==="none"?_[C]:b(_[C],v);if(M){const R=M.length;for(let L=0;L<R;L++)m[M[L]]=j}else m[C]=j}return this.options.layoutId&&(m.pointerEvents=v===this?ph(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(nE),this.root.sharedNodes.clear()}}}function nF(t){t.updateLayout()}function rF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Jn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],I=Fn(_);_.min=r[v].min,_.max=_.min+I}):P2(a,n.layoutBox,r)&&Jn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],I=Fn(r[v]);_.max=_.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+I)});const u=Ha();Lc(u,r,n.layoutBox);const h=Ha();l?Lc(h,t.applyTransform(i,!0),n.measuredBox):Lc(h,r,n.layoutBox);const m=!C2(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:I}=v;if(_&&I){const S=Tt();Fc(S,n.layoutBox,_.layoutBox);const C=Tt();Fc(C,r,I.layoutBox),A2(S,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sF(t){yo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oF(t){t.clearSnapshot()}function nE(t){t.clearMeasurements()}function aF(t){t.isLayoutDirty=!1}function lF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cF(t){t.resolveTargetDelta()}function uF(t){t.calcProjection()}function dF(t){t.resetRotation()}function hF(t){t.removeLeadSnapshot()}function sE(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iE(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function fF(t,e,n,r){iE(t.x,e.x,n.x,r),iE(t.y,e.y,n.y,r)}function pF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mF={duration:.45,ease:[.4,0,.1,1]},oE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),aE=oE("applewebkit/")&&!oE("chrome/")?Math.round:xt;function lE(t){t.min=aE(t.min),t.max=aE(t.max)}function gF(t){lE(t.x),lE(t.y)}function P2(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zg(X1(e),X1(n),.2)}const yF=k2({attachResizeListener:(t,e)=>ws(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},R2=k2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eg.current){const t=new yF({});t.mount(window),t.setOptions({layoutScroll:!0}),eg.current=t}return eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vF={pan:{Feature:D6},drag:{Feature:j6,ProjectionNode:R2,MeasureLayout:S2}},wF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xF(t){const e=wF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ry(t,e,n=1){const[r,i]=xF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return f2(l)?parseFloat(l):l}else return Wg(i)?ry(i,e,n+1):i}function _F(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!Wg(a))return;const l=ry(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!Wg(a))continue;const l=ry(a,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const EF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N2=t=>EF.has(t),bF=t=>Object.keys(t).some(N2),cE=t=>t===Ho||t===Te,uE=(t,e)=>parseFloat(t.split(", ")[e]),dE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return uE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?uE(a[1],t):0}},SF=new Set(["x","y","z"]),TF=vu.filter(t=>!SF.has(t));function IF(t){const e=[];return TF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ol={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dE(4,13),y:dE(5,14)};ol.translateX=ol.x;ol.translateY=ol.y;const CF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(m=>{u[m]=ol[m](r,a)}),e.render();const h=e.measureViewportBox();return n.forEach(m=>{const g=e.getValue(m);g&&g.jump(u[m]),t[m]=ol[m](h,a)}),t},AF=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(N2);let a=[],l=!1;const u=[];if(i.forEach(h=>{const m=t.getValue(h);if(!t.hasValue(h))return;let g=n[h],v=wc(g);const _=e[h];let I;if(Wh(_)){const S=_.length,C=_[0]===null?1:0;g=_[C],v=wc(g);for(let b=C;b<S&&_[b]!==null;b++)I?Pv(wc(_[b])===I):I=wc(_[b])}else I=wc(_);if(v!==I)if(cE(v)&&cE(I)){const S=m.get();typeof S=="string"&&m.set(parseFloat(S)),typeof _=="string"?e[h]=parseFloat(_):Array.isArray(_)&&I===Te&&(e[h]=_.map(parseFloat))}else v?.transform&&I?.transform&&(g===0||_===0)?g===0?m.set(I.transform(g)):e[h]=v.transform(_):(l||(a=IF(t),l=!0),u.push(h),r[h]=r[h]!==void 0?r[h]:e[h],m.jump(_))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,m=CF(e,t,u);return a.length&&a.forEach(([g,v])=>{t.getValue(g).set(v)}),t.render(),Mf&&h!==null&&window.scrollTo({top:h}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function kF(t,e,n,r){return bF(e)?AF(t,e,n,r):{target:e,transitionEnd:r}}const PF=(t,e,n,r)=>{const i=_F(t,e,r);return e=i.target,r=i.transitionEnd,kF(t,e,n,r)},sy={current:null},j2={current:!1};function RF(){if(j2.current=!0,!!Mf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addListener(e),e()}else sy.current=!1}function NF(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],l=n[i];if(Cn(a))t.addValue(i,a),Yh(r)&&r.add(i);else if(Cn(l))t.addValue(i,il(a,{owner:t})),Yh(r)&&r.remove(i);else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,il(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const hE=new WeakMap,D2=Object.keys(tu),jF=D2.length,fE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DF=_v.length;class MF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Vf(n),this.isVariantNode=vI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{});for(const v in g){const _=g[v];u[v]!==void 0&&Cn(_)&&(_.set(u[v],!1),Yh(m)&&m.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,hE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),j2.current||RF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hE.delete(this.current),this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=qo.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let l,u;for(let h=0;h<jF;h++){const m=D2[h],{isEnabled:g,Feature:v,ProjectionNode:_,MeasureLayout:I}=tu[m];_&&(l=_),g(n)&&(!this.features[m]&&v&&(this.features[m]=new v(this)),I&&(u=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:m,drag:g,dragConstraints:v,layoutScroll:_,layoutRoot:I}=n;this.projection.setOptions({layoutId:h,layout:m,alwaysMeasureLayout:!!g||v&&$a(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:_,layoutRoot:I})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fE.length;r++){const i=fE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=NF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<DF;r++){const i=_v[r],a=this.props[i];(eu(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=il(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=kv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class M2 extends MF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let l=X5(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),a){Y5(this,r,l);const u=PF(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function OF(t){return window.getComputedStyle(t)}class VF extends M2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(qo.has(n)){const r=Dv(n);return r&&r.default||0}else{const r=OF(e),i=(EI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return E2(e,n)}build(e,n,r,i){Sv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Av(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){AI(e,n,r,i)}}class LF extends M2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qo.has(n)){const r=Dv(n);return r&&r.default||0}return n=kI.has(n)?n:wv(n),e.getAttribute(n)}measureInstanceViewportBox(){return Tt()}scrapeMotionValuesFromProps(e,n){return RI(e,n)}build(e,n,r,i){Iv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){PI(e,n,r,i)}mount(e){this.isSVGTag=Cv(e.tagName),super.mount(e)}}const FF=(t,e)=>bv(t)?new LF(e,{enableHardwareAcceleration:!1}):new VF(e,{enableHardwareAcceleration:!0}),UF={layout:{ProjectionNode:R2,MeasureLayout:S2}},BF={...f6,...j3,...vF,...UF},le=zL((t,e)=>x3(t,e,BF,FF));function O2(){const t=A.useRef(!1);return vv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function zF(){const t=O2(),[e,n]=A.useState(0),r=A.useCallback(()=>{t.current&&n(e+1)},[e]);return[A.useCallback(()=>tt.postRender(r),[r]),e]}class $F extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qF({children:t,isPresent:e}){const n=A.useId(),r=A.useRef(null),i=A.useRef({width:0,height:0,top:0,left:0});return A.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),A.createElement($F,{isPresent:e,childRef:r,sizeRef:i},A.cloneElement(t,{ref:r}))}const tg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=NI(HF),h=A.useId(),m=A.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),a?void 0:[n]);return A.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),A.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=A.createElement(qF,{isPresent:n},t)),A.createElement(Df.Provider,{value:m},t)};function HF(){return new Map}function WF(t){return A.useEffect(()=>()=>t(),[])}const vo=t=>t.key||"";function GF(t,e){t.forEach(n=>{const r=vo(n);e.set(r,n)})}function KF(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const u=A.useContext(Ev).forceRender||zF()[0],h=O2(),m=KF(t);let g=m;const v=A.useRef(new Map).current,_=A.useRef(g),I=A.useRef(new Map).current,S=A.useRef(!0);if(vv(()=>{S.current=!1,GF(m,I),_.current=g}),WF(()=>{S.current=!0,I.clear(),v.clear()}),S.current)return A.createElement(A.Fragment,null,g.map(j=>A.createElement(tg,{key:vo(j),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:l},j)));g=[...g];const C=_.current.map(vo),b=m.map(vo),M=C.length;for(let j=0;j<M;j++){const R=C[j];b.indexOf(R)===-1&&!v.has(R)&&v.set(R,void 0)}return l==="wait"&&v.size&&(g=[]),v.forEach((j,R)=>{if(b.indexOf(R)!==-1)return;const L=I.get(R);if(!L)return;const J=C.indexOf(R);let se=j;if(!se){const F=()=>{v.delete(R);const P=Array.from(I.keys()).filter(O=>!b.includes(O));if(P.forEach(O=>I.delete(O)),_.current=m.filter(O=>{const B=vo(O);return B===R||P.includes(B)}),!v.size){if(h.current===!1)return;u(),r&&r()}};se=A.createElement(tg,{key:vo(L),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:a,mode:l},L),v.set(R,se)}g.splice(J,0,se)}),g=g.map(j=>{const R=j.key;return v.has(R)?j:A.createElement(tg,{key:vo(j),isPresent:!0,presenceAffectsLayout:a,mode:l},j)}),A.createElement(A.Fragment,null,v.size?g:g.map(j=>A.cloneElement(j)))};var QF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JF=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:u,...h},m)=>A.createElement("svg",{ref:m,...QF,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${YF(t)}`,...h},[...e.map(([g,v])=>A.createElement(g,v)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var _e=JF;const XF=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),V2=_e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),iy=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ZF=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),al=_e("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),eU=_e("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),tU=_e("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),Qr=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Bf=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),nU=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),rU=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),sU=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),iU=_e("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),pE=_e("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),mE=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),oU=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),gE=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),aU=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),lU=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Xh=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),cU=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),uU=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),L2=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),dU=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),hU=_e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),fU=_e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),yE=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),F2=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Eu=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),pU=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ru=_e("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),vE=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),mU=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),gU=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Uv=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yU=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Bv=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),vU=_e("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),wE=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xE=_e("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]),xi=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),wU=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),xU=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),_U=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),EU=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),oy=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),su=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ay=_e("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),bU=_e("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),SU=_e("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),zf=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Mo=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),TU=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),U2=({size:t="md",className:e=""})=>{const n={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return f.jsxs("svg",{className:`${n[t]} ${e}`,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),f.jsx("stop",{offset:"100%",stopColor:"#10B981"})]}),f.jsxs("filter",{id:"glow",children:[f.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),f.jsxs("g",{filter:"url(#glow)",children:[f.jsx("path",{d:"M8 12C8 8.68629 10.6863 6 14 6H28C31.3137 6 34 8.68629 34 12V28C34 31.3137 31.3137 34 28 34H20L14 40L16 34H14C10.6863 34 8 31.3137 8 28V12Z",fill:"url(#logoGradient)",stroke:"#1E40AF",strokeWidth:"1.5"}),f.jsx("path",{d:"M24 18C22.5 18 21.5 19 21.5 20.5C21.5 22 22.5 23 24 23C25.5 23 26.5 22 26.5 20.5C26.5 19 25.5 18 24 18Z",fill:"white"}),f.jsx("path",{d:"M24 20C23.5 20 23 20.5 23 21C23 21.5 23.5 22 24 22C24.5 22 25 21.5 25 21C25 20.5 24.5 20 24 20Z",fill:"white"}),f.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("circle",{cx:"32",cy:"16",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("circle",{cx:"24",cy:"28",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("path",{d:"M17.5 16L30.5 16",stroke:"white",strokeWidth:"1",opacity:"0.6",strokeLinecap:"round"}),f.jsx("path",{d:"M24 17.5L24 26.5",stroke:"white",strokeWidth:"1",opacity:"0.6",strokeLinecap:"round"})]})]})},IU=()=>{const[t,e]=A.useState(!0);A.useEffect(()=>{const r=localStorage.getItem("theme");r?(e(r==="dark"),r==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("blue"))):(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue"),localStorage.setItem("theme","dark"))},[]);const n=()=>{const r=!t;e(r);const i=r?"dark":"blue";localStorage.setItem("theme",i),i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("blue"))};return f.jsx(le.button,{onClick:n,className:`relative w-14 h-8 ${t?"bg-white/10":"bg-blue-500/20"} backdrop-blur-sm rounded-full border border-white/20 p-1 cursor-pointer`,whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(le.div,{className:`w-6 h-6 ${t?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-blue-400 to-cyan-400"} rounded-full flex items-center justify-center`,animate:{x:t?24:0},transition:{type:"spring",stiffness:500,damping:30},children:f.jsx(le.div,{initial:!1,animate:{rotate:t?180:0},transition:{duration:.3},children:t?f.jsx(mU,{className:"w-4 h-4 text-white"}):f.jsx(xU,{className:"w-4 h-4 text-blue-600"})})})})},CU=()=>f.jsxs("footer",{style:{width:"100%",padding:"1.5rem 0 1rem 0",background:"rgba(0,0,0,0.85)",color:"#fff",textAlign:"center",position:"static",left:void 0,bottom:void 0,zIndex:void 0},children:[f.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:4},children:"MeetMate – Your AI-powered event networking companion"}),f.jsxs("div",{style:{fontSize:"0.95rem",marginBottom:4},children:["Contact: ",f.jsx("a",{href:"mailto:support@meetmate.ai",style:{color:"#7dd3fc",textDecoration:"underline"},children:"support@meetmate.ai"})]}),f.jsxs("div",{style:{fontSize:"0.95rem",marginBottom:4},children:[f.jsx("a",{href:"/privacy",style:{color:"#a5b4fc",marginRight:12,textDecoration:"underline"},children:"Privacy Policy"}),f.jsx("a",{href:"/terms",style:{color:"#a5b4fc",textDecoration:"underline"},children:"Terms of Service"})]}),f.jsxs("div",{style:{fontSize:"0.9rem",marginTop:8},children:["© ",new Date().getFullYear()," MeetMate. All rights reserved."]})]}),B2=[{question:"Can AI suggest people to meet based on location?",answer:"Absolutely — I can surface nearby attendees and people in your city who match your interests. I look at location, event attendance, and shared topics to recommend the best nearby matches."},{question:"Can I schedule reminders for follow-ups?",answer:"Yes — I can create friendly follow-up reminders for messages and meetings, and suggest optimal days/times so your outreach gets the best response."},{question:"Can AI recommend personalized events?",answer:"Yes — I suggest events that match your profile, skills, and goals. I prioritize events other users like you attended and events with high relevance to your interests."},{question:"Can AI suggest icebreakers for virtual meetings?",answer:"Yes — I generate short, context-aware icebreakers based on profiles and shared interests so conversations start naturally."},{question:"Can AI summarize meeting notes?",answer:"Yes — I can produce concise summaries with action items, decisions, and suggested next steps so nothing gets lost after a meeting."},{question:"Can AI provide connection recommendations based on goals?",answer:`Yes — tell me a goal (for example, "find collaborators" or "learn DeFi UX") and I'll recommend people whose profiles and activity indicate alignment.`},{question:"Can I track which users read my messages?",answer:"Yes — I can show read receipts for messages and highlight conversations that received a reply or need a follow-up."},{question:"Can AI help prioritize responses?",answer:"Yes — I rank inbound messages by urgency and relevance to your goals, and can suggest quick replies for each high-priority thread."},{question:"Can AI recommend personalized meeting agendas?",answer:"Yes — I draft short agendas with objectives and talking points tailored to the participants and the meeting length."},{question:"Can AI suggest people with shared goals?",answer:"Yes — tell me a goal and I’ll return people whose profiles and activity indicate alignment."},{question:"Who should I connect with right now?",answer:`Here are six high-value people from your current matches you should consider connecting with:

1. Anna Chen — Product Designer (DeFi Labs). Great if you want product and UX insights in decentralized products.
2. Marcus Rodriguez — Smart Contract Developer (Ethereum Foundation). Ideal for technical collaboration on DeFi projects.
3. Sarah Kim — Growth Marketing Manager (Web3 Startup). Strong for growth strategy and community-building advice.
4. David Thompson — AI Research Engineer (AI Research Lab). Helpful for AI integrations and research collaborations.
5. Emily Carter — Community Lead (DAO Collective). Excellent if you want practical DAO/community guidance.
6. James Lee — Full Stack Developer (Startup Hub). Good for hands-on implementation and quick prototyping.

If you tell me what outcome you want (for example, "find a co-founder" or "learn DeFi UX"), I’ll reorder this list and provide suggested message openers for each person.`},{question:"What’s the best meet for me?",answer:`To suggest the best meeting format and agenda, tell me whether you prefer a quick 15-minute intro, a hands-on collaboration session, or a longer discovery call. Based on your profile and goals, my current pick would be:

- Quick 15-minute intro at the start of the day to establish rapport and agree on next steps.
- If collaboration is the goal, schedule a 60-minute workshop with a short agenda: quick intros, problem framing, and two 20-minute breakout work sessions.

If you want, I’ll pick which people from your matches should attend and create an agenda and invitation text for you.`},{question:"Can I customize AI suggestions?",answer:"Yes — you can choose focus areas (networking, event planning, skill-building), and I’ll tailor recommendations accordingly."},{question:"Can AI suggest icebreaker questions?",answer:"Yes — I create concise icebreakers tied to someone’s profile or the event topic to make introductions easy and natural."},{question:"Can AI analyze chat sentiment?",answer:"Yes — I rate message tone and highlight conversations that may need a more thoughtful response."},{question:"How do I delete my account?",answer:"To delete your account, go to Account Settings, scroll down, and click 'Delete Account'. Please confirm your choice to permanently remove your account. We're sorry to see you go and hope you'll return in the future."},{question:"How do I contact MeetMate support?",answer:"If you need help or have questions, please use the 'Contact Us' form in the app or email support@meetmate.com. Our friendly team will respond as soon as possible and are happy to assist you."}],AU=["weather","stock","movie","news","recipe","game","sports","music","travel","politics","health","finance","shopping","food","car","joke","random"];function _E(t){return t.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(Boolean)}function kU(t,e){const n=t.length,r=e.length,i=Array.from({length:n+1},()=>new Array(r+1).fill(0));for(let a=0;a<=n;a++)i[a][0]=a;for(let a=0;a<=r;a++)i[0][a]=a;for(let a=1;a<=n;a++)for(let l=1;l<=r;l++){const u=t[a-1]===e[l-1]?0:1;i[a][l]=Math.min(i[a-1][l]+1,i[a][l-1]+1,i[a-1][l-1]+u)}return i[n][r]}function PU(t,e){const n=_E(t),r=_E(e),a=n.filter(h=>r.includes(h)).length/Math.max(1,r.length),u=1-kU(t.toLowerCase(),e.toLowerCase())/Math.max(t.length,e.length,1);return Math.max(0,.6*a+.4*u)}function RU(t,e=5){const n=B2.map(r=>({faq:r,score:PU(t,r.question)}));return n.sort((r,i)=>i.score-r.score),n.slice(0,e)}function NU(){const[t,e]=A.useState(!1),[n,r]=A.useState([{text:"👋 Hi, I’m your MeetMate Assistant. Ask me anything about MeetMate!",isUser:!1,source:"system"}]),[i,a]=A.useState(""),[l,u]=A.useState(!1),[h,m]=A.useState([]),g=A.useRef(null);A.useEffect(()=>{g.current?.scrollIntoView({behavior:"smooth"})},[n,l]);const v=A.useMemo(()=>B2,[]),_=C=>{const b=C.toLowerCase();if(AU.some(J=>b.includes(J)))return{reply:"I can only answer questions about MeetMate. Try asking about profiles, events, or connections.",source:"fallback",suggestions:[]};const M=RU(C,6),j=M[0],R=M[1];if(j&&j.score>=.6)return{reply:j.faq.answer,source:"meetmate-faq",suggestions:M.slice(0,3).map(J=>J.faq.question)};if(j&&j.score>=.35)return{reply:`I found some relevant information that may help:

• ${j.faq.question}: ${j.faq.answer}
${R&&R.score>0?`
• ${R.faq.question}: ${R.faq.answer}`:""}`,source:"synthesized",suggestions:M.slice(0,3).map(se=>se.faq.question)};const L=M.slice(0,3).filter(J=>J.score>0).map(J=>J.faq.question);return L.length>0?{reply:`I don't have an exact answer, but here are topics that might help:

- ${L.join(`
- `)}

Ask one of the topics above or rephrase your question.`,source:"fallback",suggestions:L}:{reply:"I don’t have that information yet, but the MeetMate team will add it soon. You can ask about events, matches, or profile setup.",source:"fallback",suggestions:v.slice(0,3).map(J=>J.question)}},I=C=>{const b=i.trim();if(!b)return;r(J=>[...J,{text:b,isUser:!0}]),a(""),u(!0);const{reply:M,source:j,suggestions:R}=_(b),L=Math.min(2e3+M.length*10,4500);setTimeout(()=>{r(J=>[...J,{text:M,isUser:!1,source:j}]),m(R),u(!1)},L)},S=C=>{r(L=>[...L,{text:C,isUser:!0}]),u(!0);const{reply:b,source:M,suggestions:j}=_(C),R=Math.min(1500+b.length*8,4e3);setTimeout(()=>{r(L=>[...L,{text:b,isUser:!1,source:M}]),m(j),u(!1)},R)};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300 flex items-center justify-center",onClick:()=>e(!t),children:t?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):f.jsx(al,{className:"w-6 h-6 text-white"})}),t&&f.jsxs("div",{className:"fixed bottom-24 right-6 z-40 w-96 h-[520px] bg-gradient-to-br from-blue-700/80 via-purple-800/80 to-indigo-900/80 backdrop-blur-2xl rounded-3xl border border-white/30 shadow-2xl flex flex-col md:w-96 md:h-[520px] md:right-6 md:bottom-24 sm:w-[95vw] sm:h-[60vh] sm:right-2 sm:bottom-2 sm:rounded-2xl sm:border sm:border-white/30 sm:z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-gradient-to-r from-blue-600/60 to-purple-700/60 rounded-t-3xl",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(al,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white text-lg tracking-wide",children:"MeetMate Assistant"}),f.jsx("p",{className:"text-xs text-white/70",children:"Online"})]})]}),f.jsx(xi,{className:"w-5 h-5 text-yellow-300 drop-shadow-lg"})]}),f.jsx("div",{className:"px-4 py-1 bg-white/10 text-xs text-white/70 text-right font-medium border-b border-white/10",children:"🤖 Powered by Sensay AI"}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[350px] custom-scrollbar",children:[n.map((C,b)=>f.jsx("div",{className:`flex ${C.isUser?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl shadow-md transition-all ${C.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/20 text-white/90 backdrop-blur-md border border-white/10"}`,children:[f.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:C.text}),!C.isUser&&C.source&&f.jsxs("div",{className:"mt-2 text-xs text-white/60",children:["Source: ",C.source==="meetmate-faq"?"MeetMate FAQ":C.source==="synthesized"?"MeetMate (synthesized)":C.source==="fallback"?"MeetMate (suggested topics)":"System"]})]})},b)),l&&f.jsx("div",{className:"flex justify-start",children:f.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white p-3 rounded-2xl flex items-center gap-2",children:[f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),f.jsx("span",{className:"text-xs text-white/70",children:"MeetMate Assistant is thinking..."})]})}),f.jsx("div",{ref:g})]}),h.length>0&&f.jsx("div",{className:"px-4 pb-2 flex flex-wrap gap-2",children:h.map((C,b)=>f.jsx("button",{onClick:()=>S(C),className:"text-xs px-3 py-1 rounded-full bg-white/10 text-white/80 hover:bg-white/20",children:C},b))}),f.jsx("div",{className:"p-4 border-t border-white/20 bg-gradient-to-t from-indigo-900/30 to-transparent rounded-b-3xl",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:i,onChange:C=>a(C.target.value),onKeyDown:C=>C.key==="Enter"&&I(),placeholder:"Ask me anything about MeetMate (profiles, events, matches)...",className:"flex-1 bg-white/20 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2 text-white placeholder-white/60 focus:outline-none focus:border-white/40 shadow-inner"}),f.jsx("button",{onClick:()=>I(),disabled:!i.trim(),className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50 shadow-lg",children:f.jsx(Bv,{className:"w-4 h-4 text-white"})})]})})]})]})}const EE="meetmate:settings",ng={theme:"system",marqueeEnabled:!0,marqueeSpeed:40,notificationsEnabled:!0},z2=A.createContext(void 0),jU=({children:t})=>{const[e,n]=A.useState(()=>{try{const a=localStorage.getItem(EE);if(a)return{...ng,...JSON.parse(a)}}catch{}return ng});A.useEffect(()=>{try{localStorage.setItem(EE,JSON.stringify(e))}catch{}},[e]),A.useEffect(()=>{if(typeof window>"u")return;const a=document.documentElement;(_=>{_==="dark"?a.classList.add("dark"):_==="light"?a.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?a.classList.add("dark"):a.classList.remove("dark")})(e.theme);let u=null;const h=_=>{e.theme==="system"&&(_.matches?a.classList.add("dark"):a.classList.remove("dark"))};if(window.matchMedia){u=window.matchMedia("(prefers-color-scheme: dark)");try{u.addEventListener?u.addEventListener("change",h):u.addListener(h)}catch{}}const m=e.marqueeSpeed,g=Math.max(6,Math.round((110-m)*.6)),v=Math.max(6,Math.round((110-m)*.36));return a.style.setProperty("--marquee-duration",`${g}s`),a.style.setProperty("--sponsor-speed",`${v}s`),a.style.setProperty("--marquee-play-state",e.marqueeEnabled?"running":"paused"),()=>{if(u)try{u.removeEventListener?u.removeEventListener("change",h):u.removeListener(h)}catch{}}},[e.theme,e.marqueeSpeed,e.marqueeEnabled]);const r=a=>n(l=>({...l,...a})),i=()=>n(ng);return f.jsx(z2.Provider,{value:{settings:e,update:r,reset:i},children:t})},$2=()=>{const t=A.useContext(z2);if(!t)throw new Error("useSettings must be used within SettingsProvider");return t},DU=({open:t,onClose:e})=>{const{settings:n,update:r,reset:i}=$2();return t?f.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:e}),f.jsxs("div",{className:"relative bg-white/5 backdrop-blur-md border border-white/10 rounded-lg max-w-md w-full p-6 z-50",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Settings"}),f.jsxs("div",{className:"space-y-4 text-sm text-white/90",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-white/80 mb-2",children:"Theme"}),f.jsx("div",{className:"flex items-center space-x-2",children:["system","light","dark"].map(a=>f.jsx("button",{onClick:()=>r({theme:a}),className:`px-3 py-1 rounded-lg ${n.theme===a?"bg-blue-500/20 text-white":"text-white/60 hover:bg-white/5"}`,children:a},a))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-white/80 mb-2",children:"Marquee autoplay"}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("button",{onClick:()=>r({marqueeEnabled:!n.marqueeEnabled}),className:`px-3 py-1 rounded-lg ${n.marqueeEnabled?"bg-blue-500/20 text-white":"text-white/60 hover:bg-white/5"}`,children:n.marqueeEnabled?"On":"Off"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-white/70 text-xs",children:"Speed"}),f.jsx("input",{type:"range",min:10,max:100,value:n.marqueeSpeed,onChange:a=>r({marqueeSpeed:Number(a.target.value)}),className:"w-full"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-white/80 mb-2",children:"Notifications"}),f.jsx("div",{children:f.jsx("button",{onClick:()=>r({notificationsEnabled:!n.notificationsEnabled}),className:`px-3 py-1 rounded-lg ${n.notificationsEnabled?"bg-blue-500/20 text-white":"text-white/60 hover:bg-white/5"}`,children:n.notificationsEnabled?"Enabled":"Disabled"})})]})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[f.jsx("button",{onClick:()=>{i(),e()},className:"px-4 py-2 rounded-lg text-sm text-white/60 hover:bg-white/5",children:"Reset"}),f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg bg-blue-500 text-white",children:"Done"})]})]})]}):null},po=({children:t})=>{const[e,n]=A.useState(!1),[r,i]=A.useState(!1),[a,l]=A.useState([{id:"n1",title:"New match with Alex",time:"2m ago",read:!1},{id:"n2",title:"Event reminder: Team Sync",time:"1h ago",read:!1}]),[u,h]=A.useState(!1),[m,g]=A.useState(!1),v=Vo(),_=dl(),{user:I,userProfile:S,signOut:C}=$o(),{settings:b}=$2(),M=[{name:"Home",href:"/",icon:dU},{name:"Profile",href:"/profile",icon:oy},{name:"Matches",href:"/matches",icon:L2},{name:"Schedule",href:"/schedule",icon:Qr},{name:"Dashboard",href:"/dashboard",icon:iy}],j=async()=>{try{await C(),_("/auth")}catch(L){console.error("Sign out error:",L)}},R=L=>v.pathname===L;return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative",children:[f.jsxs("header",{className:"bg-white/5 backdrop-blur-md border-b border-white/10 sticky top-0 z-50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs(Va,{to:"/",className:"flex items-center space-x-2",children:[f.jsx(U2,{}),f.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"MeetMate"})]}),f.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:M.map(L=>{const J=L.icon;return f.jsxs(Va,{to:L.href,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${R(L.href)?"text-blue-400 bg-blue-500/10 border border-blue-500/20":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[f.jsx(J,{className:"w-4 h-4"}),f.jsx("span",{children:L.name})]},L.name)})}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(IU,{}),f.jsx("button",{onClick:()=>g(!0),className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200","aria-label":"Settings",children:f.jsx(wE,{className:"w-5 h-5"})}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{className:`relative p-2 ${b.notificationsEnabled?"text-white/60 hover:text-white hover:bg-white/10":"text-white/30 cursor-not-allowed"} rounded-lg transition-all duration-200`,onClick:()=>{b.notificationsEnabled&&(i(!r),r||l(L=>L.map(J=>({...J,read:!0}))))},"aria-label":"Notifications",children:[f.jsx(ZF,{className:"w-5 h-5"}),b.notificationsEnabled&&a.filter(L=>!L.read).length>0&&f.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex items-center justify-center rounded-full bg-red-500 text-white text-[10px] px-1.5 py-0.5",children:a.filter(L=>!L.read).length})]}),f.jsx(fn,{children:r&&f.jsxs(le.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20 py-2 z-50",children:[f.jsx("div",{className:"px-4 py-2 text-sm text-white/80",children:"Notifications"}),f.jsx("div",{className:"border-t border-white/10 my-1"}),f.jsxs("div",{className:"max-h-56 overflow-y-auto",children:[a.length===0&&f.jsx("div",{className:"px-4 py-2 text-sm text-white/60",children:"No notifications."}),a.map(L=>f.jsxs("div",{className:`px-4 py-3 text-sm ${L.read?"text-white/60":"text-white"} hover:bg-white/5 cursor-default`,children:[f.jsx("div",{className:"font-semibold",children:L.title}),f.jsx("div",{className:"text-xs mt-1 text-white/50",children:L.time})]},L.id))]})]})})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>h(!u),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-white/10 transition-all duration-200",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:S?.name?.charAt(0)||I?.email?.charAt(0)||"U"}),f.jsx("span",{className:"hidden sm:block text-sm font-medium text-white",children:S?.name||I?.email||"User"})]}),f.jsx(fn,{children:u&&f.jsxs(le.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20 py-2 z-50",children:[f.jsxs(Va,{to:"/profile",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>h(!1),children:[f.jsx(oy,{className:"w-4 h-4"}),f.jsx("span",{children:"Profile"})]}),f.jsxs(Va,{to:"/dashboard",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>h(!1),children:[f.jsx(iy,{className:"w-4 h-4"}),f.jsx("span",{children:"Dashboard"})]}),f.jsxs(Va,{to:"/settings",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>h(!1),children:[f.jsx(wE,{className:"w-4 h-4"}),f.jsx("span",{children:"Settings"})]}),f.jsx("div",{className:"border-t border-white/10 my-1"}),f.jsxs("button",{onClick:j,className:"flex items-center space-x-3 px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 w-full transition-all duration-200",children:[f.jsx(yE,{className:"w-4 h-4"}),f.jsx("span",{children:"Sign Out"})]})]})})]}),f.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:e?f.jsx(Mo,{className:"w-5 h-5"}):f.jsx(pU,{className:"w-5 h-5"})})]})]})}),f.jsx(fn,{children:e&&f.jsx(le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden border-t border-white/10 bg-white/5 backdrop-blur-md",children:f.jsxs("div",{className:"px-4 py-4 space-y-2",children:[M.map(L=>{const J=L.icon;return f.jsxs(Va,{to:L.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${R(L.href)?"text-blue-400 bg-blue-500/10 border border-blue-500/20":"text-white/60 hover:text-white hover:bg-white/10"}`,onClick:()=>n(!1),children:[f.jsx(J,{className:"w-4 h-4"}),f.jsx("span",{children:L.name})]},L.name)}),f.jsx("div",{className:"border-t border-white/10 my-2"}),f.jsxs("button",{onClick:j,className:"flex items-center space-x-3 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 w-full rounded-lg transition-all duration-200",children:[f.jsx(yE,{className:"w-4 h-4"}),f.jsx("span",{children:"Sign Out"})]})]})})})]}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),f.jsx(CU,{}),f.jsx(DU,{open:m,onClose:()=>g(!1)}),f.jsx(NU,{})]})},MU=()=>{const t=A.useRef(null),e=Array.from({length:15},(n,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,size:Math.random()*60+20,duration:Math.random()*20+10,delay:Math.random()*5}));return A.useEffect(()=>{const n=t.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const i=()=>{n.width=window.innerWidth,n.height=window.innerHeight};i(),window.addEventListener("resize",i);const a=()=>{r.clearRect(0,0,n.width,n.height);const l=r.createLinearGradient(0,0,n.width,n.height);l.addColorStop(0,"rgba(59, 130, 246, 0.1)"),l.addColorStop(.5,"rgba(147, 51, 234, 0.1)"),l.addColorStop(1,"rgba(20, 184, 166, 0.1)"),r.fillStyle=l,r.fillRect(0,0,n.width,n.height),e.forEach((u,h)=>{const m=Date.now()*.001,g=(u.x+Math.sin(m+u.delay)*20)*n.width/100,v=(u.y+Math.cos(m+u.delay)*15)*n.height/100;r.beginPath(),r.arc(g,v,u.size,0,Math.PI*2),r.fillStyle=`rgba(255, 255, 255, ${.05+Math.sin(m+u.delay)*.02})`,r.fill()}),requestAnimationFrame(a)};return a(),()=>{window.removeEventListener("resize",i)}},[]),f.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[f.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-teal-500/5"}),f.jsx("div",{className:"absolute inset-0 opacity-10",children:f.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:50px_50px]"})})]})},gh=({children:t,className:e="",hover:n=!0,onClick:r})=>f.jsxs(le.div,{className:`
        relative overflow-hidden rounded-2xl
        bg-white/10 backdrop-blur-xl
        border border-white/20 shadow-2xl
        ${n?"hover:bg-white/15 hover:border-white/30 transition-all duration-300":""}
        ${r?"cursor-pointer":""}
        ${e}
      `,whileHover:n?{scale:1.02,y:-2}:{},whileTap:r?{scale:.98}:{},onClick:r,children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-white/10"}),f.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-teal-500/20 opacity-0 hover:opacity-100 transition-opacity duration-300"}),f.jsx("div",{className:"relative z-10 p-6",children:t})]}),rg=({children:t,onClick:e,variant:n="primary",size:r="md",disabled:i=!1,loading:a=!1,className:l=""})=>{const u={primary:{bg:"bg-gradient-to-r from-blue-500 to-purple-600",glow:"shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:shadow-[0_0_30px_rgba(59,130,246,0.8)]",border:"border-blue-500/50"},secondary:{bg:"bg-gradient-to-r from-purple-500 to-pink-600",glow:"shadow-[0_0_20px_rgba(147,51,234,0.5)] hover:shadow-[0_0_30px_rgba(147,51,234,0.8)]",border:"border-purple-500/50"},success:{bg:"bg-gradient-to-r from-green-500 to-teal-600",glow:"shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:shadow-[0_0_30px_rgba(34,197,94,0.8)]",border:"border-green-500/50"},danger:{bg:"bg-gradient-to-r from-red-500 to-pink-600",glow:"shadow-[0_0_20px_rgba(239,68,68,0.5)] hover:shadow-[0_0_30px_rgba(239,68,68,0.8)]",border:"border-red-500/50"}},h={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},m=u[n],g=h[r];return f.jsxs(le.button,{className:`
        relative overflow-hidden rounded-xl font-semibold text-white
        ${m.bg}
        ${m.glow}
        ${m.border}
        ${g}
        ${i?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        transition-all duration-300 ease-out
        hover:scale-105 active:scale-95
        ${l}
      `,onClick:e,disabled:i||a,whileHover:!i&&!a?{scale:1.05}:{},whileTap:!i&&!a?{scale:.95}:{},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000"}),a&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),f.jsx("span",{className:`relative z-10 ${a?"opacity-0":"opacity-100"} transition-opacity duration-200`,children:t})]})},$f=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState([]),[i,a]=A.useState(""),[l,u]=A.useState(!1),h=A.useRef(null),m=A.useRef(null),g=()=>{},v=_=>{};return f.jsxs("div",{className:"hidden sm:block",children:[f.jsx(le.button,{className:"fixed bottom-4 right-4 z-50 w-14 h-14 sm:bottom-6 sm:right-6 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300",onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(fn,{mode:"wait",children:t?f.jsx(le.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:f.jsx(Mo,{className:"w-6 h-6 text-white mx-auto"})},"close"):f.jsx(le.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},children:f.jsx(al,{className:"w-6 h-6 text-white mx-auto"})},"bot")})}),f.jsx(fn,{children:t&&f.jsxs(le.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-0 right-0 z-40 w-full h-full max-h-none bg-white/10 backdrop-blur-xl border-t border-l border-white/20 shadow-2xl rounded-none sm:bottom-24 sm:right-6 sm:w-96 sm:h-[500px] sm:rounded-2xl sm:border sm:max-h-[90vh] pb-24 sm:pb-0 touch-manipulation select-none",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(al,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white",children:"AI Matchmaker"}),f.jsx("p",{className:"text-xs text-white/60",children:"Online"})]})]}),f.jsx(xi,{className:"w-4 h-4 text-yellow-400"})]}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[50vh] sm:max-h-[350px]",children:[n.map(_=>f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${_.isUser?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl ${_.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/10 text-white backdrop-blur-sm"}`,children:[f.jsx("p",{className:"text-sm",children:_.text}),f.jsx("p",{className:"text-xs opacity-60 mt-1",children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},_.id)),l&&f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:f.jsx("div",{className:"bg-white/10 backdrop-blur-sm text-white p-3 rounded-2xl",children:f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),f.jsx("div",{ref:m})]}),f.jsx("div",{className:"p-4 border-t border-white/10",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{ref:h,type:"text",value:i,onChange:_=>a(_.target.value),onKeyPress:v,placeholder:"Ask me anything...",className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-3 text-white placeholder-white/60 focus:outline-none focus:border-white/40 text-base sm:text-sm",style:{minHeight:44}}),f.jsx(le.button,{onClick:g,disabled:!i.trim(),className:"w-12 h-12 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},style:{minWidth:44,minHeight:44},children:f.jsx(Bv,{className:"w-5 h-5 sm:w-4 sm:h-4 text-white"})})]})})]})})]})},OU=({user:t,connectStatus:e="default",onConnect:n,onMessage:r,onSchedule:i})=>{const[a,l]=A.useState(!1),u=h=>h?"bg-green-500":"bg-gray-400";return f.jsxs(gh,{className:"relative group",children:[f.jsx("div",{className:"absolute top-4 right-4 z-20",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:`w-3 h-3 ${u(t.isOnline)} rounded-full animate-pulse`}),f.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping opacity-75"})]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-teal-500 p-1 mx-auto",children:f.jsx("div",{className:"w-full h-full rounded-full bg-gray-800 flex items-center justify-center overflow-hidden",children:t.avatar?f.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover"}):f.jsx(oy,{className:"w-12 h-12 text-white/60"})})}),f.jsx("div",{className:"absolute -bottom-1 -right-1",children:f.jsx("div",{className:`w-6 h-6 ${u(t.isOnline)} rounded-full border-2 border-white`})})]}),f.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:t.name}),f.jsx("p",{className:"text-white/60 text-sm",children:t.role}),f.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-white/60",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(eU,{className:"w-4 h-4"}),f.jsx("span",{children:t.company})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Eu,{className:"w-4 h-4"}),f.jsx("span",{children:t.location})]})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-2",children:[[...Array(5)].map((h,m)=>f.jsx(wU,{className:`w-4 h-4 ${m<t.rating?"text-yellow-400 fill-current":"text-white/20"}`},m)),f.jsxs("span",{className:"text-sm text-white/60 ml-2",children:["(",t.rating,"/5)"]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:t.bio})}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-white font-semibold mb-3",children:"Interests"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map((h,m)=>f.jsx(le.span,{className:"px-3 py-1 bg-white/10 backdrop-blur-sm rounded-full text-xs text-white/80 border border-white/20",whileHover:{scale:1.05},children:h},m))})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(le.button,{onClick:n,disabled:e==="pending"||e==="connected",className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm transition-all duration-300
            ${e==="connected"?"bg-green-500 text-white cursor-default":e==="pending"?"bg-yellow-400 text-white cursor-not-allowed animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-[0_0_20px_rgba(59,130,246,0.5)]"}
          `,whileHover:e==="default"?{scale:1.02}:{},whileTap:e==="default"?{scale:.98}:{},children:e==="connected"?"Connected":e==="pending"?"Pending...":"Connect"}),f.jsx(le.button,{onClick:r,className:"w-12 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl flex items-center justify-center hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:f.jsx(ru,{className:"w-5 h-5 text-white"})}),f.jsx(le.button,{onClick:i,className:"w-12 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl flex items-center justify-center hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Qr,{className:"w-5 h-5 text-white"})})]}),f.jsx(fn,{children:a&&f.jsxs(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur-sm text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-30",children:["Send Message",f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black/80"})]})})]})},VU=({name:t,logoUrl:e,tier:n,Icon:r,url:i})=>{const l=f.jsxs("div",{className:"sponsor-card sponsor-card--neutral w-72 h-44 p-4 rounded-2xl flex flex-col items-center justify-between",role:"group","aria-label":`${t} — ${n} Sponsor`,children:[f.jsx("div",{className:"w-full flex items-start justify-between",children:f.jsx("div",{className:"industry-icon inline-flex items-center justify-center p-1 rounded-md bg-transparent",children:f.jsx(r,{className:"h-5 w-5 stroke-current text-white/90"})})}),f.jsx("div",{className:"flex-1 w-full flex flex-col items-center justify-center gap-2",children:f.jsxs("div",{className:"logo-wrapper relative w-full flex items-center justify-center",children:[f.jsx("img",{src:e,alt:`${t} logo`,className:"max-h-16 object-contain",loading:"lazy",decoding:"async",onError:u=>{u.currentTarget.onerror=null,u.currentTarget.src="/sponsor-fallback.svg"}}),f.jsx("div",{className:"sponsor-name-overlay pointer-events-none absolute inset-0 flex items-end justify-center p-3",children:f.jsx("div",{className:"sponsor-name-overlay-text text-sm font-semibold px-3 py-1 rounded-md",children:t})})]})}),f.jsx("div",{className:"w-full flex items-center justify-center",children:f.jsx("span",{className:"tier-label text-sm font-semibold tracking-wide",children:n==="Sponsor"?"Sponsor":`${n} Sponsor`})})]});return i?f.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"no-underline","aria-label":`${t} — opens in a new tab`,children:l}):l},LU=({user:t,onClose:e,onSendMessage:n})=>{const[r,i]=A.useState(""),[a,l]=A.useState(!1),[u,h]=A.useState(!1),[m,g]=A.useState(""),[v,_]=A.useState([]),I=A.useRef(null),S=localStorage.getItem("currentUserId")||"me",C=`chat_${[S,t.id].sort().join("_")}`;A.useEffect(()=>{const M=localStorage.getItem(C);_(M?JSON.parse(M):[]),setTimeout(()=>I.current?.scrollIntoView({behavior:"smooth"}),100)},[C]);const b=()=>{if(r.trim()){l(!0),g("");try{const M={id:Date.now(),text:r,sender:S,receiver:t.id,timestamp:new Date().toISOString()},j=[...v,M];_(j),localStorage.setItem(C,JSON.stringify(j)),i(""),h(!0),n&&n(r),setTimeout(()=>h(!1),1e3),setTimeout(()=>I.current?.scrollIntoView({behavior:"smooth"}),100)}catch{g("Failed to send message. Please try again.")}finally{l(!1)}}};return f.jsx(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/80 backdrop-blur-[6px]",children:f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/40 via-blue-200/30 to-purple-200/30 backdrop-blur-2xl shadow-2xl border border-white/20",style:{filter:"blur(0px)"}}),f.jsxs("div",{className:"relative z-10 bg-white/60 dark:bg-black/60 rounded-3xl p-8 flex flex-col items-center shadow-2xl backdrop-blur-xl",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-primary",children:f.jsx(zf,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsx(ru,{className:"w-12 h-12 text-primary mb-2"}),f.jsxs("h2",{className:"text-2xl font-bold mb-2 text-center",children:["Message ",t.name]}),f.jsx("p",{className:"text-muted-foreground text-center",children:"Start a conversation and build your network."})]}),f.jsxs("div",{className:"max-h-48 overflow-y-auto mb-4 bg-white/10 rounded-xl p-2",children:[v.length===0&&f.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet."}),v.map(M=>f.jsx("div",{className:`mb-2 flex ${M.sender===S?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`px-3 py-2 rounded-xl text-sm max-w-xs break-words ${M.sender===S?"bg-primary text-white":"bg-gray-200 text-gray-800"}`,children:M.text})},M.id)),f.jsx("div",{ref:I})]}),u&&f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx(Bf,{className:"w-10 h-10 text-green-500 mb-2 animate-bounce"}),f.jsx("span",{className:"text-green-600 font-semibold text-lg",children:"Message sent successfully!"})]}),m&&f.jsx("div",{className:"text-red-500 mb-4 text-center",children:m}),f.jsx("textarea",{className:"w-full h-24 p-2 border rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-primary/30",value:r,onChange:M=>i(M.target.value),placeholder:"Type your message...",disabled:a}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-2",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:"Cancel"}),f.jsx("button",{onClick:b,disabled:a||!r.trim(),className:"px-4 py-2 rounded-xl bg-primary text-white font-semibold shadow hover:bg-primary/80 transition-all duration-200 disabled:opacity-50",children:a?"Sending...":"Send"})]})]})]})})},FU=({user:t,onClose:e,onSchedule:n})=>{const[r,i]=A.useState(""),[a,l]=A.useState(!1),[u,h]=A.useState(!1),[m,g]=A.useState(""),[v,_]=A.useState([]),I=localStorage.getItem("currentUserId")||"me",S=`meetings_${[I,t.id].sort().join("_")}`;A.useEffect(()=>{const b=localStorage.getItem(S);_(b?JSON.parse(b):[])},[S,u]);const C=()=>{if(r){l(!0),g("");try{const b={id:Date.now(),title:`Meeting with ${t.name}`,date:r,with:t.name,userId:t.id},M=[...v,b];_(M),localStorage.setItem(S,JSON.stringify(M)),h(!0),n&&n(r);const j=`stats-${I}`,R=JSON.parse(localStorage.getItem(j)||"{}");R.meetings=(R.meetings||0)+1,localStorage.setItem(j,JSON.stringify(R))}catch{g("Failed to schedule. Please try again.")}finally{l(!1)}}};return f.jsx(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/80 backdrop-blur-[6px]",children:f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/40 via-blue-200/30 to-purple-200/30 backdrop-blur-2xl shadow-2xl border border-white/20",style:{filter:"blur(0px)"}}),f.jsxs("div",{className:"relative z-10 bg-white/60 dark:bg-black/60 rounded-3xl p-8 flex flex-col items-center shadow-2xl backdrop-blur-xl",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-primary",children:f.jsx(zf,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsx(tU,{className:"w-12 h-12 text-primary mb-2"}),f.jsxs("h2",{className:"text-2xl font-bold mb-2 text-center",children:["Schedule with ",t.name]}),f.jsx("p",{className:"text-muted-foreground text-center",children:"Pick a date and time to schedule your meeting."})]}),u?f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx(Bf,{className:"w-10 h-10 text-green-500 mb-2 animate-bounce"}),f.jsx("span",{className:"text-green-600 font-semibold text-lg",children:"Meeting scheduled!"}),f.jsx("button",{onClick:e,className:"mt-4 px-6 py-2 rounded-xl bg-primary text-white font-semibold shadow-lg",children:"Close"})]}):f.jsxs(f.Fragment,{children:[m&&f.jsx("div",{className:"text-red-500 mb-4 text-center",children:m}),f.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-primary/30",value:r,onChange:b=>i(b.target.value),disabled:a}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-2",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:"Cancel"}),f.jsx("button",{onClick:C,disabled:a||!r,className:"px-4 py-2 rounded-xl bg-primary text-white font-semibold shadow hover:bg-primary/80 transition-all duration-200 disabled:opacity-50",children:a?"Scheduling...":"Schedule"})]}),f.jsxs("div",{className:"mt-6 w-full",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Meetings"}),v.length===0&&f.jsx("div",{className:"text-gray-400 text-sm",children:"No meetings scheduled."}),f.jsx("ul",{className:"space-y-2",children:v.map(b=>f.jsxs("li",{className:"bg-white/70 dark:bg-black/30 rounded-xl px-4 py-2 flex flex-col",children:[f.jsx("span",{className:"font-medium",children:b.title}),f.jsx("span",{className:"text-xs text-gray-500",children:new Date(b.date).toLocaleString()})]},b.id))})]})]})]})]})})},UU=()=>{const[t,e]=A.useState(null),[n,r]=A.useState(!1),[i,a]=A.useState(!1),[l,u]=A.useState(!1),[h,m]=A.useState(null),g=[{icon:su,title:"AI Matchmaking",description:"Discover relevant connections based on skills, interests, and goals using advanced AI algorithms."},{icon:Qr,title:"Smart Scheduling",description:"Automatically schedule coffee chats and meetings with your matches during the conference."},{icon:V2,title:"Gamified Networking",description:"Earn badges and rewards for making connections, attending events, and engaging."},{icon:TU,title:"Instant Connections",description:"Real-time notifications and instant messaging to keep conversations  flowing."}],v=[{id:"1",name:"Sarah Chen",role:"AI Research Lead",company:"TechCorp",location:"San Francisco, CA",bio:"Passionate about AI and blockchain. Building the future of decentralized applications.",interests:["AI/ML","Blockchain","Web3","Startups"],rating:4.8,isOnline:!0,lastActive:"2 min ago",avatar:"https://ui-avatars.com/api/?name=Sarah+Chen"},{id:"2",name:"Alex Rodriguez",role:"Product Manager",company:"InnovateLab",location:"New York, NY",bio:"Product strategist with 8+ years in fintech. Love connecting with fellow innovators.",interests:["Fintech","Product Strategy","UX Design","Innovation"],rating:4.9,isOnline:!1,lastActive:"1 hour ago",avatar:"https://ui-avatars.com/api/?name=Alex+Rodriguez"}],[_,I]=A.useState(()=>{const L=localStorage.getItem("connections");return L?JSON.parse(L):{}}),[S,C]=A.useState(!1),[b,M]=A.useState(null);A.useEffect(()=>{localStorage.setItem("connections",JSON.stringify(_))},[_]),A.useEffect(()=>{const L=JSON.parse(localStorage.getItem("stats-dashboard")||"{}");L.connections=Object.values(_).filter(J=>J==="connected").length,localStorage.setItem("stats-dashboard",JSON.stringify(L))},[_]);const{user:j,userProfile:R}=$o();return R&&R.name&&R.bio&&R.avatar,f.jsxs(f.Fragment,{children:[f.jsx(MU,{}),f.jsxs("div",{className:"relative z-10 flex flex-col gap-y-24",children:[f.jsx("section",{className:"text-center space-y-12 pt-20 py-20",children:f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[f.jsx("div",{className:"flex items-center justify-center space-x-3",children:f.jsx("div",{className:"relative",children:f.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-lg"})})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight font-heading",children:["Turn Passive Networking into",f.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent block",children:"Meaningful Connections"})]}),f.jsx("p",{className:"text-xl text-white/80 max-w-4xl mx-auto leading-relaxed font-body",children:"MeetMate uses AI to match you with the right people at conferences. Connect, schedule, and follow up automatically with Web3-powered security."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[f.jsx(rg,{onClick:()=>window.location.href="/profile",size:"lg",className:"text-lg px-10 py-5",children:f.jsx("span",{children:"Get Started"})}),f.jsx(rg,{onClick:()=>window.location.href="/matches",variant:"secondary",size:"lg",className:"text-lg px-10 py-5",children:"View Matches"})]})]})}),f.jsxs("section",{className:"space-y-12 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 font-heading",children:"Why Choose MeetMate?"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto font-body",children:"Experience the future of conference networking with AI-powered matching and Web3 security."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:g.map((L,J)=>{const se=L.icon;return f.jsx(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:J*.1},viewport:{once:!0},children:f.jsxs(gh,{className:"text-center space-y-6 hover:scale-105 transition-transform duration-300",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-3xl flex items-center justify-center mx-auto border border-white/20",children:f.jsx(se,{className:"h-10 w-10 text-blue-400"})}),f.jsx("h3",{className:"text-xl text-white font-semibold font-heading",children:L.title}),f.jsx("p",{className:"text-white/60 leading-relaxed font-body",children:L.description})]})},L.title)})})]}),f.jsx("section",{className:"relative py-12",children:f.jsxs(gh,{className:"p-8 md:p-10 space-y-6",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent font-heading",children:"What attendees are saying"}),f.jsx("p",{className:"text-white/60 mt-2",children:"Real feedback from conference users — rotating in real-time."})]}),f.jsx("div",{className:"marquee marquee-left",children:f.jsxs("div",{className:"marquee-track",children:[[{id:1,text:"MeetMate introduced me to speakers I would never have found.",author:"Anna C.",avatar:"https://i.pravatar.cc/100?img=32"},{id:2,text:"The AI match suggestions were shockingly accurate.",author:"Marcus R.",avatar:"https://i.pravatar.cc/100?img=12"},{id:3,text:"Saved so much time between sessions — highly recommend.",author:"Sarah K.",avatar:"https://i.pravatar.cc/100?img=7"},{id:4,text:"Great tool for follow-ups and scheduling.",author:"David T.",avatar:"https://i.pravatar.cc/100?img=14"}].map(L=>f.jsxs("div",{className:"testimonial-card",children:[f.jsx("img",{src:L.avatar,alt:L.author,className:"testimonial-avatar"}),f.jsxs("div",{className:"testimonial-content min-w-0",children:[f.jsxs("div",{className:"testimonial-text",children:["“",L.text,"”"]}),f.jsxs("div",{className:"text-xs text-white/60 mt-1 font-semibold testimonial-author",children:["— ",L.author]})]})]},L.id)),[{id:11,text:"MeetMate introduced me to speakers I would never have found.",author:"Anna C.",avatar:"https://i.pravatar.cc/100?img=32"},{id:12,text:"The AI match suggestions were shockingly accurate.",author:"Marcus R.",avatar:"https://i.pravatar.cc/100?img=12"},{id:13,text:"Saved so much time between sessions — highly recommend.",author:"Sarah K.",avatar:"https://i.pravatar.cc/100?img=7"},{id:14,text:"Great tool for follow-ups and scheduling.",author:"David T.",avatar:"https://i.pravatar.cc/100?img=14"}].map(L=>f.jsxs("div",{className:"testimonial-card",children:[f.jsx("img",{src:L.avatar,alt:L.author,className:"testimonial-avatar"}),f.jsxs("div",{className:"testimonial-content min-w-0",children:[f.jsxs("div",{className:"testimonial-text",children:["“",L.text,"”"]}),f.jsxs("div",{className:"text-xs text-white/60 mt-1 font-semibold testimonial-author",children:["— ",L.author]})]})]},L.id))]})})]})}),f.jsx("section",{className:"relative py-12",children:f.jsxs(gh,{className:"p-6 md:p-8 space-y-6",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white font-heading",children:"Sponsors"}),f.jsx("p",{className:"text-white/60 mt-1",children:"Proud partners helping make MeetMate possible."})]}),f.jsx("div",{className:"sponsor-queue overflow-hidden",children:f.jsx("div",{className:"sponsor-track",children:[{id:"sensayai",name:"SensayAI",logo:"/logos/sensayai.png",tier:"Sponsor",Icon:vE,url:"https://sensay.ai"},{id:"microsoft",name:"Microsoft",logo:"https://logo.clearbit.com/microsoft.com",tier:"Sponsor",Icon:pE,url:"https://microsoft.com"},{id:"slack",name:"Slack",logo:"https://logo.clearbit.com/slack.com",tier:"Sponsor",Icon:xE,url:"https://slack.com"},{id:"notion",name:"Notion",logo:"https://logo.clearbit.com/notion.so",tier:"Sponsor",Icon:Xh,url:"https://www.notion.so"},{id:"stripe",name:"Stripe",logo:"https://logo.clearbit.com/stripe.com",tier:"Sponsor",Icon:mE,url:"https://stripe.com"},{id:"zoom",name:"Zoom",logo:"https://logo.clearbit.com/zoom.us",tier:"Sponsor",Icon:ay,url:"https://zoom.us"}].concat([{id:"sensayai2",name:"SensayAI",logo:"/logos/sensayai.png",tier:"Sponsor",Icon:vE,url:"https://sensay.ai"},{id:"microsoft2",name:"Microsoft",logo:"https://logo.clearbit.com/microsoft.com",tier:"Sponsor",Icon:pE,url:"https://microsoft.com"},{id:"slack2",name:"Slack",logo:"https://logo.clearbit.com/slack.com",tier:"Sponsor",Icon:xE,url:"https://slack.com"},{id:"notion2",name:"Notion",logo:"https://logo.clearbit.com/notion.so",tier:"Sponsor",Icon:Xh,url:"https://www.notion.so"},{id:"stripe2",name:"Stripe",logo:"https://logo.clearbit.com/stripe.com",tier:"Sponsor",Icon:mE,url:"https://stripe.com"},{id:"zoom2",name:"Zoom",logo:"https://logo.clearbit.com/zoom.us",tier:"Sponsor",Icon:ay,url:"https://zoom.us"}]).map(L=>f.jsx("div",{className:"sponsor-queue-item inline-block mr-6",children:f.jsx(VU,{name:L.name,logoUrl:L.logo,tier:L.tier,Icon:L.Icon})},L.id))})})]})}),f.jsxs("section",{className:"space-y-12 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 font-heading",children:"Meet Your Potential Matches"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto font-body",children:"AI-powered matching connects you with professionals who share your interests and goals."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:v.map((L,J)=>f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:J*.2},viewport:{once:!0},children:[f.jsx(OU,{user:{id:L.id,name:L.name,avatar:L.avatar||`https://ui-avatars.com/api/?name=${L.name}`,role:L.role,company:L.company,location:L.location,bio:L.bio,interests:L.interests,rating:L.rating,isOnline:L.isOnline,lastActive:L.lastActive},connectStatus:_[L.id]||"default",onConnect:()=>{M(L),C(!0)},onMessage:()=>{e(L),a(!0)},onSchedule:()=>{e(L),u(!0)}}),h&&f.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-[100]",children:f.jsx("div",{className:"bg-gradient-to-br from-green-400/90 to-blue-500/90 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center space-x-3 animate-bounce backdrop-blur-xl border border-white/20",children:f.jsxs("span",{className:"text-lg font-bold",children:[h==="connect"&&"Connection request sent!",h==="message"&&"Message sent!",h==="schedule"&&"Meeting scheduled!"]})})})]},L.id))})]}),f.jsxs("section",{className:"text-center space-y-8 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-6",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent font-heading",children:"Ready to transform your conference experience?"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto leading-relaxed font-body",children:"Join thousands of professionals who are already using MeetMate to build meaningful connections."})]}),f.jsx(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:f.jsxs(rg,{onClick:()=>window.location.href="/profile",size:"lg",className:"text-lg px-12 py-5",children:[f.jsx("span",{children:"Start Building Connections"}),f.jsx(EU,{className:"h-6 w-6 ml-2"})]})})]})]}),S&&b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/70 backdrop-blur-md",children:f.jsxs("div",{className:"bg-black rounded-2xl shadow-2xl p-8 w-full max-w-md border border-primary/20 relative flex flex-col items-center",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center",children:["Do you want to connect with ",b.name,"?"]}),f.jsxs("div",{className:"flex space-x-4 mt-4",children:[f.jsx("button",{className:"px-6 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-primary/80",onClick:()=>{I(L=>{const J={...L,[b.id]:"pending"};return localStorage.setItem("connections",JSON.stringify(J)),setTimeout(()=>{const se={...JSON.parse(localStorage.getItem("connections")||"{}"),[b.id]:"connected"};I(se),localStorage.setItem("connections",JSON.stringify(se))},3e3),J}),C(!1)},children:"Confirm"}),f.jsx("button",{className:"px-6 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300",onClick:()=>C(!1),children:"Cancel"})]})]})}),i&&t&&f.jsx(LU,{user:t,onClose:()=>a(!1),onSendMessage:L=>{a(!1),alert(`Message sent to ${t.name}: ${L}`)}}),l&&t&&f.jsx(FU,{user:t,onClose:()=>u(!1),onSchedule:L=>{u(!1),alert(`Meeting scheduled with ${t.name} on ${L}`)}}),f.jsx($f,{})]})};class BU{listeners=new Map;subscribeToEvents(e){try{const n=Fm(yc(un,"events"),aV("date","asc")),r=vc(n,a=>{const l=[];a.forEach(u=>{const h=u.data();l.push({id:u.id,title:h.title,description:h.description,date:h.date?.toDate?.()?.toISOString()||h.date,location:h.location,createdBy:h.createdBy,createdAt:h.createdAt?.toDate?.()?.toISOString()||h.createdAt,updatedAt:h.updatedAt?.toDate?.()?.toISOString()||h.updatedAt})}),e(l)},a=>{console.error("Error in events subscription:",a),e([])}),i=`events-${Date.now()}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}catch(n){return console.error("Failed to subscribe to events:",n),()=>{}}}subscribeToEvent(e,n){const r=vc(vr(un,"events",e),a=>{if(a.exists()){const l=a.data(),u={id:a.id,title:l.title,description:l.description,date:l.date?.toDate?.()?.toISOString()||l.date,location:l.location,createdBy:l.createdBy,createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt,updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt};n(u)}else n(null)}),i=`event-${e}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}subscribeToEventRSVPs(e,n){const r=Fm(yc(un,"rsvps"),J_("eventId","==",e)),i=vc(r,l=>{const u=[];l.forEach(h=>{const m=h.data();u.push({id:h.id,userId:m.userId,eventId:m.eventId,status:m.status,createdAt:m.createdAt?.toDate?.()?.toISOString()||m.createdAt,updatedAt:m.updatedAt?.toDate?.()?.toISOString()||m.updatedAt})}),n(u)}),a=`rsvps-event-${e}`;return this.listeners.set(a,i),()=>{i(),this.listeners.delete(a)}}subscribeToUserRSVPs(e,n){const r=Fm(yc(un,"rsvps"),J_("userId","==",e)),i=vc(r,l=>{const u=[];l.forEach(h=>{const m=h.data();u.push({id:h.id,userId:m.userId,eventId:m.eventId,status:m.status,createdAt:m.createdAt?.toDate?.()?.toISOString()||m.createdAt,updatedAt:m.updatedAt?.toDate?.()?.toISOString()||m.updatedAt})}),n(u)}),a=`rsvps-user-${e}`;return this.listeners.set(a,i),()=>{i(),this.listeners.delete(a)}}subscribeToUser(e,n){const r=vc(vr(un,"users",e),a=>{if(a.exists()){const l=a.data(),u={id:a.id,name:l.name,email:l.email,avatar:l.avatar,createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt,updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt};n(u)}else n(null)}),i=`user-${e}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}async createEvent(e){return(await n1(yc(un,"events"),{...e,createdAt:ho(),updatedAt:ho()})).id}async updateEvent(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await fh(vr(un,"events",e),{...l,updatedAt:ho()})}async createRSVP(e){return(await n1(yc(un,"rsvps"),{...e,createdAt:ho(),updatedAt:ho()})).id}async updateRSVP(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await fh(vr(un,"rsvps",e),{...l,updatedAt:ho()})}async createOrUpdateUser(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await fh(vr(un,"users",e),{...l,updatedAt:ho()})}cleanup(){this.listeners.forEach(e=>e()),this.listeners.clear()}}const It=new BU,q2=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[i,a]=A.useState(null);A.useEffect(()=>{r(!0),a(null);const h=It.subscribeToEvents(m=>{e(m),r(!1)});return()=>{h()}},[]);const l=A.useCallback(async h=>{try{return await It.createEvent(h)}catch(m){throw a(m instanceof Error?m.message:"Failed to create event"),m}},[]),u=A.useCallback(async(h,m)=>{try{await It.updateEvent(h,m)}catch(g){throw a(g instanceof Error?g.message:"Failed to update event"),g}},[]);return{events:t,loading:n,error:i,createEvent:l,updateEvent:u}},zU=t=>{const[e,n]=A.useState([]),[r,i]=A.useState(!0),[a,l]=A.useState(null);A.useEffect(()=>{if(!t){n([]),i(!1);return}i(!0),l(null);const m=It.subscribeToEventRSVPs(t,g=>{n(g),i(!1)});return()=>{m()}},[t]);const u=A.useCallback(async m=>{try{return await It.createRSVP(m)}catch(g){throw l(g instanceof Error?g.message:"Failed to create RSVP"),g}},[]),h=A.useCallback(async(m,g)=>{try{await It.updateRSVP(m,g)}catch(v){throw l(v instanceof Error?v.message:"Failed to update RSVP"),v}},[]);return{rsvps:e,loading:r,error:a,createRSVP:u,updateRSVP:h}},$U=t=>{const[e,n]=A.useState(null),[r,i]=A.useState(!0),[a,l]=A.useState(null);A.useEffect(()=>{if(!t){n(null),i(!1);return}i(!0),l(null);const h=It.subscribeToUser(t,m=>{n(m),i(!1)});return()=>{h()}},[t]);const u=A.useCallback(async h=>{if(t)try{await It.createOrUpdateUser(t,h)}catch(m){throw l(m instanceof Error?m.message:"Failed to update user"),m}},[t]);return{user:e,loading:r,error:a,updateUser:u}},H2=()=>{const{user:t}=$o();return $U(t?.uid)};function W2(t,e){return function(){return t.apply(e,arguments)}}const{toString:qU}=Object.prototype,{getPrototypeOf:zv}=Object,{iterator:qf,toStringTag:G2}=Symbol,Hf=(t=>e=>{const n=qU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ir=t=>(t=t.toLowerCase(),e=>Hf(e)===t),Wf=t=>e=>typeof e===t,{isArray:xl}=Array,ll=Wf("undefined");function bu(t){return t!==null&&!ll(t)&&t.constructor!==null&&!ll(t.constructor)&&Tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const K2=Ir("ArrayBuffer");function HU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&K2(t.buffer),e}const WU=Wf("string"),Tn=Wf("function"),Q2=Wf("number"),Su=t=>t!==null&&typeof t=="object",GU=t=>t===!0||t===!1,yh=t=>{if(Hf(t)!=="object")return!1;const e=zv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(G2 in t)&&!(qf in t)},KU=t=>{if(!Su(t)||bu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},QU=Ir("Date"),YU=Ir("File"),JU=Ir("Blob"),XU=Ir("FileList"),ZU=t=>Su(t)&&Tn(t.pipe),e9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tn(t.append)&&((e=Hf(t))==="formdata"||e==="object"&&Tn(t.toString)&&t.toString()==="[object FormData]"))},t9=Ir("URLSearchParams"),[n9,r9,s9,i9]=["ReadableStream","Request","Response","Headers"].map(Ir),o9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(bu(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,t[u],u,t)}}function Y2(t,e){if(bu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,J2=t=>!ll(t)&&t!==bo;function ly(){const{caseless:t,skipUndefined:e}=J2(this)&&this||{},n={},r=(i,a)=>{const l=t&&Y2(n,a)||a;yh(n[l])&&yh(i)?n[l]=ly(n[l],i):yh(i)?n[l]=ly({},i):xl(i)?n[l]=i.slice():(!e||!ll(i))&&(n[l]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Tu(arguments[i],r);return n}const a9=(t,e,n,{allOwnKeys:r}={})=>(Tu(e,(i,a)=>{n&&Tn(i)?t[a]=W2(i,n):t[a]=i},{allOwnKeys:r}),t),l9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},u9=(t,e,n,r)=>{let i,a,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&zv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},d9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},h9=t=>{if(!t)return null;if(xl(t))return t;let e=t.length;if(!Q2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},f9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zv(Uint8Array)),p9=(t,e)=>{const r=(t&&t[qf]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},m9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},g9=Ir("HTMLFormElement"),y9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),bE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),v9=Ir("RegExp"),X2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Tu(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},w9=t=>{X2(t,(e,n)=>{if(Tn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},x9=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return xl(t)?r(t):r(String(t).split(e)),n},_9=()=>{},E9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function b9(t){return!!(t&&Tn(t.append)&&t[G2]==="FormData"&&t[qf])}const S9=t=>{const e=new Array(10),n=(r,i)=>{if(Su(r)){if(e.indexOf(r)>=0)return;if(bu(r))return r;if(!("toJSON"in r)){e[i]=r;const a=xl(r)?[]:{};return Tu(r,(l,u)=>{const h=n(l,i+1);!ll(h)&&(a[u]=h)}),e[i]=void 0,a}}return r};return n(t,0)},T9=Ir("AsyncFunction"),I9=t=>t&&(Su(t)||Tn(t))&&Tn(t.then)&&Tn(t.catch),Z2=((t,e)=>t?setImmediate:e?((n,r)=>(bo.addEventListener("message",({source:i,data:a})=>{i===bo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tn(bo.postMessage)),C9=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||Z2,A9=t=>t!=null&&Tn(t[qf]),Q={isArray:xl,isArrayBuffer:K2,isBuffer:bu,isFormData:e9,isArrayBufferView:HU,isString:WU,isNumber:Q2,isBoolean:GU,isObject:Su,isPlainObject:yh,isEmptyObject:KU,isReadableStream:n9,isRequest:r9,isResponse:s9,isHeaders:i9,isUndefined:ll,isDate:QU,isFile:YU,isBlob:JU,isRegExp:v9,isFunction:Tn,isStream:ZU,isURLSearchParams:t9,isTypedArray:f9,isFileList:XU,forEach:Tu,merge:ly,extend:a9,trim:o9,stripBOM:l9,inherits:c9,toFlatObject:u9,kindOf:Hf,kindOfTest:Ir,endsWith:d9,toArray:h9,forEachEntry:p9,matchAll:m9,isHTMLForm:g9,hasOwnProperty:bE,hasOwnProp:bE,reduceDescriptors:X2,freezeMethods:w9,toObjectSet:x9,toCamelCase:y9,noop:_9,toFiniteNumber:E9,findKey:Y2,global:bo,isContextDefined:J2,isSpecCompliantForm:b9,toJSONObject:S9,isAsyncFn:T9,isThenable:I9,setImmediate:Z2,asap:C9,isIterable:A9};function je(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Q.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const eC=je.prototype,tC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tC[t]={value:t}});Object.defineProperties(je,tC);Object.defineProperty(eC,"isAxiosError",{value:!0});je.from=(t,e,n,r,i,a)=>{const l=Object.create(eC);Q.toFlatObject(t,l,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const u=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return je.call(l,u,h,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",a&&Object.assign(l,a),l};const k9=null;function cy(t){return Q.isPlainObject(t)||Q.isArray(t)}function nC(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function SE(t,e,n){return t?t.concat(e).map(function(i,a){return i=nC(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function P9(t){return Q.isArray(t)&&!t.some(cy)}const R9=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Gf(t,e,n){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,b){return!Q.isUndefined(b[C])});const r=n.metaTokens,i=n.visitor||g,a=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(Q.isDate(S))return S.toISOString();if(Q.isBoolean(S))return S.toString();if(!h&&Q.isBlob(S))throw new je("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(S)||Q.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,C,b){let M=S;if(S&&!b&&typeof S=="object"){if(Q.endsWith(C,"{}"))C=r?C:C.slice(0,-2),S=JSON.stringify(S);else if(Q.isArray(S)&&P9(S)||(Q.isFileList(S)||Q.endsWith(C,"[]"))&&(M=Q.toArray(S)))return C=nC(C),M.forEach(function(R,L){!(Q.isUndefined(R)||R===null)&&e.append(l===!0?SE([C],L,a):l===null?C:C+"[]",m(R))}),!1}return cy(S)?!0:(e.append(SE(b,C,a),m(S)),!1)}const v=[],_=Object.assign(R9,{defaultVisitor:g,convertValue:m,isVisitable:cy});function I(S,C){if(!Q.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(S),Q.forEach(S,function(M,j){(!(Q.isUndefined(M)||M===null)&&i.call(e,M,Q.isString(j)?j.trim():j,C,_))===!0&&I(M,C?C.concat(j):[j])}),v.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return I(t),e}function TE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $v(t,e){this._pairs=[],t&&Gf(t,this,e)}const rC=$v.prototype;rC.append=function(e,n){this._pairs.push([e,n])};rC.toString=function(e){const n=e?function(r){return e.call(this,r,TE)}:TE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function N9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sC(t,e,n){if(!e)return t;const r=n&&n.encode||N9;Q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=Q.isURLSearchParams(e)?e.toString():new $v(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class IE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},j9=typeof URLSearchParams<"u"?URLSearchParams:$v,D9=typeof FormData<"u"?FormData:null,M9=typeof Blob<"u"?Blob:null,O9={isBrowser:!0,classes:{URLSearchParams:j9,FormData:D9,Blob:M9},protocols:["http","https","file","blob","url","data"]},qv=typeof window<"u"&&typeof document<"u",uy=typeof navigator=="object"&&navigator||void 0,V9=qv&&(!uy||["ReactNative","NativeScript","NS"].indexOf(uy.product)<0),L9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F9=qv&&window.location.href||"http://localhost",U9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qv,hasStandardBrowserEnv:V9,hasStandardBrowserWebWorkerEnv:L9,navigator:uy,origin:F9},Symbol.toStringTag,{value:"Module"})),rn={...U9,...O9};function B9(t,e){return Gf(t,new rn.classes.URLSearchParams,{visitor:function(n,r,i,a){return rn.isNode&&Q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function z9(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $9(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function oC(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=n.length;return l=!l&&Q.isArray(i)?i.length:l,h?(Q.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!Q.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&Q.isArray(i[l])&&(i[l]=$9(i[l])),!u)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const n={};return Q.forEachEntry(t,(r,i)=>{e(z9(r),i,n,0)}),n}return null}function q9(t,e,n){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Iu={transitional:iC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return i?JSON.stringify(oC(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B9(e,this.formSerializer).toString();if((u=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Gf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),q9(e)):e}],transformResponse:[function(e){const n=this.transitional||Iu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?je.from(u,je.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Iu.headers[t]={}});const H9=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&H9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},CE=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function vh(t){return t===!1||t==null?t:Q.isArray(t)?t.map(vh):String(t)}function G9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const K9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sg(t,e,n,r,i){if(Q.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function Q9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y9(t,e){const n=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(u,h,m){const g=_c(h);if(!g)throw new Error("header name must be a non-empty string");const v=Q.findKey(i,g);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||h]=vh(u))}const l=(u,h)=>Q.forEach(u,(m,g)=>a(m,g,h));if(Q.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Q.isString(e)&&(e=e.trim())&&!K9(e))l(W9(e),n);else if(Q.isObject(e)&&Q.isIterable(e)){let u={},h,m;for(const g of e){if(!Q.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(h=u[m])?Q.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=_c(e),e){const r=Q.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return G9(i);if(Q.isFunction(n))return n.call(this,i,r);if(Q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_c(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||sg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=_c(l),l){const u=Q.findKey(r,l);u&&(!n||sg(r,r[u],u,n))&&(delete r[u],i=!0)}}return Q.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||sg(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return Q.forEach(this,(i,a)=>{const l=Q.findKey(r,a);if(l){n[l]=vh(i),delete n[a];return}const u=e?Q9(a):String(a).trim();u!==a&&delete n[a],n[u]=vh(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[CE]=this[CE]={accessors:{}}).accessors,i=this.prototype;function a(l){const u=_c(l);r[u]||(Y9(i,l),r[u]=!0)}return Q.isArray(e)?e.forEach(a):a(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Q.freezeMethods(In);function ig(t,e){const n=this||Iu,r=e||n,i=In.from(r.headers);let a=r.data;return Q.forEach(t,function(u){a=u.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function aC(t){return!!(t&&t.__CANCEL__)}function _l(t,e,n){je.call(this,t??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}Q.inherits(_l,je,{__CANCEL__:!0});function lC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function X9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=r[a];l||(l=m),n[i]=h,r[i]=m;let v=a,_=0;for(;v!==i;)_+=n[v++],v=v%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),m-l<e)return;const I=g&&m-g;return I?Math.round(_*1e3/I):void 0}}function Z9(t,e){let n=0,r=1e3/e,i,a;const l=(m,g=Date.now())=>{n=g,i=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const g=Date.now(),v=g-n;v>=r?l(m,g):(i=m,a||(a=setTimeout(()=>{a=null,l(i)},r-v)))},()=>i&&l(i)]}const Zh=(t,e,n=3)=>{let r=0;const i=X9(50,250);return Z9(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-r,m=i(h),g=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},AE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kE=t=>(...e)=>Q.asap(()=>t(...e)),e8=rn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,rn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,t8=rn.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];Q.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Q.isString(r)&&l.push("path="+r),Q.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cC(t,e,n){let r=!n8(e);return t&&(r||n==!1)?r8(t,e):e}const PE=t=>t instanceof In?{...t}:t;function Oo(t,e){e=e||{};const n={};function r(m,g,v,_){return Q.isPlainObject(m)&&Q.isPlainObject(g)?Q.merge.call({caseless:_},m,g):Q.isPlainObject(g)?Q.merge({},g):Q.isArray(g)?g.slice():g}function i(m,g,v,_){if(Q.isUndefined(g)){if(!Q.isUndefined(m))return r(void 0,m,v,_)}else return r(m,g,v,_)}function a(m,g){if(!Q.isUndefined(g))return r(void 0,g)}function l(m,g){if(Q.isUndefined(g)){if(!Q.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function u(m,g,v){if(v in e)return r(m,g);if(v in t)return r(void 0,m)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,v)=>i(PE(m),PE(g),v,!0)};return Q.forEach(Object.keys({...t,...e}),function(g){const v=h[g]||i,_=v(t[g],e[g],g);Q.isUndefined(_)&&v!==u||(n[g]=_)}),n}const uC=t=>{const e=Oo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:u}=e;if(e.headers=l=In.from(l),e.url=sC(cC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Q.isFormData(n)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Q.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,v])=>{m.includes(g.toLowerCase())&&l.set(g,v)})}}if(rn.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&e8(e.url))){const h=i&&a&&t8.read(a);h&&l.set(i,h)}return e},s8=typeof XMLHttpRequest<"u",i8=s8&&function(t){return new Promise(function(n,r){const i=uC(t);let a=i.data;const l=In.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=i,g,v,_,I,S;function C(){I&&I(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function M(){if(!b)return;const R=In.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),J={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:R,config:t,request:b};lC(function(F){n(F),C()},function(F){r(F),C()},J),b=null}"onloadend"in b?b.onloadend=M:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(M)},b.onabort=function(){b&&(r(new je("Request aborted",je.ECONNABORTED,t,b)),b=null)},b.onerror=function(L){const J=L&&L.message?L.message:"Network Error",se=new je(J,je.ERR_NETWORK,t,b);se.event=L||null,r(se),b=null},b.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||iC;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),r(new je(L,J.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&Q.forEach(l.toJSON(),function(L,J){b.setRequestHeader(J,L)}),Q.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),m&&([_,S]=Zh(m,!0),b.addEventListener("progress",_)),h&&b.upload&&([v,I]=Zh(h),b.upload.addEventListener("progress",v),b.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(g=R=>{b&&(r(!R||R.type?new _l(null,t,b):R),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const j=J9(i.url);if(j&&rn.protocols.indexOf(j)===-1){r(new je("Unsupported protocol "+j+":",je.ERR_BAD_REQUEST,t));return}b.send(a||null)})},o8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(m){if(!i){i=!0,u();const g=m instanceof Error?m:this.reason;r.abort(g instanceof je?g:new _l(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>Q.asap(u),h}},a8=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},l8=async function*(t,e){for await(const n of c8(t))yield*a8(n,e)},c8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},RE=(t,e,n,r)=>{const i=l8(t,e);let a=0,l,u=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await i.next();if(m){u(),h.close();return}let v=g.byteLength;if(n){let _=a+=v;n(_)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},NE=64*1024,{isFunction:th}=Q,u8=(({Request:t,Response:e})=>({Request:t,Response:e}))(Q.global),{ReadableStream:jE,TextEncoder:DE}=Q.global,ME=(t,...e)=>{try{return!!t(...e)}catch{return!1}},d8=t=>{t=Q.merge.call({skipUndefined:!0},u8,t);const{fetch:e,Request:n,Response:r}=t,i=e?th(e):typeof fetch=="function",a=th(n),l=th(r);if(!i)return!1;const u=i&&th(jE),h=i&&(typeof DE=="function"?(S=>C=>S.encode(C))(new DE):async S=>new Uint8Array(await new n(S).arrayBuffer())),m=a&&u&&ME(()=>{let S=!1;const C=new n(rn.origin,{body:new jE,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!C}),g=l&&u&&ME(()=>Q.isReadableStream(new r("").body)),v={stream:g&&(S=>S.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!v[S]&&(v[S]=(C,b)=>{let M=C&&C[S];if(M)return M.call(C);throw new je(`Response type '${S}' is not supported`,je.ERR_NOT_SUPPORT,b)})});const _=async S=>{if(S==null)return 0;if(Q.isBlob(S))return S.size;if(Q.isSpecCompliantForm(S))return(await new n(rn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(S)||Q.isArrayBuffer(S))return S.byteLength;if(Q.isURLSearchParams(S)&&(S=S+""),Q.isString(S))return(await h(S)).byteLength},I=async(S,C)=>{const b=Q.toFiniteNumber(S.getContentLength());return b??_(C)};return async S=>{let{url:C,method:b,data:M,signal:j,cancelToken:R,timeout:L,onDownloadProgress:J,onUploadProgress:se,responseType:F,headers:P,withCredentials:O="same-origin",fetchOptions:B}=uC(S),$=e||fetch;F=F?(F+"").toLowerCase():"text";let N=o8([j,R&&R.toAbortSignal()],L),D=null;const me=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let We;try{if(se&&m&&b!=="get"&&b!=="head"&&(We=await I(P,M))!==0){let z=new n(C,{method:"POST",body:M,duplex:"half"}),X;if(Q.isFormData(M)&&(X=z.headers.get("content-type"))&&P.setContentType(X),z.body){const[ye,Ae]=AE(We,Zh(kE(se)));M=RE(z.body,NE,ye,Ae)}}Q.isString(O)||(O=O?"include":"omit");const Se=a&&"credentials"in n.prototype,De={...B,signal:N,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:M,duplex:"half",credentials:Se?O:void 0};D=a&&new n(C,De);let ie=await(a?$(D,B):$(C,De));const ge=g&&(F==="stream"||F==="response");if(g&&(J||ge&&me)){const z={};["status","statusText","headers"].forEach(Re=>{z[Re]=ie[Re]});const X=Q.toFiniteNumber(ie.headers.get("content-length")),[ye,Ae]=J&&AE(X,Zh(kE(J),!0))||[];ie=new r(RE(ie.body,NE,ye,()=>{Ae&&Ae(),me&&me()}),z)}F=F||"text";let ce=await v[Q.findKey(v,F)||"text"](ie,S);return!ge&&me&&me(),await new Promise((z,X)=>{lC(z,X,{data:ce,headers:In.from(ie.headers),status:ie.status,statusText:ie.statusText,config:S,request:D})})}catch(Se){throw me&&me(),Se&&Se.name==="TypeError"&&/Load failed|fetch/i.test(Se.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,S,D),{cause:Se.cause||Se}):je.from(Se,Se&&Se.code,S,D)}}},h8=new Map,dC=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let l=a.length,u=l,h,m,g=h8;for(;u--;)h=a[u],m=g.get(h),m===void 0&&g.set(h,m=u?new Map:d8(e)),g=m;return m};dC();const dy={http:k9,xhr:i8,fetch:{get:dC}};Q.forEach(dy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OE=t=>`- ${t}`,f8=t=>Q.isFunction(t)||t===null||t===!1,hC={getAdapter:(t,e)=>{t=Q.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!f8(r)&&(i=dy[(u=String(r)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${u}'`);if(i&&(Q.isFunction(i)||(i=i.get(e))))break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(OE).join(`
`):" "+OE(l[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:dy};function og(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _l(null,t)}function VE(t){return og(t),t.headers=In.from(t.headers),t.data=ig.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hC.getAdapter(t.adapter||Iu.adapter,t)(t).then(function(r){return og(t),r.data=ig.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return aC(r)||(og(t),r&&r.response&&(r.response.data=ig.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const fC="1.12.2",Kf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const LE={};Kf.transitional=function(e,n,r){function i(a,l){return"[Axios v"+fC+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new je(i(l," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!LE[l]&&(LE[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,u):!0}};Kf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function p8(t,e,n){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const u=t[a],h=u===void 0||l(u,a,t);if(h!==!0)throw new je("option "+a+" must be "+h,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+a,je.ERR_BAD_OPTION)}}const wh={assertOptions:p8,validators:Kf},Lr=wh.validators;let Io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new IE,response:new IE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Oo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&wh.assertOptions(r,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),i!=null&&(Q.isFunction(i)?n.paramsSerializer={serialize:i}:wh.assertOptions(i,{encode:Lr.function,serialize:Lr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wh.assertOptions(n,{baseUrl:Lr.spelling("baseURL"),withXsrfToken:Lr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Q.merge(a.common,a[n.method]);a&&Q.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=In.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let g,v=0,_;if(!h){const S=[VE.bind(this),void 0];for(S.unshift(...u),S.push(...m),_=S.length,g=Promise.resolve(n);v<_;)g=g.then(S[v++],S[v++]);return g}_=u.length;let I=n;for(;v<_;){const S=u[v++],C=u[v++];try{I=S(I)}catch(b){C.call(this,b);break}}try{g=VE.call(this,I)}catch(S){return Promise.reject(S)}for(v=0,_=m.length;v<_;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=Oo(this.defaults,e);const n=cC(e.baseURL,e.url,e.allowAbsoluteUrls);return sC(n,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,r){return this.request(Oo(r||{},{method:e,url:n,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,u){return this.request(Oo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});let m8=class pC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new _l(a,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new pC(function(i){e=i}),cancel:e}}};function g8(t){return function(n){return t.apply(null,n)}}function y8(t){return Q.isObject(t)&&t.isAxiosError===!0}const hy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hy).forEach(([t,e])=>{hy[e]=t});function mC(t){const e=new Io(t),n=W2(Io.prototype.request,e);return Q.extend(n,Io.prototype,e,{allOwnKeys:!0}),Q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return mC(Oo(t,i))},n}const gt=mC(Iu);gt.Axios=Io;gt.CanceledError=_l;gt.CancelToken=m8;gt.isCancel=aC;gt.VERSION=fC;gt.toFormData=Gf;gt.AxiosError=je;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=g8;gt.isAxiosError=y8;gt.mergeConfig=Oo;gt.AxiosHeaders=In;gt.formToJSON=t=>oC(Q.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=hC.getAdapter;gt.HttpStatusCode=hy;gt.default=gt;const{Axios:X8,AxiosError:Z8,CanceledError:eB,isCancel:tB,CancelToken:nB,VERSION:rB,all:sB,Cancel:iB,isAxiosError:oB,spread:aB,toFormData:lB,AxiosHeaders:cB,HttpStatusCode:uB,formToJSON:dB,getAdapter:hB,mergeConfig:fB}=gt,v8="http://localhost:3001",w8=()=>{const[t,e]=A.useState(!1),[n,r]=A.useState([{id:"1",text:`Hello! I'm MeetMate AI, your personal event planning assistant powered by Sensay AI.

Ask me anything about event planning, networking, or MeetMate!

How can I help you today?`,isUser:!1,timestamp:new Date}]),[i,a]=A.useState(""),[l,u]=A.useState(!1),[h,m]=A.useState([]),g=A.useRef(null),v=()=>{g.current?.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{v()},[n]);const _=async()=>{if(!i.trim())return;const S={id:Date.now().toString(),text:i,isUser:!0,timestamp:new Date};r(C=>[...C,S]),a(""),u(!0);try{const C=await gt.post(`${v8}/api/sensay/ask`,{query:S.text});u(!1);let b="No relevant results found.";C.data&&C.data.answer&&(b=C.data.answer),r(M=>[...M,{id:Date.now().toString(),text:b,isUser:!1,timestamp:new Date}]),m(M=>[...M,{question:S.text,answer:b}])}catch{u(!1),r(b=>[...b,{id:Date.now().toString(),text:"Sorry, there was an error connecting to the GitHub API.",isUser:!1,timestamp:new Date}])}},I=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),_())};return f.jsxs(f.Fragment,{children:[f.jsx(le.button,{className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300",onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(fn,{mode:"wait",children:t?f.jsx(le.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:f.jsx(Mo,{className:"w-6 h-6 text-white mx-auto"})},"close"):f.jsx(le.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},children:f.jsx(al,{className:"w-6 h-6 text-white mx-auto"})},"bot")})}),f.jsx(fn,{children:t&&f.jsxs(le.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:`fixed bottom-24 right-6 z-40 w-96 h-[520px] bg-gradient-to-br from-blue-700/80 via-purple-800/80 to-indigo-900/80 backdrop-blur-2xl rounded-3xl border border-white/30 shadow-2xl flex flex-col\r
            md:w-96 md:h-[520px] md:right-6 md:bottom-24\r
            sm:w-[95vw] sm:h-[60vh] sm:right-2 sm:bottom-2 sm:rounded-2xl sm:border sm:border-white/30 sm:z-50`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-gradient-to-r from-blue-600/60 to-purple-700/60 rounded-t-3xl",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(al,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white text-lg tracking-wide",children:"MeetMate AI"}),f.jsx("p",{className:"text-xs text-white/70",children:"Online"})]})]}),f.jsx(xi,{className:"w-5 h-5 text-yellow-300 drop-shadow-lg"})]}),f.jsx("div",{className:"px-4 py-1 bg-white/10 text-xs text-white/70 text-right font-medium border-b border-white/10",children:"Powered by Sensay"}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[350px] custom-scrollbar",children:[n.map(S=>f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${S.isUser?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl shadow-md transition-all ${S.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/20 text-white/90 backdrop-blur-md border border-white/10"}`,children:[f.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:S.text}),f.jsx("p",{className:"text-xs opacity-60 mt-1 text-right",children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},S.id)),l&&f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:f.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white p-3 rounded-2xl flex items-center gap-2",children:[f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),f.jsx("span",{className:"text-xs text-white/70",children:"Meetmate AI is typing..."})]})}),f.jsx("div",{ref:g})]}),f.jsx("div",{className:"p-4 border-t border-white/20 bg-gradient-to-t from-indigo-900/30 to-transparent rounded-b-3xl",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),onKeyPress:I,placeholder:"Ask me anything...",className:"flex-1 bg-white/20 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2 text-white placeholder-white/60 focus:outline-none focus:border-white/40 shadow-inner"}),f.jsx(le.button,{onClick:_,disabled:!i.trim(),className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Bv,{className:"w-4 h-4 text-white"})})]})})]})})]})},x8="http://localhost:3001/api",Mn=gt.create({baseURL:x8,headers:{"Content-Type":"application/json"}});Mn.interceptors.request.use(async t=>{const e=si.currentUser;if(e){const n=await e.getIdToken();t.headers.Authorization=`Bearer ${n}`}return t},t=>Promise.reject(t));Mn.interceptors.response.use(t=>t,t=>(t.response?.status===401&&console.error("Unauthorized access"),Promise.reject(t)));class ms{static async createEvent(e){return(await Mn.post("/api/events",e)).data}static async getEvents(){return(await Mn.get("/api/events")).data}static async getEvent(e){return(await Mn.get(`/api/events/${e}`)).data}static async createRSVP(e){return(await Mn.post("/api/rsvp",e)).data}static async getEventRSVPs(e){return(await Mn.get(`/api/rsvp/event/${e}`)).data}static async getUserRSVPs(e){return(await Mn.get(`/api/rsvp/user/${e}`)).data}static async createUser(e){return(await Mn.post("/api/users",e)).data}static async getUser(e){return(await Mn.get(`/api/users/${e}`)).data}static async chatWithAI(e){return(await Mn.post("/api/ai-chat",e)).data}static async getAIRecommendations(e){return(await Mn.post("/api/ai-recommend",e)).data}static async healthCheck(){return(await Mn.get("/health")).data}}const _8=()=>aP({mutationFn:t=>ms.getAIRecommendations(t),onSuccess:()=>{at.success("AI recommendations generated!")},onError:t=>{at.error(t.response?.data?.error||"Failed to get recommendations")}}),E8=({className:t="",onRecommendationSelect:e})=>{const[n,r]=A.useState(!1),[i,a]=A.useState([]),[l,u]=A.useState(""),[h,m]=A.useState(""),[g,v]=A.useState({start:"",end:""}),_=_8(),I=()=>{l.trim()&&!i.includes(l.trim())&&(a([...i,l.trim()]),u(""))},S=M=>{a(i.filter(j=>j!==M))},C=async()=>{if(i.length===0)return;const M={interests:i,location:h||void 0,dateRange:g.start&&g.end?{start:new Date(g.start).toISOString(),end:new Date(g.end).toISOString()}:void 0};await _.mutateAsync({preferences:M})},b=M=>{M.key==="Enter"&&I()};return f.jsxs("div",{className:t,children:[f.jsx("button",{onClick:()=>r(!n),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-lg p-4 hover:from-primary/90 hover:to-primary/70 transition-all duration-200 shadow-lg hover:shadow-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:f.jsx(xi,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h3",{className:"font-semibold text-lg",children:"AI Event Recommendations"}),f.jsx("p",{className:"text-sm opacity-90",children:"Get personalized event suggestions"})]})]})}),f.jsx(fn,{children:n&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>r(!1),children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:M=>M.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(xi,{className:"w-5 h-5 text-primary"}),f.jsx("h2",{className:"text-lg font-semibold",children:"AI Recommendations"})]}),f.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-muted rounded-md transition-colors",children:f.jsx(Mo,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Interests"}),f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),onKeyPress:b,placeholder:"Add an interest...",className:"flex-1 px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),f.jsx("button",{onClick:I,className:"px-3 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:f.jsx(Uv,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(M=>f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[M,f.jsx("button",{onClick:()=>S(M),className:"hover:bg-primary/20 rounded-full p-0.5",children:f.jsx(Mo,{className:"w-3 h-3"})})]},M))})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2",children:[f.jsx(Eu,{className:"w-4 h-4 inline mr-1"}),"Location (Optional)"]}),f.jsx("input",{type:"text",value:h,onChange:M=>m(M.target.value),placeholder:"e.g., San Francisco, CA",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2",children:[f.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Date Range (Optional)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("input",{type:"date",value:g.start,onChange:M=>v({...g,start:M.target.value}),className:"px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),f.jsx("input",{type:"date",value:g.end,onChange:M=>v({...g,end:M.target.value}),className:"px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),f.jsx("button",{onClick:C,disabled:i.length===0||_.isPending,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_.isPending?f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Generating Recommendations..."]}):f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx(xi,{className:"w-4 h-4"}),"Get Recommendations"]})}),_.data&&f.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:[f.jsx("h4",{className:"font-medium mb-2",children:"AI Response:"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:_.data.response}),_.data.recommendations&&_.data.recommendations.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"Suggested Events:"}),f.jsx("div",{className:"space-y-2",children:_.data.recommendations.map(M=>f.jsxs("div",{className:"p-2 bg-background rounded border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>e?.(M),children:[f.jsx("h5",{className:"font-medium text-sm",children:M.title}),f.jsx("p",{className:"text-xs text-muted-foreground",children:M.description})]},M.id))})]})]})]})]})})})]})};class b8{syncInProgress=!1;async syncEventsFromBackend(){if(!this.syncInProgress){this.syncInProgress=!0;try{const e=await ms.getEvents();for(const n of e)await It.updateEvent(n.id,n)}catch(e){console.error("Failed to sync events from backend:",e)}finally{this.syncInProgress=!1}}}async createEvent(e){try{const n=await ms.createEvent(e);return await It.updateEvent(n.id,n),n}catch(n){throw console.error("Failed to create event:",n),n}}async createRSVP(e){try{const n=await ms.createRSVP(e);return await It.updateRSVP(n.id,n),n}catch(n){throw console.error("Failed to create RSVP:",n),n}}async createOrUpdateUser(e){try{const n=await ms.createUser(e);return await It.createOrUpdateUser(n.id,n),n}catch(n){throw console.error("Failed to create/update user:",n),n}}async getEventsWithRealtime(e){return await this.syncEventsFromBackend(),It.subscribeToEvents(e)}async getEventRSVPsWithRealtime(e,n){try{const r=await ms.getEventRSVPs(e);for(const i of r)await It.updateRSVP(i.id,i)}catch(r){console.error("Failed to sync RSVPs from backend:",r)}return It.subscribeToEventRSVPs(e,n)}async getUserRSVPsWithRealtime(e,n){try{const r=await ms.getUserRSVPs(e);for(const i of r)await It.updateRSVP(i.id,i)}catch(r){console.error("Failed to sync user RSVPs from backend:",r)}return It.subscribeToUserRSVPs(e,n)}async getUserWithRealtime(e,n){try{const r=await ms.getUser(e);await It.createOrUpdateUser(r.id,r)}catch(r){console.error("Failed to sync user from backend:",r)}return It.subscribeToUser(e,n)}async healthCheck(){const e={backend:!1,firebase:!1};try{await ms.healthCheck(),e.backend=!0}catch(n){console.error("Backend health check failed:",n)}try{await It.subscribeToEvents(()=>{})(),e.firebase=!0}catch(n){console.error("Firebase health check failed:",n)}return e}async fullSync(){console.log("Starting full sync...");try{await this.syncEventsFromBackend(),console.log("Full sync completed")}catch(e){throw console.error("Full sync failed:",e),e}}}const S8=new b8,T8=({className:t=""})=>{const[e,n]=A.useState({backend:!1,firebase:!1}),[r,i]=A.useState(!0);A.useEffect(()=>{const h=async()=>{i(!0);try{const g=await S8.healthCheck();n(g)}catch(g){console.error("Health check failed:",g),n({backend:!1,firebase:!1})}finally{i(!1)}};h();const m=setInterval(h,3e4);return()=>clearInterval(m)},[]);const a=h=>h?"text-green-500":"text-red-500",l=h=>h?f.jsx(Bf,{className:"w-4 h-4"}):f.jsx(zf,{className:"w-4 h-4"}),u=h=>h?f.jsx(SU,{className:"w-4 h-4"}):f.jsx(bU,{className:"w-4 h-4"});return r?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${t}`,children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),f.jsx("span",{className:"text-muted-foreground",children:"Checking connections..."})]}):f.jsxs("div",{className:`flex items-center gap-4 text-xs ${t}`,children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(vU,{className:"w-3 h-3"}),f.jsx("span",{className:"text-muted-foreground",children:"Backend:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.backend)}`,children:[u(e.backend),l(e.backend)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(oU,{className:"w-3 h-3"}),f.jsx("span",{className:"text-muted-foreground",children:"Firebase:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.firebase)}`,children:[u(e.firebase),l(e.firebase)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-muted-foreground",children:"Real-time:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.backend&&e.firebase)}`,children:[u(e.backend&&e.firebase),l(e.backend&&e.firebase)]})]})]})},I8=({isOpen:t,onClose:e})=>{const[n,r]=A.useState({title:"",description:"",date:"",location:""}),[i,a]=A.useState(!1),{createEvent:l}=q2(),u=async m=>{if(m.preventDefault(),!n.title||!n.description||!n.date||!n.location){at.error("Please fill in all required fields");return}a(!0);try{await l({title:n.title,description:n.description,date:new Date(n.date).toISOString(),location:n.location,createdBy:"current-user"}),at.success("Event created successfully!"),r({title:"",description:"",date:"",location:""}),e()}catch{at.error("Failed to create event. Please try again.")}finally{a(!1)}},h=(m,g)=>{r(v=>({...v,[m]:g}))};return f.jsx(fn,{children:t&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e,children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg shadow-xl max-w-md w-full",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold font-heading",children:"Create New Event"}),f.jsx("button",{onClick:e,className:"p-1 hover:bg-muted rounded-md transition-colors",children:f.jsx(Mo,{className:"w-4 h-4"})})]}),f.jsxs("form",{onSubmit:u,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Xh,{className:"w-4 h-4 inline mr-1"}),"Event Title *"]}),f.jsx("input",{type:"text",value:n.title,onChange:m=>h("title",m.target.value),placeholder:"Enter event title",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Xh,{className:"w-4 h-4 inline mr-1"}),"Description *"]}),f.jsx("textarea",{value:n.description,onChange:m=>h("description",m.target.value),placeholder:"Enter event description",rows:3,className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary resize-none font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Date & Time *"]}),f.jsx("input",{type:"datetime-local",value:n.date,onChange:m=>h("date",m.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Eu,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),f.jsx("input",{type:"text",value:n.location,onChange:m=>h("location",m.target.value),placeholder:"Enter event location",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-muted text-muted-foreground rounded-md hover:bg-muted/80 transition-colors font-body",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-body",children:i?f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),f.jsx("span",{className:"font-body",children:"Creating..."})]}):f.jsx("span",{className:"font-body",children:"Create Event"})})]})]})]})})})},C8=({className:t=""})=>{const[e,n]=A.useState(null),[r,i]=A.useState(!1),[a,l]=A.useState(!1),{events:u,loading:h,error:m}=q2(),{user:g}=H2(),{rsvps:v,createRSVP:_}=zU(e?.id||""),I=async(j,R)=>{g?.id&&await _({userId:g.id,eventId:j,status:R})},S=j=>v?v.find(R=>R.eventId===j)?.status:null,C=j=>new Date(j).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=j=>{switch(j){case"going":return"bg-green-100 text-green-800 border-green-200";case"maybe":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_going":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=j=>{switch(j){case"going":return"Going";case"maybe":return"Maybe";case"not_going":return"Not Going";default:return"RSVP"}};return h?f.jsx("div",{className:`flex items-center justify-center p-8 ${t}`,children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m?f.jsx("div",{className:`text-center p-8 ${t}`,children:f.jsx("p",{className:"text-muted-foreground font-body",children:"Failed to load events. Please try again."})}):f.jsxs("div",{className:`space-y-6 ${t} px-2 sm:px-4 md:px-8`,children:[f.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground font-heading",children:"Events"}),f.jsx("p",{className:"text-muted-foreground font-body",children:"Discover and join amazing events"}),f.jsx(T8,{className:"mt-2"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>i(!r),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 font-body",children:[f.jsx(ru,{className:"w-4 h-4"}),"AI Chat"]}),f.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 font-body",children:[f.jsx(Uv,{className:"w-4 h-4"}),"Create Event"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsx(E8,{onRecommendationSelect:j=>{n(j),l(!1)}}),r&&f.jsx(w8,{})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.jsx(fn,{children:u?.map(j=>f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:shadow-lg transition-all duration-200",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 font-heading",children:j.title}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 font-body",children:j.description})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Qr,{className:"w-4 h-4"}),f.jsx("span",{className:"font-body",children:C(j.date)})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Eu,{className:"w-4 h-4"}),f.jsx("span",{className:"font-body",children:j.location})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(su,{className:"w-4 h-4 text-muted-foreground"}),f.jsxs("span",{className:"text-sm text-muted-foreground font-body",children:[v?.filter(R=>R.status==="going").length||0," going"]})]}),S(j.id)&&f.jsx("span",{className:`px-2 py-1 rounded-full text-xs border font-body ${b(S(j.id))}`,children:M(S(j.id))})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[f.jsx("button",{onClick:()=>I(j.id,"going"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${S(j.id)==="going"?"bg-green-100 text-green-800":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:"Going"}),f.jsx("button",{onClick:()=>I(j.id,"maybe"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${S(j.id)==="maybe"?"bg-yellow-100 text-yellow-800":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Maybe"}),f.jsx("button",{onClick:()=>I(j.id,"not_going"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${S(j.id)==="not_going"?"bg-red-100 text-red-800":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Not Going"})]})]})},j.id))})}),u?.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Qr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-foreground mb-2 font-heading",children:"No events yet"}),f.jsx("p",{className:"text-muted-foreground mb-4 font-body",children:"Be the first to create an event or check back later for new events."}),f.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-body",children:"Create First Event"})]}),f.jsx(I8,{isOpen:a,onClose:()=>l(!1)})]})},A8=()=>{const{user:t}=$o(),{user:e,updateUser:n}=H2();return A.useEffect(()=>{t&&!e&&n({name:t.displayName||"User",email:t.email||"",avatar:t.photoURL||void 0})},[t,e,n]),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx(C8,{})})},k8=()=>{const t=dl(),{signUp:e,signIn:n,signInWithGoogle:r,resetPassword:i}=$o(),[a,l]=A.useState(!1),[u,h]=A.useState(!1),[m,g]=A.useState({email:"",password:"",confirmPassword:"",name:""}),[v,_]=A.useState(!1),I=async C=>{if(C.preventDefault(),h(!0),v&&m.password!==m.confirmPassword){hn.error("Passwords do not match"),h(!1);return}try{v?(await e(m.email,m.password,m.name),hn.success("Account created successfully!")):(await n(m.email,m.password),hn.success("Logged in successfully!")),t("/")}catch(b){const M=b.message||"Authentication failed";hn.error(M),console.error("Auth error:",b)}finally{h(!1)}},S=async()=>{try{h(!0),await r(),hn.success("Signed in with Google successfully!"),t("/")}catch(C){hn.error("Failed to sign in with Google"),console.error("Google sign-in error:",C)}finally{h(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-secondary/20 to-background",children:f.jsxs("div",{className:"w-full max-w-md p-8 bg-background rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsx(U2,{size:"lg",className:"mb-4"}),f.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Welcome to MeetMate"}),f.jsx("p",{className:"text-muted-foreground",children:"Sign in or create an account to continue"})]}),f.jsxs("form",{onSubmit:I,className:"space-y-6",children:[v&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),f.jsx("input",{id:"name",type:"text",value:m.name,onChange:C=>g({...m,name:C.target.value}),required:!0,className:"w-full px-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx(F2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),f.jsx("input",{id:"email",type:"email",value:m.email,onChange:C=>g({...m,email:C.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your email"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:a?"text":"password",value:m.password,onChange:C=>g({...m,password:C.target.value}),required:!0,className:"w-full pr-10 pl-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?f.jsx(aU,{className:"h-4 w-4"}):f.jsx(lU,{className:"h-4 w-4"})})]})]}),v&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),f.jsx("input",{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:C=>g({...m,confirmPassword:C.target.value}),required:!0,className:"w-full px-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Confirm your password"})]}),f.jsx(le.button,{type:"submit",disabled:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-primary to-accent text-white py-4 px-6 rounded-2xl font-medium hover:shadow-lg hover:shadow-primary/25 transition-all duration-300 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),f.jsx("span",{children:"Processing..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:v?"Create Account":"Sign In"}),f.jsx(XF,{className:"w-5 h-5"})]})})]}),f.jsxs("div",{className:"flex flex-col items-center mt-6",children:[f.jsx("button",{onClick:S,disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-yellow-500 text-white py-3 px-6 rounded-2xl font-medium hover:shadow-lg hover:shadow-red-500/25 transition-all duration-300 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:f.jsx("span",{children:"Sign in with Google"})}),f.jsx("button",{onClick:()=>_(!v),className:"text-primary hover:text-primary/80 transition-colors duration-300 mt-2",children:v?"Already have an account? Sign in":"Don't have an account? Sign up"})]})]})})},P8=()=>{const t=dl(),[e]=Nk(),[n,r]=A.useState("loading"),[i,a]=A.useState("");return A.useEffect(()=>{const l=e.get("token"),u=e.get("provider");l?(localStorage.setItem("matchmaker_bot_token",l),r("success"),a(`Successfully signed in with ${u}!`),setTimeout(()=>{t("/")},2e3)):(r("error"),a("Authentication failed. No token received."))},[e,t]),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-background flex items-center justify-center",children:f.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-8 shadow-2xl max-w-md w-full mx-4",children:f.jsxs("div",{className:"text-center space-y-6",children:[n==="loading"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(fU,{className:"w-10 h-10 text-blue-600 animate-spin"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completing Sign In..."}),f.jsx("p",{className:"text-gray-600",children:"Please wait while we complete your authentication."})]}),n==="success"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(Bf,{className:"w-10 h-10 text-green-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Success!"}),f.jsx("p",{className:"text-gray-600",children:i}),f.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home page..."})]}),n==="error"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(zf,{className:"w-10 h-10 text-red-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Authentication Failed"}),f.jsx("p",{className:"text-gray-600",children:i}),f.jsx("button",{onClick:()=>t("/auth"),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})})})},R8={name:"",bio:"",location:"",website:"",email:"",linkedin:"",github:""},N8=()=>{const[t,e]=A.useState(R8),[n,r]=A.useState(null),[i,a]=A.useState(null),[l,u]=A.useState(null),[h,m]=A.useState([]),[g,v]=A.useState(""),[_,I]=A.useState(!0);A.useEffect(()=>{const j=localStorage.getItem("userProfile");if(j){const R=JSON.parse(j);r(R),e(R),R.avatar&&a(R.avatar),R.skills&&m(R.skills),I(!1)}},[]);const S=j=>{const R=j.target.files?.[0];if(R){const L=new FileReader;L.onloadend=()=>{const J=L.result;u(J),a(J)},L.readAsDataURL(R)}},C=()=>{g.trim()&&(m(j=>[...j,g.trim()]),v(""))},b=j=>{const{name:R,value:L}=j.target;e(J=>({...J,[R]:L}))},M=j=>{j.preventDefault();const R={...t,avatar:i||l,skills:h};localStorage.setItem("userProfile",JSON.stringify(R)),r(R),a(R.avatar||null),I(!1)};return f.jsx("div",{className:"p-6 max-w-lg mx-auto",children:f.jsx(fn,{mode:"wait",children:_?f.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.5},className:"bg-white shadow-2xl rounded-2xl p-6 overflow-y-auto max-h-[80vh] scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-6 text-center",children:"Edit Profile"}),f.jsxs("form",{onSubmit:M,className:"space-y-5 text-black",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"avatarUpload"}),f.jsx("label",{htmlFor:"avatarUpload",className:"cursor-pointer w-28 h-28 rounded-full overflow-hidden border-4 border-blue-500 flex items-center justify-center shadow-md hover:shadow-lg transition",children:l||i?f.jsx(le.img,{src:l||i||"",alt:"Avatar",className:"w-full h-full object-cover",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4}},l||i):f.jsx("span",{className:"text-sm text-gray-500",children:"Upload"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Full Name"}),f.jsx("input",{name:"name",value:t.name,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Bio"}),f.jsx("textarea",{name:"bio",value:t.bio,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Write something about yourself"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Location"}),f.jsx("input",{name:"location",value:t.location,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Where are you from?"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Website"}),f.jsx("input",{name:"website",value:t.website,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Email"}),f.jsx("input",{name:"email",value:t.email,onChange:b,type:"email",className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"LinkedIn"}),f.jsx("input",{name:"linkedin",value:t.linkedin,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/username"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"GitHub"}),f.jsx("input",{name:"github",value:t.github,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Skills"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{value:g,onChange:j=>v(j.target.value),className:"flex-1 border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Add a skill"}),f.jsx("button",{type:"button",onClick:C,className:"bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700",children:"Add"})]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:h.map((j,R)=>f.jsx(le.span,{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm shadow",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:R*.1},children:j},R))})]}),f.jsx(le.button,{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-semibold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Save Profile"})]})]},"form"):n&&f.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},className:"bg-white shadow-2xl rounded-2xl p-6 text-center",children:[i&&f.jsx(le.img,{src:i,alt:"Profile",className:"w-28 h-28 mx-auto rounded-full object-cover border-4 border-blue-500 shadow-md",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}}),f.jsx("h2",{className:"text-2xl font-bold mt-4 text-blue-600",children:n.name}),f.jsx("p",{className:"text-gray-600 mt-2",children:n.bio}),f.jsx("p",{className:"text-gray-500 mt-1",children:n.location}),f.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[n.website&&f.jsx(le.a,{href:n.website,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800",title:"Website",whileHover:{scale:1.2},children:f.jsx(uU,{className:"w-6 h-6"})}),n.email&&f.jsx(le.a,{href:`mailto:${n.email}`,className:"text-red-500 hover:text-red-700",title:"Email",whileHover:{scale:1.2},children:f.jsx(F2,{className:"w-6 h-6"})}),n.linkedin&&f.jsx(le.a,{href:n.linkedin,target:"_blank",rel:"noreferrer",className:"text-blue-700 hover:text-blue-900",title:"LinkedIn",whileHover:{scale:1.2},children:f.jsx(hU,{className:"w-6 h-6"})}),n.github&&f.jsx(le.a,{href:n.github,target:"_blank",rel:"noreferrer",className:"text-gray-800 hover:text-black",title:"GitHub",whileHover:{scale:1.2},children:f.jsx(cU,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Skills"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2 justify-center",children:h.map((j,R)=>f.jsx(le.span,{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:R*.1},children:j},R))})]}),f.jsx(le.button,{onClick:()=>I(!0),className:"mt-6 bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 font-semibold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Edit Profile"})]},"profile")})})},j8=({match:t,messages:e,onSend:n,onClose:r})=>{const[i,a]=A.useState(""),l=A.useRef(null),u=A.useRef(null);A.useEffect(()=>{const g=l.current;g&&(g.scrollTop=g.scrollHeight)},[e]),A.useEffect(()=>{u.current?.focus()},[u]);const h=()=>{const g=i.trim();g&&(n(g),a(""),setTimeout(()=>u.current?.focus(),10))},m=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),h())};return f.jsx(le.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},exit:{opacity:0,y:18},className:"fixed right-4 bottom-4 z-50 w-96 max-w-full",children:f.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl overflow-hidden border border-gray-100",children:[f.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white",children:[f.jsx("img",{src:t.avatar,alt:t.name,className:"w-10 h-10 rounded-lg object-cover ring-2 ring-white"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:t.name}),f.jsx("div",{className:"text-xs opacity-80",children:"Ready to chat"})]}),f.jsx("button",{onClick:r,className:"text-sm bg-white/10 px-2 py-1 rounded-md",children:"Close"})]}),f.jsxs("div",{ref:l,className:"h-64 overflow-y-auto p-4 space-y-3 bg-gray-50",children:[e.length===0&&f.jsx("div",{className:"text-sm text-gray-500",children:"No messages yet — say hi 👋"}),e.map(g=>f.jsx("div",{className:`flex ${g.from==="me"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`${g.from==="me"?"bg-indigo-600 text-white rounded-bl-2xl":"bg-white border border-gray-200 text-gray-900 rounded-br-2xl"} px-4 py-2 rounded-lg shadow-sm max-w-[78%] text-sm`,children:[f.jsx("div",{children:g.text}),f.jsx("div",{className:`text-[11px] mt-1 ${g.from==="me"?"text-indigo-100":"text-gray-400"} text-right`,children:new Date(g.ts).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},g.id))]}),f.jsxs("div",{className:"px-3 py-3 bg-white border-t flex items-end gap-2",children:[f.jsx("textarea",{ref:u,value:i,onChange:g=>a(g.target.value),onKeyDown:m,placeholder:"Write a message... (Enter to send, Shift+Enter for newline)",className:"flex-1 resize-none h-12 max-h-40 px-3 py-2 border rounded-md focus:ring-2 focus:ring-indigo-300 text-black placeholder-gray-400"}),f.jsx("button",{onClick:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md shadow",children:"Send"})]})]})})},D8=()=>{const[t]=A.useState([{id:"1",name:"Anna Chen",title:"Product Designer",company:"DeFi Labs",location:"San Francisco, CA",avatar:"https://randomuser.me/api/portraits/women/68.jpg",matchScore:94,skills:["Product Design","UX Research","Figma","DeFi"],interests:["DeFi","Product Design","AI/ML"],goals:["Build meaningful connections","Learn from industry experts"],bio:"Product designer passionate about creating intuitive DeFi experiences. Looking to connect with developers and product managers.",isConnected:!1,isPending:!1},{id:"2",name:"Marcus Rodriguez",title:"Smart Contract Developer",company:"Ethereum Foundation",location:"Berlin, Germany",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",matchScore:87,skills:["Solidity","Ethereum","DeFi Protocols","Rust"],interests:["DeFi","Blockchain","Zero Knowledge"],goals:["Collaborate on DeFi projects","Share knowledge"],bio:"Smart contract developer working on DeFi protocols. Interested in ZK proofs and cross-chain solutions.",isConnected:!1,isPending:!1},{id:"3",name:"Sarah Kim",title:"Growth Marketing Manager",company:"Web3 Startup",location:"Seoul, South Korea",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",matchScore:82,skills:["Growth Marketing","Community Building","Web3","Analytics"],interests:["Web3","Community","Growth"],goals:["Learn about Web3 marketing","Build community"],bio:"Growth marketer focused on Web3 projects. Building communities and driving user acquisition.",isConnected:!1,isPending:!1},{id:"4",name:"David Thompson",title:"AI Research Engineer",company:"AI Research Lab",location:"London, UK",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",matchScore:78,skills:["Machine Learning","Python","AI Research","Neural Networks"],interests:["AI/ML","Research","Innovation"],goals:["Collaborate on AI projects","Share research insights"],bio:"AI researcher working on neural network architectures. Interested in AI applications in Web3.",isConnected:!1,isPending:!1},{id:"5",name:"Emily Carter",title:"Community Lead",company:"DAO Collective",location:"Toronto, Canada",avatar:"https://randomuser.me/api/portraits/women/44.jpg",matchScore:85,skills:["Community Management","DAO Governance","Public Speaking"],interests:["DAO","Community","Web3"],goals:["Grow DAO membership","Host engaging events"],bio:"Community lead for a DAO, passionate about decentralized governance and building strong member engagement.",isConnected:!1,isPending:!1},{id:"6",name:"James Lee",title:"Full Stack Developer",company:"Startup Hub",location:"Singapore",avatar:"https://randomuser.me/api/portraits/men/65.jpg",matchScore:80,skills:["React","Node.js","TypeScript","UI/UX"],interests:["Startups","Tech","Design"],goals:["Build scalable apps","Network with founders"],bio:"Full stack developer building scalable web apps for startups. Interested in design and founder networking.",isConnected:!1,isPending:!1}]),[e,n]=A.useState("all"),[r,i]=A.useState(""),[a,l]=A.useState(()=>{try{const N=localStorage.getItem("connections");return N?JSON.parse(N):{}}catch{return{}}}),[u,h]=A.useState(!1),[m,g]=A.useState(null);A.useEffect(()=>{localStorage.setItem("connections",JSON.stringify(a))},[a]);const v=[{id:"all",label:"All Matches",count:t.length},{id:"high",label:"High Match (90%+)",count:t.filter(N=>N.matchScore>=90).length},{id:"medium",label:"Medium Match (70-89%)",count:t.filter(N=>N.matchScore>=70&&N.matchScore<90).length},{id:"pending",label:"Pending",count:t.filter(N=>a[N.id]==="pending").length}],_=t.filter(N=>{const D=N.name.toLowerCase().includes(r.toLowerCase())||N.title.toLowerCase().includes(r.toLowerCase())||N.company.toLowerCase().includes(r.toLowerCase()),me=e==="all"||e==="high"&&N.matchScore>=90||e==="medium"&&N.matchScore>=70&&N.matchScore<90||e==="pending"&&a[N.id]==="pending";return D&&me}),I=N=>N>=90?"text-green-600 bg-green-100":N>=80?"text-blue-600 bg-blue-100":N>=70?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100",S=N=>{l(D=>{const me={...D,[N]:"default"};return hn.success("Disconnected successfully"),me})},C=N=>{l(me=>({...me,[N]:"connected"}));const D=t.find(me=>me.id===N);hn.success(`You're now connected with ${D?.name??"user"}`)},b=N=>{l(me=>({...me,[N]:"default"}));const D=t.find(me=>me.id===N);hn(`Cancelled request to ${D?.name??"user"}`)},M=N=>{J(N)},[j,R]=A.useState(null),[L,J]=A.useState(null),[se,F]=A.useState(()=>{try{const N=localStorage.getItem("chats");return N?JSON.parse(N):{}}catch{return{}}});A.useEffect(()=>{localStorage.setItem("chats",JSON.stringify(se))},[se]);const P=()=>J(null),O=(N,D)=>{const me={id:String(Date.now()),from:"me",text:D,ts:Date.now()};F(We=>{const Se=We[N]?[...We[N],me]:[me];return{...We,[N]:Se}}),hn.success("Message sent")},B=()=>{m&&(l(N=>({...N,[m.id]:"pending"})),hn.success(`Connection request sent to ${m.name}`),h(!1),g(null))},$=()=>{h(!1),g(null)};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-2 sm:px-4 md:px-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"AI-Powered Matches"}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Discover people who share your interests and goals at this conference"})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"space-y-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx(yU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),f.jsx("input",{type:"text",placeholder:"Search by name, title, or company...",value:r,onChange:N=>i(N.target.value),className:"input pl-10 w-full"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(N=>f.jsxs("button",{onClick:()=>n(N.id),className:`px-4 py-2 rounded-2xl text-sm font-medium ${e===N.id?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[N.label," (",N.count,")"]},N.id))})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.jsx(fn,{children:_.map((N,D)=>{const me=a[N.id]||"default";return f.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:D*.1},className:"card space-y-4 p-4 sm:p-6",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:N.avatar,alt:N.name,className:"w-12 h-12 rounded-2xl object-cover cursor-pointer",onClick:()=>R(N)}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold cursor-pointer",onClick:()=>R(N),children:N.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:N.title})]})]}),f.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(N.matchScore)}`,children:[N.matchScore,"%"]})]}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:N.bio}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center gap-3",children:[f.jsx("span",{className:"font-medium",children:N.company}),f.jsx("span",{children:"•"}),f.jsx("span",{children:N.location})]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:N.skills.slice(0,6).map((We,Se)=>f.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs",children:We},Se))}),f.jsxs("div",{className:"mt-3 text-xs text-muted-foreground flex flex-col gap-1",children:[f.jsxs("div",{children:[f.jsx("strong",{className:"text-sm text-foreground",children:"Interests:"})," ",N.interests.join(", ")]}),f.jsxs("div",{children:[f.jsx("strong",{className:"text-sm text-foreground",children:"Goals:"})," ",N.goals.join(" • ")]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:me==="connected"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>M(N),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-indigo-600 text-white hover:bg-indigo-700",children:"Message"}),f.jsx("button",{className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-green-500 text-white",children:"Connected"}),f.jsx("button",{onClick:()=>S(N.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-red-500 text-white hover:bg-red-600",children:"Disconnect"})]}):me==="pending"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>C(N.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-primary text-white hover:bg-primary/80",children:"Accept"}),f.jsx("button",{onClick:()=>b(N.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-gray-200 text-gray-800",children:"Cancel Request"})]}):f.jsx("button",{"aria-label":`Send connection request to ${N.name}`,title:`Send connection request to ${N.name}`,className:"flex-1 rounded-lg py-2 px-4 font-semibold shadow transition-all duration-200 bg-primary text-white hover:bg-primary/80",onClick:()=>{g(N),h(!0)},children:"Connect"})})]},N.id)})})}),f.jsx(fn,{children:u&&m&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:f.jsxs(le.div,{initial:{y:-50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3},className:"bg-gray rounded-xl shadow-xl max-w-sm w-full p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{src:m.avatar,alt:m.name,className:"w-14 h-14 rounded-2xl object-cover"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold",children:m.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:m.title})]})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to send a connection request to ",f.jsx("strong",{children:m.name}),"?"]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[f.jsx(le.button,{whileHover:{scale:1.05,backgroundColor:"#E5E7EB"},whileTap:{scale:.95},onClick:$,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-medium transition",children:"Cancel"}),f.jsx(le.button,{whileHover:{scale:1.05,backgroundColor:"#2563EB"},whileTap:{scale:.95},onClick:B,className:"px-4 py-2 rounded-lg bg-primary text-white font-medium transition",children:"Confirm"})]})]})})}),f.jsx(fn,{children:j&&f.jsx(le.div,{className:"fixed inset-0 bg-gray bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsxs(le.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full p-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:j.avatar,alt:j.name,className:"w-20 h-20 rounded-2xl object-cover"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold",children:j.name}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.title," • ",j.company]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:j.location})]})]}),f.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:j.bio}),f.jsxs("div",{className:"mt-4",children:[f.jsx("h4",{className:"text-sm font-semibold",children:"Skills"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.skills.map((N,D)=>f.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:N},D))})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 rounded-lg bg-gray-200",children:"Close"})})]})})}),L&&f.jsx(j8,{match:{id:L.id,name:L.name,avatar:L.avatar},messages:se[L.id]||[],onSend:N=>O(L.id,N),onClose:P}),f.jsx($f,{})]})},M8=()=>{const[t,e]=A.useState(new Date),[n,r]=A.useState(!1),[i,a]=A.useState(()=>{const b=localStorage.getItem("meetings");return b?JSON.parse(b):[{id:"1",title:"Coffee Chat with Anna Chen",type:"coffee",date:"2024-01-15",time:"10:00",duration:30,location:"Conference Center Cafe",attendees:["Anna Chen","You"],status:"scheduled",notes:"Discuss DeFi product design collaboration opportunities"},{id:"2",title:"Video Call with Marcus Rodriguez",type:"video",date:"2024-01-15",time:"14:00",duration:45,location:"Zoom",attendees:["Marcus Rodriguez","You"],status:"scheduled",notes:"Deep dive into smart contract development and DeFi protocols"},{id:"3",title:"Networking Lunch with Sarah Kim",type:"in-person",date:"2024-01-16",time:"12:00",duration:60,location:"Downtown Restaurant",attendees:["Sarah Kim","You"],status:"scheduled",notes:"Discuss Web3 marketing strategies and community building"}]});A.useEffect(()=>{localStorage.setItem("meetings",JSON.stringify(i))},[i]),A.useEffect(()=>{const b=JSON.parse(localStorage.getItem("stats-dashboard")||"{}");b.meetings=i.filter(M=>M.status==="scheduled").length,localStorage.setItem("stats-dashboard",JSON.stringify(b))},[i]);const[l,u]=A.useState({title:"",type:"coffee",date:"",time:"",duration:30,location:"",attendees:[""],notes:""}),h=[{id:"coffee",label:"Coffee Chat",icon:iU,color:"text-orange-600"},{id:"video",label:"Video Call",icon:ay,color:"text-blue-600"},{id:"phone",label:"Phone Call",icon:gU,color:"text-green-600"},{id:"in-person",label:"In-Person",icon:su,color:"text-purple-600"}],m=()=>{const b=t.getFullYear(),M=t.getMonth(),j=new Date(b,M,1),R=new Date(b,M+1,0),L=[];for(let se=0;se<j.getDay();se++){const F=new Date(b,M,-se);L.unshift({date:F,isCurrentMonth:!1})}for(let se=1;se<=R.getDate();se++)L.push({date:new Date(b,M,se),isCurrentMonth:!0});const J=42-L.length;for(let se=1;se<=J;se++)L.push({date:new Date(b,M+1,se),isCurrentMonth:!1});return L},g=b=>{const M=b.toISOString().split("T")[0];return i.filter(j=>j.date===M)},v=()=>{if(!l.title||!l.date||!l.time){hn.error("Please fill in all required fields");return}const b={id:Date.now().toString(),title:l.title,type:l.type,date:l.date,time:l.time,duration:l.duration,location:l.location,attendees:l.attendees.filter(M=>M.trim()),status:"scheduled",notes:l.notes};a(M=>{const j=[...M,b];return localStorage.setItem("meetings",JSON.stringify(j)),j}),r(!1),u({title:"",type:"coffee",date:"",time:"",duration:30,location:"",attendees:[""],notes:""}),hn.success("Meeting scheduled successfully!")},_=b=>{a(M=>{const j=M.map(R=>R.id===b?{...R,status:"cancelled"}:R);return localStorage.setItem("meetings",JSON.stringify(j)),j}),hn.success("Meeting cancelled")},I=b=>{a(M=>{const j=M.map(R=>R.id===b?{...R,status:"completed"}:R);return localStorage.setItem("meetings",JSON.stringify(j)),j}),hn.success("Meeting marked as completed")},S=b=>{const M=h.find(R=>R.id===b);if(!M)return null;const j=M.icon;return f.jsx(j,{className:`h-4 w-4 ${M.color}`})},C=b=>{switch(b){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Qr,{className:"h-8 w-8 text-primary"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Meeting Schedule"})]}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Schedule and manage your conference meetings"})]}),f.jsxs("button",{onClick:()=>r(!0),className:"btn-primary flex items-center space-x-2",children:[f.jsx(Uv,{className:"h-5 w-5"}),f.jsx("span",{children:"Schedule Meeting"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"lg:col-span-2",children:f.jsxs("div",{className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>e(new Date(t.getFullYear(),t.getMonth()-1)),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(nU,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>e(new Date),className:"text-sm text-primary hover:underline",children:"Today"}),f.jsx("button",{onClick:()=>e(new Date(t.getFullYear(),t.getMonth()+1)),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(rU,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(b=>f.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:b},b)),m().map((b,M)=>{const j=g(b.date),R=b.date.toDateString()===new Date().toDateString(),L=b.date.toDateString()===t.toDateString();return f.jsxs("div",{className:`p-2 min-h-[80px] border rounded-2xl cursor-pointer transition-colors ${R?"bg-primary/10 border-primary":""} ${L?"bg-accent border-accent-foreground":""} ${b.isCurrentMonth?"":"text-muted-foreground/50"}`,onClick:()=>e(b.date),children:[f.jsx("div",{className:"text-sm font-medium mb-1",children:b.date.getDate()}),f.jsxs("div",{className:"space-y-1",children:[j.slice(0,2).map(J=>f.jsxs("div",{className:"text-xs p-1 rounded-lg bg-primary/20 text-primary truncate",title:J.title,children:[S(J.type),f.jsx("span",{className:"ml-1",children:J.time})]},J.id)),j.length>2&&f.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",j.length-2," more"]})]})]},M)})]})]})}),f.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Meetings"}),f.jsx("div",{className:"space-y-3",children:i.filter(b=>b.status==="scheduled").sort((b,M)=>new Date(`${b.date}T${b.time}`).getTime()-new Date(`${M.date}T${M.time}`).getTime()).slice(0,5).map(b=>f.jsxs("div",{className:"card p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[S(b.type),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-foreground text-sm",children:b.title}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.date," at ",b.time]})]})]}),f.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(b.status)}`,children:b.status})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[f.jsx(sU,{className:"h-3 w-3"}),f.jsxs("span",{children:[b.duration," min"]}),f.jsx(Eu,{className:"h-3 w-3"}),f.jsx("span",{children:b.location})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>I(b.id),className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-lg hover:bg-green-200",children:"Complete"}),f.jsx("button",{onClick:()=>_(b.id),className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-lg hover:bg-red-200",children:"Cancel"})]})]},b.id))})]})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(xi,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"AI Scheduling Suggestions"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on your profile and match preferences, we recommend scheduling coffee chats during these time slots:"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:["9:00 AM","11:00 AM","2:00 PM","4:00 PM"].map(b=>f.jsx("button",{onClick:()=>{u(M=>({...M,time:b})),r(!0)},className:"btn-secondary text-sm",children:b},b))})]})]})}),n&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center p-4 z-50 bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/70 backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(30,64,175,0.6) 0%, rgba(139,92,246,0.6) 50%, rgba(0,0,0,0.7) 100%)",backdropFilter:"blur(8px)"},onClick:()=>r(!1),children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-primary/30 via-accent/20 to-background rounded-3xl p-6 w-full max-w-md space-y-4 shadow-2xl border border-primary/20 overflow-y-auto max-h-[80vh]",onClick:b=>b.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Schedule New Meeting"}),f.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(Mo,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Meeting Title"}),f.jsx("input",{type:"text",value:l.title,onChange:b=>u({...l,title:b.target.value}),className:"input mt-1",placeholder:"Coffee chat with..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Meeting Type"}),f.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:h.map(b=>f.jsx("button",{onClick:()=>u({...l,type:b.id}),className:`p-3 rounded-2xl border text-sm font-medium transition-colors ${l.type===b.id?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"}`,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(b.icon,{className:"h-4 w-4"}),f.jsx("span",{children:b.label})]})},b.id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Date"}),f.jsx("input",{type:"date",value:l.date,onChange:b=>u({...l,date:b.target.value}),className:"input mt-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Time"}),f.jsx("input",{type:"time",value:l.time,onChange:b=>u({...l,time:b.target.value}),className:"input mt-1"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Duration (minutes)"}),f.jsxs("select",{value:l.duration,onChange:b=>u({...l,duration:parseInt(b.target.value)}),className:"input mt-1",children:[f.jsx("option",{value:15,children:"15 min"}),f.jsx("option",{value:30,children:"30 min"}),f.jsx("option",{value:45,children:"45 min"}),f.jsx("option",{value:60,children:"1 hour"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Location"}),f.jsx("input",{type:"text",value:l.location,onChange:b=>u({...l,location:b.target.value}),className:"input mt-1",placeholder:"Conference center, cafe, etc."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Notes"}),f.jsx("textarea",{value:l.notes,onChange:b=>u({...l,notes:b.target.value}),className:"input mt-1 min-h-[80px] resize-none",placeholder:"Meeting agenda or notes..."})]})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{onClick:()=>r(!1),className:"btn-secondary flex-1",children:"Cancel"}),f.jsx("button",{onClick:v,className:"btn-primary flex-1",children:"Schedule Meeting"})]})]})}),f.jsx($f,{})]})},O8=()=>{const[t,e]=A.useState("week"),[n,r]=A.useState("all"),[i,a]=A.useState(()=>{const S=localStorage.getItem("stats-dashboard");return S?JSON.parse(S):{matches:47,meetings:23,connections:34,responseRate:78}});A.useEffect(()=>{const S=localStorage.getItem("stats-dashboard");S&&a(JSON.parse(S))},[]);const l=[{label:"Total Matches",value:String(i.matches??47),change:"+12%",changeType:"positive",icon:su},{label:"Scheduled Meetings",value:String(i.meetings??23),change:"+8%",changeType:"positive",icon:Qr},{label:"Active Connections",value:String(i.connections??34),change:"+15%",changeType:"positive",icon:L2},{label:"Response Rate",value:(i.responseRate??78)+"%",change:"+5%",changeType:"positive",icon:ru}],u=[{name:"Mon",matches:8,meetings:4,connections:6},{name:"Tue",matches:12,meetings:7,connections:9},{name:"Wed",matches:15,meetings:9,connections:12},{name:"Thu",matches:10,meetings:6,connections:8},{name:"Fri",matches:6,meetings:3,connections:5},{name:"Sat",matches:4,meetings:2,connections:3},{name:"Sun",matches:2,meetings:1,connections:2}],h=[{name:"Anna Chen",score:94,company:"DeFi Labs",status:"Connected"},{name:"Marcus Rodriguez",score:87,company:"Ethereum Foundation",status:"Meeting Scheduled"},{name:"Sarah Kim",score:82,company:"Web3 Startup",status:"Pending"},{name:"David Thompson",score:78,company:"AI Research Lab",status:"Connected"},{name:"Lisa Wang",score:75,company:"Blockchain Corp",status:"Meeting Scheduled"}],m=[{time:"9:00 AM",activity:"high"},{time:"10:00 AM",activity:"very-high"},{time:"11:00 AM",activity:"medium"},{time:"12:00 PM",activity:"low"},{time:"1:00 PM",activity:"medium"},{time:"2:00 PM",activity:"high"},{time:"3:00 PM",activity:"very-high"},{time:"4:00 PM",activity:"medium"},{time:"5:00 PM",activity:"low"}],g=S=>{switch(S){case"very-high":return"bg-green-500";case"high":return"bg-green-400";case"medium":return"bg-yellow-400";case"low":return"bg-gray-300";default:return"bg-gray-200"}},v=S=>{switch(S){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},_=h.map(S=>({name:S.name,score:S.score,company:S.company,status:S.status})),I=S=>{let C="",b="";{const L=Object.keys(_[0]).join(","),J=_.map(se=>Object.values(se).map(F=>`"${F}"`).join(",")).join(`
`);C=`${L}
${J}`,b="user_data.csv"}const M=new Blob([C],{type:"text/csv"}),j=URL.createObjectURL(M),R=document.createElement("a");R.href=j,R.download=b,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(j)};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(iy,{className:"h-8 w-8 text-primary"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Analytics Dashboard"})]}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Track your networking success and engagement metrics"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("select",{value:t,onChange:S=>e(S.target.value),className:"input",children:[f.jsx("option",{value:"week",children:"This Week"}),f.jsx("option",{value:"month",children:"This Month"}),f.jsx("option",{value:"quarter",children:"This Quarter"}),f.jsx("option",{value:"year",children:"This Year"})]}),f.jsxs("button",{onClick:()=>I(),className:"btn-secondary flex items-center space-x-2",children:[f.jsx(gE,{className:"h-4 w-4"}),f.jsx("span",{children:"Export"})]})]})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((S,C)=>{const b=S.icon;return f.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.1+C*.1},className:"card space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-2xl flex items-center justify-center",children:f.jsx(b,{className:"h-6 w-6 text-primary"})}),f.jsx("div",{className:`text-sm font-medium ${v(S.changeType)}`,children:S.change})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-foreground",children:S.value}),f.jsx("div",{className:"text-sm text-muted-foreground",children:S.label})]})]},S.label)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-2",children:f.jsxs("div",{className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Weekly Activity"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>r("matches"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="matches"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Matches"}),f.jsx("button",{onClick:()=>r("meetings"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="meetings"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Meetings"}),f.jsx("button",{onClick:()=>r("connections"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="connections"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Connections"})]})]}),f.jsx("div",{className:"space-y-4",children:u.map(S=>{const C=n==="all"?S.matches+S.meetings+S.connections:S[n],b=Math.max(...u.map(M=>n==="all"?M.matches+M.meetings+M.connections:M[n]));return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"font-medium",children:S.name}),f.jsx("span",{className:"text-muted-foreground",children:C})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-3",children:f.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-300",style:{width:`${C/b*100}%`}})})]},S.name)})})]})}),f.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Top Matches"}),f.jsx("div",{className:"space-y-3",children:h.map((S,C)=>f.jsxs(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4+C*.1},className:"card p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-foreground text-sm",children:S.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:S.company})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium text-primary",children:[S.score,"%"]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:S.status})]})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:f.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${S.score}%`}})})]},S.name))})]})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Engagement Heatmap"}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded"}),f.jsx("span",{children:"Low"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),f.jsx("span",{children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-green-400 rounded"}),f.jsx("span",{children:"High"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),f.jsx("span",{children:"Very High"})]})]})]}),f.jsx("div",{className:"grid grid-cols-9 gap-2",children:m.map((S,C)=>f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground",children:S.time}),f.jsx("div",{className:`w-8 h-8 rounded-lg ${g(S.activity)}`})]},S.time))})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx("div",{className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(_U,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"AI Recommendations"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on your engagement patterns, we recommend:"}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsx("li",{children:"• Schedule meetings during 10:00 AM - 11:00 AM (peak activity)"}),f.jsx("li",{children:"• Follow up with matches within 24 hours"}),f.jsx("li",{children:"• Focus on high-match-score connections (90%+)"})]})]})]})}),f.jsx("div",{className:"card bg-gradient-to-r from-secondary/5 to-primary/5 border-secondary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(V2,{className:"h-6 w-6 text-secondary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"Performance Goals"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"You're on track to achieve:"}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsx("li",{children:"• 50+ total matches this week"}),f.jsx("li",{children:"• 30+ scheduled meetings"}),f.jsx("li",{children:"• 80%+ response rate"})]})]})]})})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(xi,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-4 flex-1",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"Quick Actions"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimize your networking strategy with these quick actions"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(ru,{className:"h-4 w-4 mr-2"}),"Send Follow-ups"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Schedule Meetings"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(su,{className:"h-4 w-4 mr-2"}),"Find Matches"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(gE,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})]})}),f.jsx($f,{})]})},V8=()=>f.jsxs("div",{className:"p-8 space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-foreground font-heading mb-4",children:"Font Test - Poppins (Heading)"}),f.jsx("p",{className:"text-lg text-muted-foreground font-body",children:"This is Nunito Sans (Body) - A friendly, readable font for body text."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-foreground font-heading",children:"Poppins Font Weights"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-normal text-foreground font-heading",children:"Poppins Regular (400) - Clean and modern"}),f.jsx("p",{className:"text-lg font-semibold text-foreground font-heading",children:"Poppins Semibold (600) - Strong emphasis"}),f.jsx("p",{className:"text-lg font-bold text-foreground font-heading",children:"Poppins Bold (700) - Maximum impact"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-foreground font-heading",children:"Nunito Sans Font Weights"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-normal text-foreground font-body",children:"Nunito Sans Regular (400) - Friendly and readable"}),f.jsx("p",{className:"text-lg font-semibold text-foreground font-body",children:"Nunito Sans Semibold (600) - Gentle emphasis"}),f.jsx("p",{className:"text-lg font-bold text-foreground font-body",children:"Nunito Sans Bold (700) - Clear hierarchy"})]})]})]}),f.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-foreground font-heading mb-4",children:"Sample Content"}),f.jsxs("div",{className:"space-y-3 font-body text-foreground",children:[f.jsx("p",{children:"This is a sample paragraph using Nunito Sans for body text. It's designed to be highly readable and friendly, making it perfect for longer content and user interfaces."}),f.jsx("p",{children:"The combination of Poppins for headings and Nunito Sans for body text creates a modern, approachable design that feels both professional and welcoming."}),f.jsx("p",{children:"This typography pairing works well for applications that need to balance technical functionality with human-centered design principles."})]})]}),f.jsx("div",{className:"text-center",children:f.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-body",children:"Sample Button with Nunito Sans"})})]}),L8=new ib({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),La=({children:t})=>{const{user:e,loading:n}=$o();return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(vy,{to:"/auth",replace:!0})},FE=({children:t})=>{const{user:e,loading:n}=$o();return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?f.jsx(vy,{to:"/",replace:!0}):f.jsx(f.Fragment,{children:t})};function F8(){return f.jsxs(xk,{children:[f.jsx(yr,{path:"/",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(UU,{})})})}),f.jsx(yr,{path:"/events",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(A8,{})})})}),f.jsx(yr,{path:"/auth",element:f.jsx(FE,{children:f.jsx(k8,{})})}),f.jsx(yr,{path:"/auth/callback",element:f.jsx(FE,{children:f.jsx(P8,{})})}),f.jsx(yr,{path:"/profile",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(N8,{})})})}),f.jsx(yr,{path:"/matches",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(D8,{})})})}),f.jsx(yr,{path:"/schedule",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(M8,{})})})}),f.jsx(yr,{path:"/dashboard",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(O8,{})})})}),f.jsx(yr,{path:"/font-test",element:f.jsx(po,{children:f.jsx(V8,{})})}),f.jsx(yr,{path:"*",element:f.jsx(vy,{to:"/",replace:!0})})]})}function U8(){return f.jsx(f.Fragment,{children:f.jsx(ab,{client:L8,children:f.jsxs(NL,{children:[f.jsx(jU,{children:f.jsx(F8,{})}),f.jsx(mb,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--background)",color:"var(--foreground)",border:"1px solid var(--border)"}}})]})})})}const B8=A.createContext(void 0),z8=({children:t})=>{const[e,n]=A.useState(null),r=(i,a="info")=>{n({message:i,type:a}),setTimeout(()=>n(null),3e3)};return f.jsxs(B8.Provider,{value:{notify:r},children:[t,e&&f.jsx("div",{style:{position:"fixed",bottom:32,right:32,zIndex:9999,padding:"16px 24px",borderRadius:8,background:e.type==="success"?"#22c55e":e.type==="error"?"#ef4444":"#2563eb",color:"#fff",boxShadow:"0 2px 12px rgba(0,0,0,0.15)",fontWeight:500,fontSize:16,minWidth:200,textAlign:"center",transition:"all 0.3s"},children:e.message})]})},$8=new ib;kA.createRoot(document.getElementById("root")).render(f.jsx(ef.StrictMode,{children:f.jsx(ab,{client:$8,children:f.jsx(z8,{children:f.jsxs(Ak,{future:{v7_relativeSplatPath:!0},children:[f.jsx(U8,{}),f.jsx(mb,{position:"top-right"})]})})})}));
