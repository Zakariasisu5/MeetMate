function aA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function AE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xm={exports:{}},gc={},_m={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function lA(){if(Kw)return Oe;Kw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function b(B,X,ve){this.props=B,this.context=X,this.refs=C,this.updater=ve||I}b.prototype.isReactComponent={},b.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function O(){}O.prototype=b.prototype;function D(B,X,ve){this.props=B,this.context=X,this.refs=C,this.updater=ve||I}var M=D.prototype=new O;M.constructor=D,T(M,b.prototype),M.isPureReactComponent=!0;var G=Array.isArray,Q=Object.prototype.hasOwnProperty,re={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function k(B,X,ve){var ke,Ne={},je=null,Be=null;if(X!=null)for(ke in X.ref!==void 0&&(Be=X.ref),X.key!==void 0&&(je=""+X.key),X)Q.call(X,ke)&&!L.hasOwnProperty(ke)&&(Ne[ke]=X[ke]);var qe=arguments.length-2;if(qe===1)Ne.children=ve;else if(1<qe){for(var Ge=Array(qe),lt=0;lt<qe;lt++)Ge[lt]=arguments[lt+2];Ne.children=Ge}if(B&&B.defaultProps)for(ke in qe=B.defaultProps,qe)Ne[ke]===void 0&&(Ne[ke]=qe[ke]);return{$$typeof:t,type:B,key:je,ref:Be,props:Ne,_owner:re.current}}function N(B,X){return{$$typeof:t,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function U(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function $(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ve){return X[ve]})}var R=/\/+/g;function j(B,X){return typeof B=="object"&&B!==null&&B.key!=null?$(""+B.key):X.toString(36)}function we(B,X,ve,ke,Ne){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(je){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case t:case e:Be=!0}}if(Be)return Be=B,Ne=Ne(Be),B=ke===""?"."+j(Be,0):ke,G(Ne)?(ve="",B!=null&&(ve=B.replace(R,"$&/")+"/"),we(Ne,X,ve,"",function(lt){return lt})):Ne!=null&&(U(Ne)&&(Ne=N(Ne,ve+(!Ne.key||Be&&Be.key===Ne.key?"":(""+Ne.key).replace(R,"$&/")+"/")+B)),X.push(Ne)),1;if(Be=0,ke=ke===""?".":ke+":",G(B))for(var qe=0;qe<B.length;qe++){je=B[qe];var Ge=ke+j(je,qe);Be+=we(je,X,ve,Ge,Ne)}else if(Ge=_(B),typeof Ge=="function")for(B=Ge.call(B),qe=0;!(je=B.next()).done;)je=je.value,Ge=ke+j(je,qe++),Be+=we(je,X,ve,Ge,Ne);else if(je==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Be}function Qe(B,X,ve){if(B==null)return B;var ke=[],Ne=0;return we(B,ke,"","",function(je){return X.call(ve,je,Ne++)}),ke}function De(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ve){(B._status===0||B._status===-1)&&(B._status=1,B._result=ve)},function(ve){(B._status===0||B._status===-1)&&(B._status=2,B._result=ve)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Me={current:null},oe={transition:null},ge={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:oe,ReactCurrentOwner:re};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Qe,forEach:function(B,X,ve){Qe(B,function(){X.apply(this,arguments)},ve)},count:function(B){var X=0;return Qe(B,function(){X++}),X},toArray:function(B){return Qe(B,function(X){return X})||[]},only:function(B){if(!U(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Oe.Component=b,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=D,Oe.StrictMode=r,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Oe.act=ue,Oe.cloneElement=function(B,X,ve){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ke=T({},B.props),Ne=B.key,je=B.ref,Be=B._owner;if(X!=null){if(X.ref!==void 0&&(je=X.ref,Be=re.current),X.key!==void 0&&(Ne=""+X.key),B.type&&B.type.defaultProps)var qe=B.type.defaultProps;for(Ge in X)Q.call(X,Ge)&&!L.hasOwnProperty(Ge)&&(ke[Ge]=X[Ge]===void 0&&qe!==void 0?qe[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)ke.children=ve;else if(1<Ge){qe=Array(Ge);for(var lt=0;lt<Ge;lt++)qe[lt]=arguments[lt+2];ke.children=qe}return{$$typeof:t,type:B.type,key:Ne,ref:je,props:ke,_owner:Be}},Oe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Oe.createElement=k,Oe.createFactory=function(B){var X=k.bind(null,B);return X.type=B,X},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(B){return{$$typeof:u,render:B}},Oe.isValidElement=U,Oe.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:De}},Oe.memo=function(B,X){return{$$typeof:m,type:B,compare:X===void 0?null:X}},Oe.startTransition=function(B){var X=oe.transition;oe.transition={};try{B()}finally{oe.transition=X}},Oe.unstable_act=ue,Oe.useCallback=function(B,X){return Me.current.useCallback(B,X)},Oe.useContext=function(B){return Me.current.useContext(B)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(B){return Me.current.useDeferredValue(B)},Oe.useEffect=function(B,X){return Me.current.useEffect(B,X)},Oe.useId=function(){return Me.current.useId()},Oe.useImperativeHandle=function(B,X,ve){return Me.current.useImperativeHandle(B,X,ve)},Oe.useInsertionEffect=function(B,X){return Me.current.useInsertionEffect(B,X)},Oe.useLayoutEffect=function(B,X){return Me.current.useLayoutEffect(B,X)},Oe.useMemo=function(B,X){return Me.current.useMemo(B,X)},Oe.useReducer=function(B,X,ve){return Me.current.useReducer(B,X,ve)},Oe.useRef=function(B){return Me.current.useRef(B)},Oe.useState=function(B){return Me.current.useState(B)},Oe.useSyncExternalStore=function(B,X,ve){return Me.current.useSyncExternalStore(B,X,ve)},Oe.useTransition=function(){return Me.current.useTransition()},Oe.version="18.3.1",Oe}var Qw;function uy(){return Qw||(Qw=1,_m.exports=lA()),_m.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function cA(){if(Yw)return gc;Yw=1;var t=uy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,m){var g,v={},_=null,I=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(I=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(v[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:u,key:_,ref:I,props:v,_owner:i.current}}return gc.Fragment=n,gc.jsx=l,gc.jsxs=l,gc}var Jw;function uA(){return Jw||(Jw=1,xm.exports=cA()),xm.exports}var f=uA(),P=uy();const Xh=AE(P),dA=aA({__proto__:null,default:Xh},[P]);var zd={},Em={exports:{}},_n={},bm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function hA(){return Xw||(Xw=1,(function(t){function e(oe,ge){var ue=oe.length;oe.push(ge);e:for(;0<ue;){var B=ue-1>>>1,X=oe[B];if(0<i(X,ge))oe[B]=ge,oe[ue]=X,ue=B;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ge=oe[0],ue=oe.pop();if(ue!==ge){oe[0]=ue;e:for(var B=0,X=oe.length,ve=X>>>1;B<ve;){var ke=2*(B+1)-1,Ne=oe[ke],je=ke+1,Be=oe[je];if(0>i(Ne,ue))je<X&&0>i(Be,Ne)?(oe[B]=Be,oe[je]=ue,B=je):(oe[B]=Ne,oe[ke]=ue,B=ke);else if(je<X&&0>i(Be,ue))oe[B]=Be,oe[je]=ue,B=je;else break e}}return ge}function i(oe,ge){var ue=oe.sortIndex-ge.sortIndex;return ue!==0?ue:oe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],g=1,v=null,_=3,I=!1,T=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(oe){for(var ge=n(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=oe)r(m),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(m)}}function G(oe){if(C=!1,M(oe),!T)if(n(h)!==null)T=!0,De(Q);else{var ge=n(m);ge!==null&&Me(G,ge.startTime-oe)}}function Q(oe,ge){T=!1,C&&(C=!1,O(k),k=-1),I=!0;var ue=_;try{for(M(ge),v=n(h);v!==null&&(!(v.expirationTime>ge)||oe&&!$());){var B=v.callback;if(typeof B=="function"){v.callback=null,_=v.priorityLevel;var X=B(v.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?v.callback=X:v===n(h)&&r(h),M(ge)}else r(h);v=n(h)}if(v!==null)var ve=!0;else{var ke=n(m);ke!==null&&Me(G,ke.startTime-ge),ve=!1}return ve}finally{v=null,_=ue,I=!1}}var re=!1,L=null,k=-1,N=5,U=-1;function $(){return!(t.unstable_now()-U<N)}function R(){if(L!==null){var oe=t.unstable_now();U=oe;var ge=!0;try{ge=L(!0,oe)}finally{ge?j():(re=!1,L=null)}}else re=!1}var j;if(typeof D=="function")j=function(){D(R)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Qe=we.port2;we.port1.onmessage=R,j=function(){Qe.postMessage(null)}}else j=function(){b(R,0)};function De(oe){L=oe,re||(re=!0,j())}function Me(oe,ge){k=b(function(){oe(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){T||I||(T=!0,De(Q))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var ue=_;_=ge;try{return oe()}finally{_=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=_;_=oe;try{return ge()}finally{_=ue}},t.unstable_scheduleCallback=function(oe,ge,ue){var B=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?B+ue:B):ue=B,oe){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,oe={id:g++,callback:ge,priorityLevel:oe,startTime:ue,expirationTime:X,sortIndex:-1},ue>B?(oe.sortIndex=ue,e(m,oe),n(h)===null&&oe===n(m)&&(C?(O(k),k=-1):C=!0,Me(G,ue-B))):(oe.sortIndex=X,e(h,oe),T||I||(T=!0,De(Q))),oe},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(oe){var ge=_;return function(){var ue=_;_=ge;try{return oe.apply(this,arguments)}finally{_=ue}}}})(Tm)),Tm}var Zw;function fA(){return Zw||(Zw=1,bm.exports=hA()),bm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function pA(){if(ex)return _n;ex=1;var t=uy(),e=fA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(s){return h.call(v,s)?!0:h.call(g,s)?!1:m.test(s)?v[s]=!0:(g[s]=!0,!1)}function I(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,o,c,p){if(o===null||typeof o>"u"||I(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,c,p,y,x,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(O,D);b[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(O,D);b[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(O,D);b[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,o,c,p){var y=b.hasOwnProperty(o)?b[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,c,y,p)&&(c=null),p||y===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),re=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),$=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,B;function X(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var ve=!1;function ke(s,o){if(!s||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var p=K}Reflect.construct(s,[],o)}else{try{o.call()}catch(K){p=K}s.call(o.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var y=K.stack.split(`
`),x=p.stack.split(`
`),S=y.length-1,V=x.length-1;1<=S&&0<=V&&y[S]!==x[V];)V--;for(;1<=S&&0<=V;S--,V--)if(y[S]!==x[V]){if(S!==1||V!==1)do if(S--,V--,0>V||y[S]!==x[V]){var F=`
`+y[S].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=S&&0<=V);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function Ne(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case re:return"Portal";case N:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case U:return(s._context.displayName||"Context")+".Provider";case R:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Qe:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case De:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function Be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lt(s){var o=Ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(S){p=""+S,x.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(S){p=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ut(s){s._valueTracker||(s._valueTracker=lt(s))}function Mi(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=Ge(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function Rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Vi(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Wo(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=qe(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function El(s,o){o=o.checked,o!=null&&M(s,"checked",o,!1)}function bl(s,o){El(s,o);var c=qe(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Go(s,o.type,c):o.hasOwnProperty("defaultValue")&&Go(s,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Cu(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Go(s,o,c){(o!=="number"||Rs(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Jr=Array.isArray;function Xr(s,o,c,p){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+qe(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Tl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ko(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Jr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:qe(c)}}function Qo(s,o){var c=qe(o.value),p=qe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Sl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Zr,Il=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Ns(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Li).forEach(function(s){Fi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Li[o]=Li[s]})});function Cl(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Li.hasOwnProperty(s)&&Li[s]?(""+o).trim():o+"px"}function Al(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Cl(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var Pl=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kl(s,o){if(o){if(Pl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Rl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Yo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jo=null,Un=null,Ar=null;function Xo(s){if(s=tc(s)){if(typeof Jo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=rd(o),Jo(s.stateNode,s.type,o))}}function Pr(s){Un?Ar?Ar.push(s):Ar=[s]:Un=s}function Nl(){if(Un){var s=Un,o=Ar;if(Ar=Un=null,Xo(s),o)for(s=0;s<o.length;s++)Xo(o[s])}}function Bi(s,o){return s(o)}function jl(){}var es=!1;function Dl(s,o,c){if(es)return s(o,c);es=!0;try{return Bi(s,o,c)}finally{es=!1,(Un!==null||Ar!==null)&&(jl(),Nl())}}function yt(s,o){var c=s.stateNode;if(c===null)return null;var p=rd(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Zo=!1;if(u)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Zo=!1}function zi(s,o,c,p,y,x,S,V,F){var K=Array.prototype.slice.call(arguments,3);try{o.apply(c,K)}catch(ne){this.onError(ne)}}var $i=!1,ea=null,rr=!1,Ol=null,Kf={onError:function(s){$i=!0,ea=s}};function ta(s,o,c,p,y,x,S,V,F){$i=!1,ea=null,zi.apply(Kf,arguments)}function Au(s,o,c,p,y,x,S,V,F){if(ta.apply(this,arguments),$i){if($i){var K=ea;$i=!1,ea=null}else throw Error(n(198));rr||(rr=!0,Ol=K)}}function sr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function qi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ir(s){if(sr(s)!==s)throw Error(n(188))}function Pu(s){var o=s.alternate;if(!o){if(o=sr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,p=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return ir(y),s;if(x===p)return ir(y),o;x=x.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=x;else{for(var S=!1,V=y.child;V;){if(V===c){S=!0,c=y,p=x;break}if(V===p){S=!0,p=y,c=x;break}V=V.sibling}if(!S){for(V=x.child;V;){if(V===c){S=!0,c=x,p=y;break}if(V===p){S=!0,p=x,c=y;break}V=V.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Ml(s){return s=Pu(s),s!==null?na(s):null}function na(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=na(s);if(o!==null)return o;s=s.sibling}return null}var ra=e.unstable_scheduleCallback,Vl=e.unstable_cancelCallback,ku=e.unstable_shouldYield,Qf=e.unstable_requestPaint,Xe=e.unstable_now,Ru=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,js=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,Ll=e.unstable_LowPriority,Nu=e.unstable_IdlePriority,Wi=null,An=null;function ju(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Wi,s,void 0,(s.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Ou,Fl=Math.log,Du=Math.LN2;function Ou(s){return s>>>=0,s===0?32:31-(Fl(s)/Du|0)|0}var sa=64,ia=4194304;function Ds(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gi(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,S=c&268435455;if(S!==0){var V=S&~y;V!==0?p=Ds(V):(x&=S,x!==0&&(p=Ds(x)))}else S=c&~y,S!==0?p=Ds(S):x!==0&&(p=Ds(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-on(o),y=1<<c,p|=s[c],o&=~y;return p}function Yf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var S=31-on(x),V=1<<S,F=y[S];F===-1?((V&c)===0||(V&p)!==0)&&(y[S]=Yf(V,o)):F<=o&&(s.expiredLanes|=V),x&=~V}}function Pn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ki(){var s=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),s}function Os(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ms(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-on(o),s[o]=c}function Je(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-on(c),x=1<<y;o[y]=0,p[y]=-1,s[y]=-1,c&=~x}}function Vs(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-on(c),y=1<<p;y&o|s[p]&o&&(s[p]|=o),c&=~y}}var Ue=0;function Ls(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mu,oa,Vu,Lu,Fu,Ul=!1,kr=[],Bt=null,or=null,ar=null,Fs=new Map,zn=new Map,Rr=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(s,o){switch(s){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Fs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(o.pointerId)}}function pn(s,o,c,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},o!==null&&(o=tc(o),o!==null&&oa(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function Xf(s,o,c,p,y){switch(o){case"focusin":return Bt=pn(Bt,s,o,c,p,y),!0;case"dragenter":return or=pn(or,s,o,c,p,y),!0;case"mouseover":return ar=pn(ar,s,o,c,p,y),!0;case"pointerover":var x=y.pointerId;return Fs.set(x,pn(Fs.get(x)||null,s,o,c,p,y)),!0;case"gotpointercapture":return x=y.pointerId,zn.set(x,pn(zn.get(x)||null,s,o,c,p,y)),!0}return!1}function Bu(s){var o=Zi(s.target);if(o!==null){var c=sr(o);if(c!==null){if(o=c.tag,o===13){if(o=qi(c),o!==null){s.blockedOn=o,Fu(s.priority,function(){Vu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ns(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=aa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Ui=p,c.target.dispatchEvent(p),Ui=null}else return o=tc(c),o!==null&&oa(o),s.blockedOn=c,!1;o.shift()}return!0}function Qi(s,o,c){ns(s)&&c.delete(o)}function zu(){Ul=!1,Bt!==null&&ns(Bt)&&(Bt=null),or!==null&&ns(or)&&(or=null),ar!==null&&ns(ar)&&(ar=null),Fs.forEach(Qi),zn.forEach(Qi)}function lr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ul||(Ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zu)))}function cr(s){function o(y){return lr(y,s)}if(0<kr.length){lr(kr[0],s);for(var c=1;c<kr.length;c++){var p=kr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Bt!==null&&lr(Bt,s),or!==null&&lr(or,s),ar!==null&&lr(ar,s),Fs.forEach(o),zn.forEach(o),c=0;c<Rr.length;c++)p=Rr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Rr.length&&(c=Rr[0],c.blockedOn===null);)Bu(c),c.blockedOn===null&&Rr.shift()}var rs=G.ReactCurrentBatchConfig,Us=!0;function it(s,o,c,p){var y=Ue,x=rs.transition;rs.transition=null;try{Ue=1,Bl(s,o,c,p)}finally{Ue=y,rs.transition=x}}function Zf(s,o,c,p){var y=Ue,x=rs.transition;rs.transition=null;try{Ue=4,Bl(s,o,c,p)}finally{Ue=y,rs.transition=x}}function Bl(s,o,c,p){if(Us){var y=aa(s,o,c,p);if(y===null)up(s,o,p,Yi,c),Uu(s,p);else if(Xf(y,s,o,c,p))p.stopPropagation();else if(Uu(s,p),o&4&&-1<Jf.indexOf(s)){for(;y!==null;){var x=tc(y);if(x!==null&&Mu(x),x=aa(s,o,c,p),x===null&&up(s,o,p,Yi,c),x===y)break;y=x}y!==null&&p.stopPropagation()}else up(s,o,p,null,c)}}var Yi=null;function aa(s,o,c,p){if(Yi=null,s=Yo(p),s=Zi(s),s!==null)if(o=sr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=qi(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Yi=s,null}function zl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ru()){case Hi:return 1;case js:return 4;case Bn:case Ll:return 16;case Nu:return 536870912;default:return 16}default:return 16}}var kn=null,la=null,mn=null;function $l(){if(mn)return mn;var s,o=la,c=o.length,p,y="value"in kn?kn.value:kn.textContent,x=y.length;for(s=0;s<c&&o[s]===y[s];s++);var S=c-s;for(p=1;p<=S&&o[c-p]===y[x-p];p++);return mn=y.slice(s,1<p?1-p:void 0)}function ca(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Nr(){return!0}function ql(){return!1}function zt(s){function o(c,p,y,x,S){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nr:ql,this.isPropagationStopped=ql,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=zt(ur),jr=ue({},ur,{view:0,detail:0}),ep=zt(jr),da,ss,Bs,Ji=ue({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Bs&&(Bs&&s.type==="mousemove"?(da=s.screenX-Bs.screenX,ss=s.screenY-Bs.screenY):ss=da=0,Bs=s),da)},movementY:function(s){return"movementY"in s?s.movementY:ss}}),ha=zt(Ji),Hl=ue({},Ji,{dataTransfer:0}),$u=zt(Hl),fa=ue({},jr,{relatedTarget:0}),pa=zt(fa),qu=ue({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),is=zt(qu),Hu=ue({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wu=zt(Hu),Gu=ue({},ur,{data:0}),Wl=zt(Gu),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ku[s])?!!o[s]:!1}function Dr(){return Qu}var d=ue({},jr,{key:function(s){if(s.key){var o=ma[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?an[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=zt(d),E=ue({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=zt(E),q=ue({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),Y=zt(q),ae=ue({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=zt(ae),Rt=ue({},Ji,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=zt(Rt),Ot=[9,13,27,32],Et=u&&"CompositionEvent"in window,$n=null;u&&"documentMode"in document&&($n=document.documentMode);var Rn=u&&"TextEvent"in window&&!$n,Xi=u&&(!Et||$n&&8<$n&&11>=$n),ga=" ",zv=!1;function $v(s,o){switch(s){case"keyup":return Ot.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function s2(s,o){switch(s){case"compositionend":return qv(o);case"keypress":return o.which!==32?null:(zv=!0,ga);case"textInput":return s=o.data,s===ga&&zv?null:s;default:return null}}function i2(s,o){if(ya)return s==="compositionend"||!Et&&$v(s,o)?(s=$l(),mn=la=kn=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xi&&o.locale!=="ko"?null:o.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!o2[s.type]:o==="textarea"}function Wv(s,o,c,p){Pr(p),o=ed(o,"onChange"),0<o.length&&(c=new ua("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var Gl=null,Kl=null;function a2(s){u0(s,0)}function Yu(s){var o=Ea(s);if(Mi(o))return s}function l2(s,o){if(s==="change")return o}var Gv=!1;if(u){var tp;if(u){var np="oninput"in document;if(!np){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),np=typeof Kv.oninput=="function"}tp=np}else tp=!1;Gv=tp&&(!document.documentMode||9<document.documentMode)}function Qv(){Gl&&(Gl.detachEvent("onpropertychange",Yv),Kl=Gl=null)}function Yv(s){if(s.propertyName==="value"&&Yu(Kl)){var o=[];Wv(o,Kl,s,Yo(s)),Dl(a2,o)}}function c2(s,o,c){s==="focusin"?(Qv(),Gl=o,Kl=c,Gl.attachEvent("onpropertychange",Yv)):s==="focusout"&&Qv()}function u2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(Kl)}function d2(s,o){if(s==="click")return Yu(o)}function h2(s,o){if(s==="input"||s==="change")return Yu(o)}function f2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var dr=typeof Object.is=="function"?Object.is:f2;function Ql(s,o){if(dr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(o,y)||!dr(s[y],o[y]))return!1}return!0}function Jv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xv(s,o){var c=Jv(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Jv(c)}}function Zv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Zv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function e0(){for(var s=window,o=Rs();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Rs(s.document)}return o}function rp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function p2(s){var o=e0(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Zv(c.ownerDocument.documentElement,c)){if(p!==null&&rp(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=Xv(c,x);var S=Xv(c,p);y&&S&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var m2=u&&"documentMode"in document&&11>=document.documentMode,va=null,sp=null,Yl=null,ip=!1;function t0(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ip||va==null||va!==Rs(p)||(p=va,"selectionStart"in p&&rp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Yl&&Ql(Yl,p)||(Yl=p,p=ed(sp,"onSelect"),0<p.length&&(o=new ua("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=va)))}function Ju(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var wa={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},op={},n0={};u&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Xu(s){if(op[s])return op[s];if(!wa[s])return s;var o=wa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in n0)return op[s]=o[c];return s}var r0=Xu("animationend"),s0=Xu("animationiteration"),i0=Xu("animationstart"),o0=Xu("transitionend"),a0=new Map,l0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(s,o){a0.set(s,o),a(o,[s])}for(var ap=0;ap<l0.length;ap++){var lp=l0[ap],g2=lp.toLowerCase(),y2=lp[0].toUpperCase()+lp.slice(1);zs(g2,"on"+y2)}zs(r0,"onAnimationEnd"),zs(s0,"onAnimationIteration"),zs(i0,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(o0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function c0(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,Au(p,o,void 0,s),s.currentTarget=null}function u0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var S=p.length-1;0<=S;S--){var V=p[S],F=V.instance,K=V.currentTarget;if(V=V.listener,F!==x&&y.isPropagationStopped())break e;c0(y,V,K),x=F}else for(S=0;S<p.length;S++){if(V=p[S],F=V.instance,K=V.currentTarget,V=V.listener,F!==x&&y.isPropagationStopped())break e;c0(y,V,K),x=F}}}if(rr)throw s=Ol,rr=!1,Ol=null,s}function nt(s,o){var c=o[gp];c===void 0&&(c=o[gp]=new Set);var p=s+"__bubble";c.has(p)||(d0(o,s,2,!1),c.add(p))}function cp(s,o,c){var p=0;o&&(p|=4),d0(c,s,p,o)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Zu]){s[Zu]=!0,r.forEach(function(c){c!=="selectionchange"&&(v2.has(c)||cp(c,!1,s),cp(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Zu]||(o[Zu]=!0,cp("selectionchange",!1,o))}}function d0(s,o,c,p){switch(zl(o)){case 1:var y=it;break;case 4:y=Zf;break;default:y=Bl}c=y.bind(null,o,c,s),y=void 0,!Zo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function up(s,o,c,p,y){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var S=p.tag;if(S===3||S===4){var V=p.stateNode.containerInfo;if(V===y||V.nodeType===8&&V.parentNode===y)break;if(S===4)for(S=p.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;S=S.return}for(;V!==null;){if(S=Zi(V),S===null)return;if(F=S.tag,F===5||F===6){p=x=S;continue e}V=V.parentNode}}p=p.return}Dl(function(){var K=x,ne=Yo(c),se=[];e:{var te=a0.get(s);if(te!==void 0){var de=ua,pe=s;switch(s){case"keypress":if(ca(c)===0)break e;case"keydown":case"keyup":de=w;break;case"focusin":pe="focus",de=pa;break;case"focusout":pe="blur",de=pa;break;case"beforeblur":case"afterblur":de=pa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case r0:case s0:case i0:de=is;break;case o0:de=Ye;break;case"scroll":de=ep;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var me=(o&4)!==0,vt=!me&&s==="scroll",H=me?te!==null?te+"Capture":null:te;me=[];for(var z=K,W;z!==null;){W=z;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,H!==null&&(ie=yt(z,H),ie!=null&&me.push(Zl(z,ie,W)))),vt)break;z=z.return}0<me.length&&(te=new de(te,pe,null,c,ne),se.push({event:te,listeners:me}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&c!==Ui&&(pe=c.relatedTarget||c.fromElement)&&(Zi(pe)||pe[os]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(pe=c.relatedTarget||c.toElement,de=K,pe=pe?Zi(pe):null,pe!==null&&(vt=sr(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=K),de!==pe)){if(me=ha,ie="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(me=A,ie="onPointerLeave",H="onPointerEnter",z="pointer"),vt=de==null?te:Ea(de),W=pe==null?te:Ea(pe),te=new me(ie,z+"leave",de,c,ne),te.target=vt,te.relatedTarget=W,ie=null,Zi(ne)===K&&(me=new me(H,z+"enter",pe,c,ne),me.target=W,me.relatedTarget=vt,ie=me),vt=ie,de&&pe)t:{for(me=de,H=pe,z=0,W=me;W;W=xa(W))z++;for(W=0,ie=H;ie;ie=xa(ie))W++;for(;0<z-W;)me=xa(me),z--;for(;0<W-z;)H=xa(H),W--;for(;z--;){if(me===H||H!==null&&me===H.alternate)break t;me=xa(me),H=xa(H)}me=null}else me=null;de!==null&&h0(se,te,de,me,!1),pe!==null&&vt!==null&&h0(se,vt,pe,me,!0)}}e:{if(te=K?Ea(K):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ye=l2;else if(Hv(te))if(Gv)ye=h2;else{ye=u2;var _e=c2}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=d2);if(ye&&(ye=ye(s,K))){Wv(se,ye,c,ne);break e}_e&&_e(s,te,K),s==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&Go(te,"number",te.value)}switch(_e=K?Ea(K):window,s){case"focusin":(Hv(_e)||_e.contentEditable==="true")&&(va=_e,sp=K,Yl=null);break;case"focusout":Yl=sp=va=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,t0(se,c,ne);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":t0(se,c,ne)}var Ee;if(Et)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ya?$v(s,c)&&(Ce="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ce="onCompositionStart");Ce&&(Xi&&c.locale!=="ko"&&(ya||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ya&&(Ee=$l()):(kn=ne,la="value"in kn?kn.value:kn.textContent,ya=!0)),_e=ed(K,Ce),0<_e.length&&(Ce=new Wl(Ce,s,null,c,ne),se.push({event:Ce,listeners:_e}),Ee?Ce.data=Ee:(Ee=qv(c),Ee!==null&&(Ce.data=Ee)))),(Ee=Rn?s2(s,c):i2(s,c))&&(K=ed(K,"onBeforeInput"),0<K.length&&(ne=new Wl("onBeforeInput","beforeinput",null,c,ne),se.push({event:ne,listeners:K}),ne.data=Ee))}u0(se,o)})}function Zl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ed(s,o){for(var c=o+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=yt(s,c),x!=null&&p.unshift(Zl(s,x,y)),x=yt(s,o),x!=null&&p.push(Zl(s,x,y))),s=s.return}return p}function xa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function h0(s,o,c,p,y){for(var x=o._reactName,S=[];c!==null&&c!==p;){var V=c,F=V.alternate,K=V.stateNode;if(F!==null&&F===p)break;V.tag===5&&K!==null&&(V=K,y?(F=yt(c,x),F!=null&&S.unshift(Zl(c,F,V))):y||(F=yt(c,x),F!=null&&S.push(Zl(c,F,V)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var w2=/\r\n?/g,x2=/\u0000|\uFFFD/g;function f0(s){return(typeof s=="string"?s:""+s).replace(w2,`
`).replace(x2,"")}function td(s,o,c){if(o=f0(o),f0(s)!==o&&c)throw Error(n(425))}function nd(){}var dp=null,hp=null;function fp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pp=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(s){return p0.resolve(null).then(s).catch(b2)}:pp;function b2(s){setTimeout(function(){throw s})}function mp(s,o){var c=o,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),cr(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);cr(o)}function $s(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function m0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Or="__reactFiber$"+_a,ec="__reactProps$"+_a,os="__reactContainer$"+_a,gp="__reactEvents$"+_a,T2="__reactListeners$"+_a,S2="__reactHandles$"+_a;function Zi(s){var o=s[Or];if(o)return o;for(var c=s.parentNode;c;){if(o=c[os]||c[Or]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=m0(s);s!==null;){if(c=s[Or])return c;s=m0(s)}return o}s=c,c=s.parentNode}return null}function tc(s){return s=s[Or]||s[os],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function rd(s){return s[ec]||null}var yp=[],ba=-1;function qs(s){return{current:s}}function rt(s){0>ba||(s.current=yp[ba],yp[ba]=null,ba--)}function Ze(s,o){ba++,yp[ba]=s.current,s.current=o}var Hs={},Qt=qs(Hs),gn=qs(!1),eo=Hs;function Ta(s,o){var c=s.type.contextTypes;if(!c)return Hs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function yn(s){return s=s.childContextTypes,s!=null}function sd(){rt(gn),rt(Qt)}function g0(s,o,c){if(Qt.current!==Hs)throw Error(n(168));Ze(Qt,o),Ze(gn,c)}function y0(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,Be(s)||"Unknown",y));return ue({},c,p)}function id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Hs,eo=Qt.current,Ze(Qt,s),Ze(gn,gn.current),!0}function v0(s,o,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=y0(s,o,eo),p.__reactInternalMemoizedMergedChildContext=s,rt(gn),rt(Qt),Ze(Qt,s)):rt(gn),Ze(gn,c)}var as=null,od=!1,vp=!1;function w0(s){as===null?as=[s]:as.push(s)}function I2(s){od=!0,w0(s)}function Ws(){if(!vp&&as!==null){vp=!0;var s=0,o=Ue;try{var c=as;for(Ue=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}as=null,od=!1}catch(y){throw as!==null&&(as=as.slice(s+1)),ra(Hi,Ws),y}finally{Ue=o,vp=!1}}return null}var Sa=[],Ia=0,ad=null,ld=0,qn=[],Hn=0,to=null,ls=1,cs="";function no(s,o){Sa[Ia++]=ld,Sa[Ia++]=ad,ad=s,ld=o}function x0(s,o,c){qn[Hn++]=ls,qn[Hn++]=cs,qn[Hn++]=to,to=s;var p=ls;s=cs;var y=32-on(p)-1;p&=~(1<<y),c+=1;var x=32-on(o)+y;if(30<x){var S=y-y%5;x=(p&(1<<S)-1).toString(32),p>>=S,y-=S,ls=1<<32-on(o)+y|c<<y|p,cs=x+s}else ls=1<<x|c<<y|p,cs=s}function wp(s){s.return!==null&&(no(s,1),x0(s,1,0))}function xp(s){for(;s===ad;)ad=Sa[--Ia],Sa[Ia]=null,ld=Sa[--Ia],Sa[Ia]=null;for(;s===to;)to=qn[--Hn],qn[Hn]=null,cs=qn[--Hn],qn[Hn]=null,ls=qn[--Hn],qn[Hn]=null}var Nn=null,jn=null,ot=!1,hr=null;function _0(s,o){var c=Qn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function E0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Nn=s,jn=$s(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Nn=s,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=to!==null?{id:ls,overflow:cs}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Qn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Nn=s,jn=null,!0):!1;default:return!1}}function _p(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ep(s){if(ot){var o=jn;if(o){var c=o;if(!E0(s,o)){if(_p(s))throw Error(n(418));o=$s(c.nextSibling);var p=Nn;o&&E0(s,o)?_0(p,c):(s.flags=s.flags&-4097|2,ot=!1,Nn=s)}}else{if(_p(s))throw Error(n(418));s.flags=s.flags&-4097|2,ot=!1,Nn=s}}}function b0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function cd(s){if(s!==Nn)return!1;if(!ot)return b0(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!fp(s.type,s.memoizedProps)),o&&(o=jn)){if(_p(s))throw T0(),Error(n(418));for(;o;)_0(s,o),o=$s(o.nextSibling)}if(b0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){jn=$s(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}jn=null}}else jn=Nn?$s(s.stateNode.nextSibling):null;return!0}function T0(){for(var s=jn;s;)s=$s(s.nextSibling)}function Ca(){jn=Nn=null,ot=!1}function bp(s){hr===null?hr=[s]:hr.push(s)}var C2=G.ReactCurrentBatchConfig;function nc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var y=p,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(S){var V=y.refs;S===null?delete V[x]:V[x]=S},o._stringRef=x,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function ud(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function S0(s){var o=s._init;return o(s._payload)}function I0(s){function o(H,z){if(s){var W=H.deletions;W===null?(H.deletions=[z],H.flags|=16):W.push(z)}}function c(H,z){if(!s)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function p(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function y(H,z){return H=ei(H,z),H.index=0,H.sibling=null,H}function x(H,z,W){return H.index=W,s?(W=H.alternate,W!==null?(W=W.index,W<z?(H.flags|=2,z):W):(H.flags|=2,z)):(H.flags|=1048576,z)}function S(H){return s&&H.alternate===null&&(H.flags|=2),H}function V(H,z,W,ie){return z===null||z.tag!==6?(z=pm(W,H.mode,ie),z.return=H,z):(z=y(z,W),z.return=H,z)}function F(H,z,W,ie){var ye=W.type;return ye===L?ne(H,z,W.props.children,ie,W.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&S0(ye)===z.type)?(ie=y(z,W.props),ie.ref=nc(H,z,W),ie.return=H,ie):(ie=Dd(W.type,W.key,W.props,null,H.mode,ie),ie.ref=nc(H,z,W),ie.return=H,ie)}function K(H,z,W,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=mm(W,H.mode,ie),z.return=H,z):(z=y(z,W.children||[]),z.return=H,z)}function ne(H,z,W,ie,ye){return z===null||z.tag!==7?(z=uo(W,H.mode,ie,ye),z.return=H,z):(z=y(z,W),z.return=H,z)}function se(H,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=pm(""+z,H.mode,W),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return W=Dd(z.type,z.key,z.props,null,H.mode,W),W.ref=nc(H,null,z),W.return=H,W;case re:return z=mm(z,H.mode,W),z.return=H,z;case De:var ie=z._init;return se(H,ie(z._payload),W)}if(Jr(z)||ge(z))return z=uo(z,H.mode,W,null),z.return=H,z;ud(H,z)}return null}function te(H,z,W,ie){var ye=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:V(H,z,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return W.key===ye?F(H,z,W,ie):null;case re:return W.key===ye?K(H,z,W,ie):null;case De:return ye=W._init,te(H,z,ye(W._payload),ie)}if(Jr(W)||ge(W))return ye!==null?null:ne(H,z,W,ie,null);ud(H,W)}return null}function de(H,z,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(W)||null,V(z,H,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Q:return H=H.get(ie.key===null?W:ie.key)||null,F(z,H,ie,ye);case re:return H=H.get(ie.key===null?W:ie.key)||null,K(z,H,ie,ye);case De:var _e=ie._init;return de(H,z,W,_e(ie._payload),ye)}if(Jr(ie)||ge(ie))return H=H.get(W)||null,ne(z,H,ie,ye,null);ud(z,ie)}return null}function pe(H,z,W,ie){for(var ye=null,_e=null,Ee=z,Ce=z=0,Lt=null;Ee!==null&&Ce<W.length;Ce++){Ee.index>Ce?(Lt=Ee,Ee=null):Lt=Ee.sibling;var We=te(H,Ee,W[Ce],ie);if(We===null){Ee===null&&(Ee=Lt);break}s&&Ee&&We.alternate===null&&o(H,Ee),z=x(We,z,Ce),_e===null?ye=We:_e.sibling=We,_e=We,Ee=Lt}if(Ce===W.length)return c(H,Ee),ot&&no(H,Ce),ye;if(Ee===null){for(;Ce<W.length;Ce++)Ee=se(H,W[Ce],ie),Ee!==null&&(z=x(Ee,z,Ce),_e===null?ye=Ee:_e.sibling=Ee,_e=Ee);return ot&&no(H,Ce),ye}for(Ee=p(H,Ee);Ce<W.length;Ce++)Lt=de(Ee,H,Ce,W[Ce],ie),Lt!==null&&(s&&Lt.alternate!==null&&Ee.delete(Lt.key===null?Ce:Lt.key),z=x(Lt,z,Ce),_e===null?ye=Lt:_e.sibling=Lt,_e=Lt);return s&&Ee.forEach(function(ti){return o(H,ti)}),ot&&no(H,Ce),ye}function me(H,z,W,ie){var ye=ge(W);if(typeof ye!="function")throw Error(n(150));if(W=ye.call(W),W==null)throw Error(n(151));for(var _e=ye=null,Ee=z,Ce=z=0,Lt=null,We=W.next();Ee!==null&&!We.done;Ce++,We=W.next()){Ee.index>Ce?(Lt=Ee,Ee=null):Lt=Ee.sibling;var ti=te(H,Ee,We.value,ie);if(ti===null){Ee===null&&(Ee=Lt);break}s&&Ee&&ti.alternate===null&&o(H,Ee),z=x(ti,z,Ce),_e===null?ye=ti:_e.sibling=ti,_e=ti,Ee=Lt}if(We.done)return c(H,Ee),ot&&no(H,Ce),ye;if(Ee===null){for(;!We.done;Ce++,We=W.next())We=se(H,We.value,ie),We!==null&&(z=x(We,z,Ce),_e===null?ye=We:_e.sibling=We,_e=We);return ot&&no(H,Ce),ye}for(Ee=p(H,Ee);!We.done;Ce++,We=W.next())We=de(Ee,H,Ce,We.value,ie),We!==null&&(s&&We.alternate!==null&&Ee.delete(We.key===null?Ce:We.key),z=x(We,z,Ce),_e===null?ye=We:_e.sibling=We,_e=We);return s&&Ee.forEach(function(oA){return o(H,oA)}),ot&&no(H,Ce),ye}function vt(H,z,W,ie){if(typeof W=="object"&&W!==null&&W.type===L&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:e:{for(var ye=W.key,_e=z;_e!==null;){if(_e.key===ye){if(ye=W.type,ye===L){if(_e.tag===7){c(H,_e.sibling),z=y(_e,W.props.children),z.return=H,H=z;break e}}else if(_e.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&S0(ye)===_e.type){c(H,_e.sibling),z=y(_e,W.props),z.ref=nc(H,_e,W),z.return=H,H=z;break e}c(H,_e);break}else o(H,_e);_e=_e.sibling}W.type===L?(z=uo(W.props.children,H.mode,ie,W.key),z.return=H,H=z):(ie=Dd(W.type,W.key,W.props,null,H.mode,ie),ie.ref=nc(H,z,W),ie.return=H,H=ie)}return S(H);case re:e:{for(_e=W.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){c(H,z.sibling),z=y(z,W.children||[]),z.return=H,H=z;break e}else{c(H,z);break}else o(H,z);z=z.sibling}z=mm(W,H.mode,ie),z.return=H,H=z}return S(H);case De:return _e=W._init,vt(H,z,_e(W._payload),ie)}if(Jr(W))return pe(H,z,W,ie);if(ge(W))return me(H,z,W,ie);ud(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(c(H,z.sibling),z=y(z,W),z.return=H,H=z):(c(H,z),z=pm(W,H.mode,ie),z.return=H,H=z),S(H)):c(H,z)}return vt}var Aa=I0(!0),C0=I0(!1),dd=qs(null),hd=null,Pa=null,Tp=null;function Sp(){Tp=Pa=hd=null}function Ip(s){var o=dd.current;rt(dd),s._currentValue=o}function Cp(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function ka(s,o){hd=s,Tp=Pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(vn=!0),s.firstContext=null)}function Wn(s){var o=s._currentValue;if(Tp!==s)if(s={context:s,memoizedValue:o,next:null},Pa===null){if(hd===null)throw Error(n(308));Pa=s,hd.dependencies={lanes:0,firstContext:s}}else Pa=Pa.next=s;return o}var ro=null;function Ap(s){ro===null?ro=[s]:ro.push(s)}function A0(s,o,c,p){var y=o.interleaved;return y===null?(c.next=c,Ap(o)):(c.next=y.next,y.next=c),o.interleaved=c,us(s,p)}function us(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gs=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ds(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ks(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(He&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,us(s,c)}return y=p.interleaved,y===null?(o.next=o,Ap(p)):(o.next=y.next,y.next=o),p.interleaved=o,us(s,c)}function fd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}function k0(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function pd(s,o,c,p){var y=s.updateQueue;Gs=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var F=V,K=F.next;F.next=null,S===null?x=K:S.next=K,S=F;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,V=ne.lastBaseUpdate,V!==S&&(V===null?ne.firstBaseUpdate=K:V.next=K,ne.lastBaseUpdate=F))}if(x!==null){var se=y.baseState;S=0,ne=K=F=null,V=x;do{var te=V.lane,de=V.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var pe=s,me=V;switch(te=o,de=c,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){se=pe.call(de,se,te);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(de,se,te):pe,te==null)break e;se=ue({},se,te);break e;case 2:Gs=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,te=y.effects,te===null?y.effects=[V]:te.push(V))}else de={eventTime:de,lane:te,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ne===null?(K=ne=de,F=se):ne=ne.next=de,S|=te;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;te=V,V=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);if(ne===null&&(F=se),y.baseState=F,y.firstBaseUpdate=K,y.lastBaseUpdate=ne,o=y.shared.interleaved,o!==null){y=o;do S|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);oo|=S,s.lanes=S,s.memoizedState=se}}function R0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var rc={},Mr=qs(rc),sc=qs(rc),ic=qs(rc);function so(s){if(s===rc)throw Error(n(174));return s}function kp(s,o){switch(Ze(ic,o),Ze(sc,s),Ze(Mr,rc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=kt(o,s)}rt(Mr),Ze(Mr,o)}function Ra(){rt(Mr),rt(sc),rt(ic)}function N0(s){so(ic.current);var o=so(Mr.current),c=kt(o,s.type);o!==c&&(Ze(sc,s),Ze(Mr,c))}function Rp(s){sc.current===s&&(rt(Mr),rt(sc))}var ct=qs(0);function md(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Np=[];function jp(){for(var s=0;s<Np.length;s++)Np[s]._workInProgressVersionPrimary=null;Np.length=0}var gd=G.ReactCurrentDispatcher,Dp=G.ReactCurrentBatchConfig,io=0,ut=null,Nt=null,Mt=null,yd=!1,oc=!1,ac=0,A2=0;function Yt(){throw Error(n(321))}function Op(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!dr(s[c],o[c]))return!1;return!0}function Mp(s,o,c,p,y,x){if(io=x,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,gd.current=s===null||s.memoizedState===null?N2:j2,s=c(p,y),oc){x=0;do{if(oc=!1,ac=0,25<=x)throw Error(n(301));x+=1,Mt=Nt=null,o.updateQueue=null,gd.current=D2,s=c(p,y)}while(oc)}if(gd.current=xd,o=Nt!==null&&Nt.next!==null,io=0,Mt=Nt=ut=null,yd=!1,o)throw Error(n(300));return s}function Vp(){var s=ac!==0;return ac=0,s}function Vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ut.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function Gn(){if(Nt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var o=Mt===null?ut.memoizedState:Mt.next;if(o!==null)Mt=o,Nt=s;else{if(s===null)throw Error(n(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Mt===null?ut.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}function lc(s,o){return typeof o=="function"?o(s):o}function Lp(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Nt,y=p.baseQueue,x=c.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}p.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,p=p.baseState;var V=S=null,F=null,K=x;do{var ne=K.lane;if((io&ne)===ne)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(V=F=se,S=p):F=F.next=se,ut.lanes|=ne,oo|=ne}K=K.next}while(K!==null&&K!==x);F===null?S=p:F.next=V,dr(p,o.memoizedState)||(vn=!0),o.memoizedState=p,o.baseState=S,o.baseQueue=F,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do x=y.lane,ut.lanes|=x,oo|=x,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Fp(s){var o=Gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do x=s(x,S.action),S=S.next;while(S!==y);dr(x,o.memoizedState)||(vn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,p]}function j0(){}function D0(s,o){var c=ut,p=Gn(),y=o(),x=!dr(p.memoizedState,y);if(x&&(p.memoizedState=y,vn=!0),p=p.queue,Up(V0.bind(null,c,p,s),[s]),p.getSnapshot!==o||x||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,cc(9,M0.bind(null,c,p,y,o),void 0,null),Vt===null)throw Error(n(349));(io&30)!==0||O0(c,o,y)}return y}function O0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function M0(s,o,c,p){o.value=c,o.getSnapshot=p,L0(o)&&F0(s)}function V0(s,o,c){return c(function(){L0(o)&&F0(s)})}function L0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!dr(s,c)}catch{return!0}}function F0(s){var o=us(s,1);o!==null&&gr(o,s,1,-1)}function U0(s){var o=Vr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:s},o.queue=s,s=s.dispatch=R2.bind(null,ut,s),[o.memoizedState,s]}function cc(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function B0(){return Gn().memoizedState}function vd(s,o,c,p){var y=Vr();ut.flags|=s,y.memoizedState=cc(1|o,c,void 0,p===void 0?null:p)}function wd(s,o,c,p){var y=Gn();p=p===void 0?null:p;var x=void 0;if(Nt!==null){var S=Nt.memoizedState;if(x=S.destroy,p!==null&&Op(p,S.deps)){y.memoizedState=cc(o,c,x,p);return}}ut.flags|=s,y.memoizedState=cc(1|o,c,x,p)}function z0(s,o){return vd(8390656,8,s,o)}function Up(s,o){return wd(2048,8,s,o)}function $0(s,o){return wd(4,2,s,o)}function q0(s,o){return wd(4,4,s,o)}function H0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function W0(s,o,c){return c=c!=null?c.concat([s]):null,wd(4,4,H0.bind(null,o,s),c)}function Bp(){}function G0(s,o){var c=Gn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Op(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function K0(s,o){var c=Gn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Op(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function Q0(s,o,c){return(io&21)===0?(s.baseState&&(s.baseState=!1,vn=!0),s.memoizedState=c):(dr(c,o)||(c=Ki(),ut.lanes|=c,oo|=c,s.baseState=!0),o)}function P2(s,o){var c=Ue;Ue=c!==0&&4>c?c:4,s(!0);var p=Dp.transition;Dp.transition={};try{s(!1),o()}finally{Ue=c,Dp.transition=p}}function Y0(){return Gn().memoizedState}function k2(s,o,c){var p=Xs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},J0(s))X0(o,c);else if(c=A0(s,o,c,p),c!==null){var y=cn();gr(c,s,p,y),Z0(c,o,p)}}function R2(s,o,c){var p=Xs(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(J0(s))X0(o,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var S=o.lastRenderedState,V=x(S,c);if(y.hasEagerState=!0,y.eagerState=V,dr(V,S)){var F=o.interleaved;F===null?(y.next=y,Ap(o)):(y.next=F.next,F.next=y),o.interleaved=y;return}}catch{}finally{}c=A0(s,o,y,p),c!==null&&(y=cn(),gr(c,s,p,y),Z0(c,o,p))}}function J0(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function X0(s,o){oc=yd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Z0(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,Vs(s,c)}}var xd={readContext:Wn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},N2={readContext:Wn,useCallback:function(s,o){return Vr().memoizedState=[s,o===void 0?null:o],s},useContext:Wn,useEffect:z0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,vd(4194308,4,H0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return vd(4194308,4,s,o)},useInsertionEffect:function(s,o){return vd(4,2,s,o)},useMemo:function(s,o){var c=Vr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Vr();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=k2.bind(null,ut,s),[p.memoizedState,s]},useRef:function(s){var o=Vr();return s={current:s},o.memoizedState=s},useState:U0,useDebugValue:Bp,useDeferredValue:function(s){return Vr().memoizedState=s},useTransition:function(){var s=U0(!1),o=s[0];return s=P2.bind(null,s[1]),Vr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=ut,y=Vr();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Vt===null)throw Error(n(349));(io&30)!==0||O0(p,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,z0(V0.bind(null,p,x,s),[s]),p.flags|=2048,cc(9,M0.bind(null,p,x,c,o),void 0,null),c},useId:function(){var s=Vr(),o=Vt.identifierPrefix;if(ot){var c=cs,p=ls;c=(p&~(1<<32-on(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=ac++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=A2++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},j2={readContext:Wn,useCallback:G0,useContext:Wn,useEffect:Up,useImperativeHandle:W0,useInsertionEffect:$0,useLayoutEffect:q0,useMemo:K0,useReducer:Lp,useRef:B0,useState:function(){return Lp(lc)},useDebugValue:Bp,useDeferredValue:function(s){var o=Gn();return Q0(o,Nt.memoizedState,s)},useTransition:function(){var s=Lp(lc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:j0,useSyncExternalStore:D0,useId:Y0,unstable_isNewReconciler:!1},D2={readContext:Wn,useCallback:G0,useContext:Wn,useEffect:Up,useImperativeHandle:W0,useInsertionEffect:$0,useLayoutEffect:q0,useMemo:K0,useReducer:Fp,useRef:B0,useState:function(){return Fp(lc)},useDebugValue:Bp,useDeferredValue:function(s){var o=Gn();return Nt===null?o.memoizedState=s:Q0(o,Nt.memoizedState,s)},useTransition:function(){var s=Fp(lc)[0],o=Gn().memoizedState;return[s,o]},useMutableSource:j0,useSyncExternalStore:D0,useId:Y0,unstable_isNewReconciler:!1};function fr(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function zp(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var _d={isMounted:function(s){return(s=s._reactInternals)?sr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=cn(),y=Xs(s),x=ds(p,y);x.payload=o,c!=null&&(x.callback=c),o=Ks(s,x,y),o!==null&&(gr(o,s,y,p),fd(o,s,y))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=cn(),y=Xs(s),x=ds(p,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Ks(s,x,y),o!==null&&(gr(o,s,y,p),fd(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=cn(),p=Xs(s),y=ds(c,p);y.tag=2,o!=null&&(y.callback=o),o=Ks(s,y,p),o!==null&&(gr(o,s,p,c),fd(o,s,p))}};function ew(s,o,c,p,y,x,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,S):o.prototype&&o.prototype.isPureReactComponent?!Ql(c,p)||!Ql(y,x):!0}function tw(s,o,c){var p=!1,y=Hs,x=o.contextType;return typeof x=="object"&&x!==null?x=Wn(x):(y=yn(o)?eo:Qt.current,p=o.contextTypes,x=(p=p!=null)?Ta(s,y):Hs),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_d,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),o}function nw(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&_d.enqueueReplaceState(o,o.state,null)}function $p(s,o,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},Pp(s);var x=o.contextType;typeof x=="object"&&x!==null?y.context=Wn(x):(x=yn(o)?eo:Qt.current,y.context=Ta(s,x)),y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(zp(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&_d.enqueueReplaceState(y,y.state,null),pd(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Na(s,o){try{var c="",p=o;do c+=Ne(p),p=p.return;while(p);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:y,digest:null}}function qp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Hp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var O2=typeof WeakMap=="function"?WeakMap:Map;function rw(s,o,c){c=ds(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Ad||(Ad=!0,om=p),Hp(s,o)},c}function sw(s,o,c){c=ds(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Hp(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Hp(s,o),typeof p!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function iw(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new O2;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),s=Q2.bind(null,s,o,c),o.then(s,s))}function ow(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function aw(s,o,c,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ds(-1,1),o.tag=2,Ks(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var M2=G.ReactCurrentOwner,vn=!1;function ln(s,o,c,p){o.child=s===null?C0(o,null,c,p):Aa(o,s.child,c,p)}function lw(s,o,c,p,y){c=c.render;var x=o.ref;return ka(o,y),p=Mp(s,o,c,p,x,y),c=Vp(),s!==null&&!vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,hs(s,o,y)):(ot&&c&&wp(o),o.flags|=1,ln(s,o,p,y),o.child)}function cw(s,o,c,p,y){if(s===null){var x=c.type;return typeof x=="function"&&!fm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,uw(s,o,x,p,y)):(s=Dd(c.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&y)===0){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:Ql,c(S,p)&&s.ref===o.ref)return hs(s,o,y)}return o.flags|=1,s=ei(x,p),s.ref=o.ref,s.return=o,o.child=s}function uw(s,o,c,p,y){if(s!==null){var x=s.memoizedProps;if(Ql(x,p)&&s.ref===o.ref)if(vn=!1,o.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(vn=!0);else return o.lanes=s.lanes,hs(s,o,y)}return Wp(s,o,c,p,y)}function dw(s,o,c){var p=o.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Da,Dn),Dn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ze(Da,Dn),Dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,Ze(Da,Dn),Dn|=p}else x!==null?(p=x.baseLanes|c,o.memoizedState=null):p=c,Ze(Da,Dn),Dn|=p;return ln(s,o,y,c),o.child}function hw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Wp(s,o,c,p,y){var x=yn(c)?eo:Qt.current;return x=Ta(o,x),ka(o,y),c=Mp(s,o,c,p,x,y),p=Vp(),s!==null&&!vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,hs(s,o,y)):(ot&&p&&wp(o),o.flags|=1,ln(s,o,c,y),o.child)}function fw(s,o,c,p,y){if(yn(c)){var x=!0;id(o)}else x=!1;if(ka(o,y),o.stateNode===null)bd(s,o),tw(o,c,p),$p(o,c,p,y),p=!0;else if(s===null){var S=o.stateNode,V=o.memoizedProps;S.props=V;var F=S.context,K=c.contextType;typeof K=="object"&&K!==null?K=Wn(K):(K=yn(c)?eo:Qt.current,K=Ta(o,K));var ne=c.getDerivedStateFromProps,se=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==p||F!==K)&&nw(o,S,p,K),Gs=!1;var te=o.memoizedState;S.state=te,pd(o,p,S,y),F=o.memoizedState,V!==p||te!==F||gn.current||Gs?(typeof ne=="function"&&(zp(o,c,ne,p),F=o.memoizedState),(V=Gs||ew(o,c,V,p,te,F,K))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=F),S.props=p,S.state=F,S.context=K,p=V):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{S=o.stateNode,P0(s,o),V=o.memoizedProps,K=o.type===o.elementType?V:fr(o.type,V),S.props=K,se=o.pendingProps,te=S.context,F=c.contextType,typeof F=="object"&&F!==null?F=Wn(F):(F=yn(c)?eo:Qt.current,F=Ta(o,F));var de=c.getDerivedStateFromProps;(ne=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==se||te!==F)&&nw(o,S,p,F),Gs=!1,te=o.memoizedState,S.state=te,pd(o,p,S,y);var pe=o.memoizedState;V!==se||te!==pe||gn.current||Gs?(typeof de=="function"&&(zp(o,c,de,p),pe=o.memoizedState),(K=Gs||ew(o,c,K,p,te,pe,F)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,pe,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,pe,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),S.props=p,S.state=pe,S.context=F,p=K):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),p=!1)}return Gp(s,o,c,p,x,y)}function Gp(s,o,c,p,y,x){hw(s,o);var S=(o.flags&128)!==0;if(!p&&!S)return y&&v0(o,c,!1),hs(s,o,x);p=o.stateNode,M2.current=o;var V=S&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&S?(o.child=Aa(o,s.child,null,x),o.child=Aa(o,null,V,x)):ln(s,o,V,x),o.memoizedState=p.state,y&&v0(o,c,!0),o.child}function pw(s){var o=s.stateNode;o.pendingContext?g0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&g0(s,o.context,!1),kp(s,o.containerInfo)}function mw(s,o,c,p,y){return Ca(),bp(y),o.flags|=256,ln(s,o,c,p),o.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Qp(s){return{baseLanes:s,cachePool:null,transitions:null}}function gw(s,o,c){var p=o.pendingProps,y=ct.current,x=!1,S=(o.flags&128)!==0,V;if((V=S)||(V=s!==null&&s.memoizedState===null?!1:(y&2)!==0),V?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),Ze(ct,y&1),s===null)return Ep(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=p.children,s=p.fallback,x?(p=o.mode,x=o.child,S={mode:"hidden",children:S},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=S):x=Od(S,p,0,null),s=uo(s,p,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Qp(c),o.memoizedState=Kp,s):Yp(o,S));if(y=s.memoizedState,y!==null&&(V=y.dehydrated,V!==null))return V2(s,o,S,p,V,y,c);if(x){x=p.fallback,S=o.mode,y=s.child,V=y.sibling;var F={mode:"hidden",children:p.children};return(S&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=F,o.deletions=null):(p=ei(y,F),p.subtreeFlags=y.subtreeFlags&14680064),V!==null?x=ei(V,x):(x=uo(x,S,c,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,S=s.child.memoizedState,S=S===null?Qp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},x.memoizedState=S,x.childLanes=s.childLanes&~c,o.memoizedState=Kp,p}return x=s.child,s=x.sibling,p=ei(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function Yp(s,o){return o=Od({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ed(s,o,c,p){return p!==null&&bp(p),Aa(o,s.child,null,c),s=Yp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function V2(s,o,c,p,y,x,S){if(c)return o.flags&256?(o.flags&=-257,p=qp(Error(n(422))),Ed(s,o,S,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=p.fallback,y=o.mode,p=Od({mode:"visible",children:p.children},y,0,null),x=uo(x,y,S,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Aa(o,s.child,null,S),o.child.memoizedState=Qp(S),o.memoizedState=Kp,x);if((o.mode&1)===0)return Ed(s,o,S,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var V=p.dgst;return p=V,x=Error(n(419)),p=qp(x,p,void 0),Ed(s,o,S,p)}if(V=(S&s.childLanes)!==0,vn||V){if(p=Vt,p!==null){switch(S&-S){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|S))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,us(s,y),gr(p,s,y,-1))}return hm(),p=qp(Error(n(421))),Ed(s,o,S,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=Y2.bind(null,s),y._reactRetry=o,null):(s=x.treeContext,jn=$s(y.nextSibling),Nn=o,ot=!0,hr=null,s!==null&&(qn[Hn++]=ls,qn[Hn++]=cs,qn[Hn++]=to,ls=s.id,cs=s.overflow,to=o),o=Yp(o,p.children),o.flags|=4096,o)}function yw(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Cp(s.return,o,c)}function Jp(s,o,c,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=y)}function vw(s,o,c){var p=o.pendingProps,y=p.revealOrder,x=p.tail;if(ln(s,o,p.children,c),p=ct.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yw(s,c,o);else if(s.tag===19)yw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Ze(ct,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&md(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Jp(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&md(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Jp(o,!0,c,null,x);break;case"together":Jp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function hs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),oo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ei(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ei(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function L2(s,o,c){switch(o.tag){case 3:pw(o),Ca();break;case 5:N0(o);break;case 1:yn(o.type)&&id(o);break;case 4:kp(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;Ze(dd,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ze(ct,ct.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?gw(s,o,c):(Ze(ct,ct.current&1),s=hs(s,o,c),s!==null?s.sibling:null);Ze(ct,ct.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return vw(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ze(ct,ct.current),p)break;return null;case 22:case 23:return o.lanes=0,dw(s,o,c)}return hs(s,o,c)}var ww,Xp,xw,_w;ww=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Xp=function(){},xw=function(s,o,c,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,so(Mr.current);var x=null;switch(c){case"input":y=Vi(s,y),p=Vi(s,p),x=[];break;case"select":y=ue({},y,{value:void 0}),p=ue({},p,{value:void 0}),x=[];break;case"textarea":y=Tl(s,y),p=Tl(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=nd)}kl(c,p);var S;c=null;for(K in y)if(!p.hasOwnProperty(K)&&y.hasOwnProperty(K)&&y[K]!=null)if(K==="style"){var V=y[K];for(S in V)V.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?x||(x=[]):(x=x||[]).push(K,null));for(K in p){var F=p[K];if(V=y?.[K],p.hasOwnProperty(K)&&F!==V&&(F!=null||V!=null))if(K==="style")if(V){for(S in V)!V.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in F)F.hasOwnProperty(S)&&V[S]!==F[S]&&(c||(c={}),c[S]=F[S])}else c||(x||(x=[]),x.push(K,c)),c=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,V=V?V.__html:void 0,F!=null&&V!==F&&(x=x||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(i.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&nt("scroll",s),x||V===F||(x=[])):(x=x||[]).push(K,F))}c&&(x=x||[]).push("style",c);var K=x;(o.updateQueue=K)&&(o.flags|=4)}},_w=function(s,o,c,p){c!==p&&(o.flags|=4)};function uc(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function F2(s,o,c){var p=o.pendingProps;switch(xp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return yn(o.type)&&sd(),Jt(o),null;case 3:return p=o.stateNode,Ra(),rt(gn),rt(Qt),jp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(cd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(cm(hr),hr=null))),Xp(s,o),Jt(o),null;case 5:Rp(o);var y=so(ic.current);if(c=o.type,s!==null&&o.stateNode!=null)xw(s,o,c,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Jt(o),null}if(s=so(Mr.current),cd(o)){p=o.stateNode,c=o.type;var x=o.memoizedProps;switch(p[Or]=o,p[ec]=x,s=(o.mode&1)!==0,c){case"dialog":nt("cancel",p),nt("close",p);break;case"iframe":case"object":case"embed":nt("load",p);break;case"video":case"audio":for(y=0;y<Jl.length;y++)nt(Jl[y],p);break;case"source":nt("error",p);break;case"img":case"image":case"link":nt("error",p),nt("load",p);break;case"details":nt("toggle",p);break;case"input":Wo(p,x),nt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},nt("invalid",p);break;case"textarea":Ko(p,x),nt("invalid",p)}kl(c,x),y=null;for(var S in x)if(x.hasOwnProperty(S)){var V=x[S];S==="children"?typeof V=="string"?p.textContent!==V&&(x.suppressHydrationWarning!==!0&&td(p.textContent,V,s),y=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(x.suppressHydrationWarning!==!0&&td(p.textContent,V,s),y=["children",""+V]):i.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&nt("scroll",p)}switch(c){case"input":Ut(p),Cu(p,x,!0);break;case"textarea":Ut(p),Sl(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=nd)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{S=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=S.createElement(c,{is:p.is}):(s=S.createElement(c),c==="select"&&(S=s,p.multiple?S.multiple=!0:p.size&&(S.size=p.size))):s=S.createElementNS(s,c),s[Or]=o,s[ec]=p,ww(s,o,!1,!1),o.stateNode=s;e:{switch(S=Rl(c,p),c){case"dialog":nt("cancel",s),nt("close",s),y=p;break;case"iframe":case"object":case"embed":nt("load",s),y=p;break;case"video":case"audio":for(y=0;y<Jl.length;y++)nt(Jl[y],s);y=p;break;case"source":nt("error",s),y=p;break;case"img":case"image":case"link":nt("error",s),nt("load",s),y=p;break;case"details":nt("toggle",s),y=p;break;case"input":Wo(s,p),y=Vi(s,p),nt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=ue({},p,{value:void 0}),nt("invalid",s);break;case"textarea":Ko(s,p),y=Tl(s,p),nt("invalid",s);break;default:y=p}kl(c,y),V=y;for(x in V)if(V.hasOwnProperty(x)){var F=V[x];x==="style"?Al(s,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Il(s,F)):x==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&Ns(s,F):typeof F=="number"&&Ns(s,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?F!=null&&x==="onScroll"&&nt("scroll",s):F!=null&&M(s,x,F,S))}switch(c){case"input":Ut(s),Cu(s,p,!1);break;case"textarea":Ut(s),Sl(s);break;case"option":p.value!=null&&s.setAttribute("value",""+qe(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Xr(s,!!p.multiple,x,!1):p.defaultValue!=null&&Xr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=nd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)_w(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=so(ic.current),so(Mr.current),cd(o)){if(p=o.stateNode,c=o.memoizedProps,p[Or]=o,(x=p.nodeValue!==c)&&(s=Nn,s!==null))switch(s.tag){case 3:td(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&td(p.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Or]=o,o.stateNode=p}return Jt(o),null;case 13:if(rt(ct),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)T0(),Ca(),o.flags|=98560,x=!1;else if(x=cd(o),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Or]=o}else Ca(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),x=!1}else hr!==null&&(cm(hr),hr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ct.current&1)!==0?jt===0&&(jt=3):hm())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Ra(),Xp(s,o),s===null&&Xl(o.stateNode.containerInfo),Jt(o),null;case 10:return Ip(o.type._context),Jt(o),null;case 17:return yn(o.type)&&sd(),Jt(o),null;case 19:if(rt(ct),x=o.memoizedState,x===null)return Jt(o),null;if(p=(o.flags&128)!==0,S=x.rendering,S===null)if(p)uc(x,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=md(s),S!==null){for(o.flags|=128,uc(x,!1),p=S.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)x=c,s=p,x.flags&=14680066,S=x.alternate,S===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=S.childLanes,x.lanes=S.lanes,x.child=S.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=S.memoizedProps,x.memoizedState=S.memoizedState,x.updateQueue=S.updateQueue,x.type=S.type,s=S.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Ze(ct,ct.current&1|2),o.child}s=s.sibling}x.tail!==null&&Xe()>Oa&&(o.flags|=128,p=!0,uc(x,!1),o.lanes=4194304)}else{if(!p)if(s=md(S),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),uc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!ot)return Jt(o),null}else 2*Xe()-x.renderingStartTime>Oa&&c!==1073741824&&(o.flags|=128,p=!0,uc(x,!1),o.lanes=4194304);x.isBackwards?(S.sibling=o.child,o.child=S):(c=x.last,c!==null?c.sibling=S:o.child=S,x.last=S)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Xe(),o.sibling=null,c=ct.current,Ze(ct,p?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return dm(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function U2(s,o){switch(xp(o),o.tag){case 1:return yn(o.type)&&sd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ra(),rt(gn),rt(Qt),jp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Rp(o),null;case 13:if(rt(ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ca()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return rt(ct),null;case 4:return Ra(),null;case 10:return Ip(o.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Td=!1,Xt=!1,B2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ja(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ft(s,o,p)}else c.current=null}function Zp(s,o,c){try{c()}catch(p){ft(s,o,p)}}var Ew=!1;function z2(s,o){if(dp=Us,s=e0(),rp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,V=-1,F=-1,K=0,ne=0,se=s,te=null;t:for(;;){for(var de;se!==c||y!==0&&se.nodeType!==3||(V=S+y),se!==x||p!==0&&se.nodeType!==3||(F=S+p),se.nodeType===3&&(S+=se.nodeValue.length),(de=se.firstChild)!==null;)te=se,se=de;for(;;){if(se===s)break t;if(te===c&&++K===y&&(V=S),te===x&&++ne===p&&(F=S),(de=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=de}c=V===-1||F===-1?null:{start:V,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(hp={focusedElem:s,selectionRange:c},Us=!1,fe=o;fe!==null;)if(o=fe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,fe=s;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,vt=pe.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?me:fr(o.type,me),vt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){ft(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,fe=s;break}fe=o.return}return pe=Ew,Ew=!1,pe}function dc(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&Zp(o,c,x)}y=y.next}while(y!==p)}}function Sd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function em(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function bw(s){var o=s.alternate;o!==null&&(s.alternate=null,bw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Or],delete o[ec],delete o[gp],delete o[T2],delete o[S2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tw(s){return s.tag===5||s.tag===3||s.tag===4}function Sw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function tm(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=nd));else if(p!==4&&(s=s.child,s!==null))for(tm(s,o,c),s=s.sibling;s!==null;)tm(s,o,c),s=s.sibling}function nm(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(nm(s,o,c),s=s.sibling;s!==null;)nm(s,o,c),s=s.sibling}var $t=null,pr=!1;function Qs(s,o,c){for(c=c.child;c!==null;)Iw(s,o,c),c=c.sibling}function Iw(s,o,c){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Wi,c)}catch{}switch(c.tag){case 5:Xt||ja(c,o);case 6:var p=$t,y=pr;$t=null,Qs(s,o,c),$t=p,pr=y,$t!==null&&(pr?(s=$t,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):$t.removeChild(c.stateNode));break;case 18:$t!==null&&(pr?(s=$t,c=c.stateNode,s.nodeType===8?mp(s.parentNode,c):s.nodeType===1&&mp(s,c),cr(s)):mp($t,c.stateNode));break;case 4:p=$t,y=pr,$t=c.stateNode.containerInfo,pr=!0,Qs(s,o,c),$t=p,pr=y;break;case 0:case 11:case 14:case 15:if(!Xt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,S=x.destroy;x=x.tag,S!==void 0&&((x&2)!==0||(x&4)!==0)&&Zp(c,o,S),y=y.next}while(y!==p)}Qs(s,o,c);break;case 1:if(!Xt&&(ja(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(V){ft(c,o,V)}Qs(s,o,c);break;case 21:Qs(s,o,c);break;case 22:c.mode&1?(Xt=(p=Xt)||c.memoizedState!==null,Qs(s,o,c),Xt=p):Qs(s,o,c);break;default:Qs(s,o,c)}}function Cw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new B2),o.forEach(function(p){var y=J2.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function mr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var x=s,S=o,V=S;e:for(;V!==null;){switch(V.tag){case 5:$t=V.stateNode,pr=!1;break e;case 3:$t=V.stateNode.containerInfo,pr=!0;break e;case 4:$t=V.stateNode.containerInfo,pr=!0;break e}V=V.return}if($t===null)throw Error(n(160));Iw(x,S,y),$t=null,pr=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(K){ft(y,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Aw(o,s),o=o.sibling}function Aw(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(o,s),Lr(s),p&4){try{dc(3,s,s.return),Sd(3,s)}catch(me){ft(s,s.return,me)}try{dc(5,s,s.return)}catch(me){ft(s,s.return,me)}}break;case 1:mr(o,s),Lr(s),p&512&&c!==null&&ja(c,c.return);break;case 5:if(mr(o,s),Lr(s),p&512&&c!==null&&ja(c,c.return),s.flags&32){var y=s.stateNode;try{Ns(y,"")}catch(me){ft(s,s.return,me)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,S=c!==null?c.memoizedProps:x,V=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{V==="input"&&x.type==="radio"&&x.name!=null&&El(y,x),Rl(V,S);var K=Rl(V,x);for(S=0;S<F.length;S+=2){var ne=F[S],se=F[S+1];ne==="style"?Al(y,se):ne==="dangerouslySetInnerHTML"?Il(y,se):ne==="children"?Ns(y,se):M(y,ne,se,K)}switch(V){case"input":bl(y,x);break;case"textarea":Qo(y,x);break;case"select":var te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?Xr(y,!!x.multiple,de,!1):te!==!!x.multiple&&(x.defaultValue!=null?Xr(y,!!x.multiple,x.defaultValue,!0):Xr(y,!!x.multiple,x.multiple?[]:"",!1))}y[ec]=x}catch(me){ft(s,s.return,me)}}break;case 6:if(mr(o,s),Lr(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(me){ft(s,s.return,me)}}break;case 3:if(mr(o,s),Lr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{cr(o.containerInfo)}catch(me){ft(s,s.return,me)}break;case 4:mr(o,s),Lr(s);break;case 13:mr(o,s),Lr(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(im=Xe())),p&4&&Cw(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(Xt=(K=Xt)||ne,mr(o,s),Xt=K):mr(o,s),Lr(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ne&&(s.mode&1)!==0)for(fe=s,ne=s.child;ne!==null;){for(se=fe=ne;fe!==null;){switch(te=fe,de=te.child,te.tag){case 0:case 11:case 14:case 15:dc(4,te,te.return);break;case 1:ja(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){p=te,c=te.return;try{o=p,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){ft(p,c,me)}}break;case 5:ja(te,te.return);break;case 22:if(te.memoizedState!==null){Rw(se);continue}}de!==null?(de.return=te,fe=de):Rw(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{y=se.stateNode,K?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(V=se.stateNode,F=se.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,V.style.display=Cl("display",S))}catch(me){ft(s,s.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(me){ft(s,s.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:mr(o,s),Lr(s),p&4&&Cw(s);break;case 21:break;default:mr(o,s),Lr(s)}}function Lr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Tw(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ns(y,""),p.flags&=-33);var x=Sw(s);nm(s,x,y);break;case 3:case 4:var S=p.stateNode.containerInfo,V=Sw(s);tm(s,V,S);break;default:throw Error(n(161))}}catch(F){ft(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function $2(s,o,c){fe=s,Pw(s)}function Pw(s,o,c){for(var p=(s.mode&1)!==0;fe!==null;){var y=fe,x=y.child;if(y.tag===22&&p){var S=y.memoizedState!==null||Td;if(!S){var V=y.alternate,F=V!==null&&V.memoizedState!==null||Xt;V=Td;var K=Xt;if(Td=S,(Xt=F)&&!K)for(fe=y;fe!==null;)S=fe,F=S.child,S.tag===22&&S.memoizedState!==null?Nw(y):F!==null?(F.return=S,fe=F):Nw(y);for(;x!==null;)fe=x,Pw(x),x=x.sibling;fe=y,Td=V,Xt=K}kw(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,fe=x):kw(s)}}function kw(s){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||Sd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Xt)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:fr(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&R0(o,x,p);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}R0(o,S,c)}break;case 5:var V=o.stateNode;if(c===null&&o.flags&4){c=V;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&cr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&em(o)}catch(te){ft(o,o.return,te)}}if(o===s){fe=null;break}if(c=o.sibling,c!==null){c.return=o.return,fe=c;break}fe=o.return}}function Rw(s){for(;fe!==null;){var o=fe;if(o===s){fe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,fe=c;break}fe=o.return}}function Nw(s){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Sd(4,o)}catch(F){ft(o,c,F)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(F){ft(o,y,F)}}var x=o.return;try{em(o)}catch(F){ft(o,x,F)}break;case 5:var S=o.return;try{em(o)}catch(F){ft(o,S,F)}}}catch(F){ft(o,o.return,F)}if(o===s){fe=null;break}var V=o.sibling;if(V!==null){V.return=o.return,fe=V;break}fe=o.return}}var q2=Math.ceil,Id=G.ReactCurrentDispatcher,rm=G.ReactCurrentOwner,Kn=G.ReactCurrentBatchConfig,He=0,Vt=null,bt=null,qt=0,Dn=0,Da=qs(0),jt=0,hc=null,oo=0,Cd=0,sm=0,fc=null,wn=null,im=0,Oa=1/0,fs=null,Ad=!1,om=null,Ys=null,Pd=!1,Js=null,kd=0,pc=0,am=null,Rd=-1,Nd=0;function cn(){return(He&6)!==0?Xe():Rd!==-1?Rd:Rd=Xe()}function Xs(s){return(s.mode&1)===0?1:(He&2)!==0&&qt!==0?qt&-qt:C2.transition!==null?(Nd===0&&(Nd=Ki()),Nd):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:zl(s.type)),s)}function gr(s,o,c,p){if(50<pc)throw pc=0,am=null,Error(n(185));Ms(s,c,p),((He&2)===0||s!==Vt)&&(s===Vt&&((He&2)===0&&(Cd|=c),jt===4&&Zs(s,qt)),xn(s,p),c===1&&He===0&&(o.mode&1)===0&&(Oa=Xe()+500,od&&Ws()))}function xn(s,o){var c=s.callbackNode;ts(s,o);var p=Gi(s,s===Vt?qt:0);if(p===0)c!==null&&Vl(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&Vl(c),o===1)s.tag===0?I2(Dw.bind(null,s)):w0(Dw.bind(null,s)),E2(function(){(He&6)===0&&Ws()}),c=null;else{switch(Ls(p)){case 1:c=Hi;break;case 4:c=js;break;case 16:c=Bn;break;case 536870912:c=Nu;break;default:c=Bn}c=zw(c,jw.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function jw(s,o){if(Rd=-1,Nd=0,(He&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ma()&&s.callbackNode!==c)return null;var p=Gi(s,s===Vt?qt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=jd(s,p);else{o=p;var y=He;He|=2;var x=Mw();(Vt!==s||qt!==o)&&(fs=null,Oa=Xe()+500,lo(s,o));do try{G2();break}catch(V){Ow(s,V)}while(!0);Sp(),Id.current=x,He=y,bt!==null?o=0:(Vt=null,qt=0,o=jt)}if(o!==0){if(o===2&&(y=Pn(s),y!==0&&(p=y,o=lm(s,y))),o===1)throw c=hc,lo(s,0),Zs(s,p),xn(s,Xe()),c;if(o===6)Zs(s,p);else{if(y=s.current.alternate,(p&30)===0&&!H2(y)&&(o=jd(s,p),o===2&&(x=Pn(s),x!==0&&(p=x,o=lm(s,x))),o===1))throw c=hc,lo(s,0),Zs(s,p),xn(s,Xe()),c;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:co(s,wn,fs);break;case 3:if(Zs(s,p),(p&130023424)===p&&(o=im+500-Xe(),10<o)){if(Gi(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){cn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=pp(co.bind(null,s,wn,fs),o);break}co(s,wn,fs);break;case 4:if(Zs(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var S=31-on(p);x=1<<S,S=o[S],S>y&&(y=S),p&=~x}if(p=y,p=Xe()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*q2(p/1960))-p,10<p){s.timeoutHandle=pp(co.bind(null,s,wn,fs),p);break}co(s,wn,fs);break;case 5:co(s,wn,fs);break;default:throw Error(n(329))}}}return xn(s,Xe()),s.callbackNode===c?jw.bind(null,s):null}function lm(s,o){var c=fc;return s.current.memoizedState.isDehydrated&&(lo(s,o).flags|=256),s=jd(s,o),s!==2&&(o=wn,wn=c,o!==null&&cm(o)),s}function cm(s){wn===null?wn=s:wn.push.apply(wn,s)}function H2(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],x=y.getSnapshot;y=y.value;try{if(!dr(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zs(s,o){for(o&=~sm,o&=~Cd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-on(o),p=1<<c;s[c]=-1,o&=~p}}function Dw(s){if((He&6)!==0)throw Error(n(327));Ma();var o=Gi(s,0);if((o&1)===0)return xn(s,Xe()),null;var c=jd(s,o);if(s.tag!==0&&c===2){var p=Pn(s);p!==0&&(o=p,c=lm(s,p))}if(c===1)throw c=hc,lo(s,0),Zs(s,o),xn(s,Xe()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,co(s,wn,fs),xn(s,Xe()),null}function um(s,o){var c=He;He|=1;try{return s(o)}finally{He=c,He===0&&(Oa=Xe()+500,od&&Ws())}}function ao(s){Js!==null&&Js.tag===0&&(He&6)===0&&Ma();var o=He;He|=1;var c=Kn.transition,p=Ue;try{if(Kn.transition=null,Ue=1,s)return s()}finally{Ue=p,Kn.transition=c,He=o,(He&6)===0&&Ws()}}function dm(){Dn=Da.current,rt(Da)}function lo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,_2(c)),bt!==null)for(c=bt.return;c!==null;){var p=c;switch(xp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&sd();break;case 3:Ra(),rt(gn),rt(Qt),jp();break;case 5:Rp(p);break;case 4:Ra();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:Ip(p.type._context);break;case 22:case 23:dm()}c=c.return}if(Vt=s,bt=s=ei(s.current,null),qt=Dn=o,jt=0,hc=null,sm=Cd=oo=0,wn=fc=null,ro!==null){for(o=0;o<ro.length;o++)if(c=ro[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,x=c.pending;if(x!==null){var S=x.next;x.next=y,p.next=S}c.pending=p}ro=null}return s}function Ow(s,o){do{var c=bt;try{if(Sp(),gd.current=xd,yd){for(var p=ut.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}yd=!1}if(io=0,Mt=Nt=ut=null,oc=!1,ac=0,rm.current=null,c===null||c.return===null){jt=1,hc=o,bt=null;break}e:{var x=s,S=c.return,V=c,F=o;if(o=qt,V.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,ne=V,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=ow(S);if(de!==null){de.flags&=-257,aw(de,S,V,x,o),de.mode&1&&iw(x,K,o),o=de,F=K;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add(F),o.updateQueue=me}else pe.add(F);break e}else{if((o&1)===0){iw(x,K,o),hm();break e}F=Error(n(426))}}else if(ot&&V.mode&1){var vt=ow(S);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),aw(vt,S,V,x,o),bp(Na(F,V));break e}}x=F=Na(F,V),jt!==4&&(jt=2),fc===null?fc=[x]:fc.push(x),x=S;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var H=rw(x,F,o);k0(x,H);break e;case 1:V=F;var z=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ys===null||!Ys.has(W)))){x.flags|=65536,o&=-o,x.lanes|=o;var ie=sw(x,V,o);k0(x,ie);break e}}x=x.return}while(x!==null)}Lw(c)}catch(ye){o=ye,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function Mw(){var s=Id.current;return Id.current=xd,s===null?xd:s}function hm(){(jt===0||jt===3||jt===2)&&(jt=4),Vt===null||(oo&268435455)===0&&(Cd&268435455)===0||Zs(Vt,qt)}function jd(s,o){var c=He;He|=2;var p=Mw();(Vt!==s||qt!==o)&&(fs=null,lo(s,o));do try{W2();break}catch(y){Ow(s,y)}while(!0);if(Sp(),He=c,Id.current=p,bt!==null)throw Error(n(261));return Vt=null,qt=0,jt}function W2(){for(;bt!==null;)Vw(bt)}function G2(){for(;bt!==null&&!ku();)Vw(bt)}function Vw(s){var o=Bw(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?Lw(s):bt=o,rm.current=null}function Lw(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=F2(c,o,Dn),c!==null){bt=c;return}}else{if(c=U2(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);jt===0&&(jt=5)}function co(s,o,c){var p=Ue,y=Kn.transition;try{Kn.transition=null,Ue=1,K2(s,o,c,p)}finally{Kn.transition=y,Ue=p}return null}function K2(s,o,c,p){do Ma();while(Js!==null);if((He&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(Je(s,x),s===Vt&&(bt=Vt=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pd||(Pd=!0,zw(Bn,function(){return Ma(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Kn.transition,Kn.transition=null;var S=Ue;Ue=1;var V=He;He|=4,rm.current=null,z2(s,c),Aw(c,s),p2(hp),Us=!!dp,hp=dp=null,s.current=c,$2(c),Qf(),He=V,Ue=S,Kn.transition=x}else s.current=c;if(Pd&&(Pd=!1,Js=s,kd=y),x=s.pendingLanes,x===0&&(Ys=null),ju(c.stateNode),xn(s,Xe()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ad)throw Ad=!1,s=om,om=null,s;return(kd&1)!==0&&s.tag!==0&&Ma(),x=s.pendingLanes,(x&1)!==0?s===am?pc++:(pc=0,am=s):pc=0,Ws(),null}function Ma(){if(Js!==null){var s=Ls(kd),o=Kn.transition,c=Ue;try{if(Kn.transition=null,Ue=16>s?16:s,Js===null)var p=!1;else{if(s=Js,Js=null,kd=0,(He&6)!==0)throw Error(n(331));var y=He;for(He|=4,fe=s.current;fe!==null;){var x=fe,S=x.child;if((fe.flags&16)!==0){var V=x.deletions;if(V!==null){for(var F=0;F<V.length;F++){var K=V[F];for(fe=K;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:dc(8,ne,x)}var se=ne.child;if(se!==null)se.return=ne,fe=se;else for(;fe!==null;){ne=fe;var te=ne.sibling,de=ne.return;if(bw(ne),ne===K){fe=null;break}if(te!==null){te.return=de,fe=te;break}fe=de}}}var pe=x.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var vt=me.sibling;me.sibling=null,me=vt}while(me!==null)}}fe=x}}if((x.subtreeFlags&2064)!==0&&S!==null)S.return=x,fe=S;else e:for(;fe!==null;){if(x=fe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:dc(9,x,x.return)}var H=x.sibling;if(H!==null){H.return=x.return,fe=H;break e}fe=x.return}}var z=s.current;for(fe=z;fe!==null;){S=fe;var W=S.child;if((S.subtreeFlags&2064)!==0&&W!==null)W.return=S,fe=W;else e:for(S=z;fe!==null;){if(V=fe,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Sd(9,V)}}catch(ye){ft(V,V.return,ye)}if(V===S){fe=null;break e}var ie=V.sibling;if(ie!==null){ie.return=V.return,fe=ie;break e}fe=V.return}}if(He=y,Ws(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Wi,s)}catch{}p=!0}return p}finally{Ue=c,Kn.transition=o}}return!1}function Fw(s,o,c){o=Na(c,o),o=rw(s,o,1),s=Ks(s,o,1),o=cn(),s!==null&&(Ms(s,1,o),xn(s,o))}function ft(s,o,c){if(s.tag===3)Fw(s,s,c);else for(;o!==null;){if(o.tag===3){Fw(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ys===null||!Ys.has(p))){s=Na(c,s),s=sw(o,s,1),o=Ks(o,s,1),s=cn(),o!==null&&(Ms(o,1,s),xn(o,s));break}}o=o.return}}function Q2(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=cn(),s.pingedLanes|=s.suspendedLanes&c,Vt===s&&(qt&c)===c&&(jt===4||jt===3&&(qt&130023424)===qt&&500>Xe()-im?lo(s,0):sm|=c),xn(s,o)}function Uw(s,o){o===0&&((s.mode&1)===0?o=1:(o=ia,ia<<=1,(ia&130023424)===0&&(ia=4194304)));var c=cn();s=us(s,o),s!==null&&(Ms(s,o,c),xn(s,c))}function Y2(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Uw(s,c)}function J2(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Uw(s,c)}var Bw;Bw=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||gn.current)vn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return vn=!1,L2(s,o,c);vn=(s.flags&131072)!==0}else vn=!1,ot&&(o.flags&1048576)!==0&&x0(o,ld,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;bd(s,o),s=o.pendingProps;var y=Ta(o,Qt.current);ka(o,c),y=Mp(null,o,p,s,y,c);var x=Vp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,yn(p)?(x=!0,id(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Pp(o),y.updater=_d,o.stateNode=y,y._reactInternals=o,$p(o,p,s,c),o=Gp(null,o,p,!0,x,c)):(o.tag=0,ot&&x&&wp(o),ln(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(bd(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=Z2(p),s=fr(p,s),y){case 0:o=Wp(null,o,p,s,c);break e;case 1:o=fw(null,o,p,s,c);break e;case 11:o=lw(null,o,p,s,c);break e;case 14:o=cw(null,o,p,fr(p.type,s),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),Wp(s,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),fw(s,o,p,y,c);case 3:e:{if(pw(o),s===null)throw Error(n(387));p=o.pendingProps,x=o.memoizedState,y=x.element,P0(s,o),pd(o,p,null,c);var S=o.memoizedState;if(p=S.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Na(Error(n(423)),o),o=mw(s,o,p,c,y);break e}else if(p!==y){y=Na(Error(n(424)),o),o=mw(s,o,p,c,y);break e}else for(jn=$s(o.stateNode.containerInfo.firstChild),Nn=o,ot=!0,hr=null,c=C0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ca(),p===y){o=hs(s,o,c);break e}ln(s,o,p,c)}o=o.child}return o;case 5:return N0(o),s===null&&Ep(o),p=o.type,y=o.pendingProps,x=s!==null?s.memoizedProps:null,S=y.children,fp(p,y)?S=null:x!==null&&fp(p,x)&&(o.flags|=32),hw(s,o),ln(s,o,S,c),o.child;case 6:return s===null&&Ep(o),null;case 13:return gw(s,o,c);case 4:return kp(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=Aa(o,null,p,c):ln(s,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),lw(s,o,p,y,c);case 7:return ln(s,o,o.pendingProps,c),o.child;case 8:return ln(s,o,o.pendingProps.children,c),o.child;case 12:return ln(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,x=o.memoizedProps,S=y.value,Ze(dd,p._currentValue),p._currentValue=S,x!==null)if(dr(x.value,S)){if(x.children===y.children&&!gn.current){o=hs(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var V=x.dependencies;if(V!==null){S=x.child;for(var F=V.firstContext;F!==null;){if(F.context===p){if(x.tag===1){F=ds(-1,c&-c),F.tag=2;var K=x.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?F.next=F:(F.next=ne.next,ne.next=F),K.pending=F}}x.lanes|=c,F=x.alternate,F!==null&&(F.lanes|=c),Cp(x.return,c,o),V.lanes|=c;break}F=F.next}}else if(x.tag===10)S=x.type===o.type?null:x.child;else if(x.tag===18){if(S=x.return,S===null)throw Error(n(341));S.lanes|=c,V=S.alternate,V!==null&&(V.lanes|=c),Cp(S,c,o),S=x.sibling}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===o){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}ln(s,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,ka(o,c),y=Wn(y),p=p(y),o.flags|=1,ln(s,o,p,c),o.child;case 14:return p=o.type,y=fr(p,o.pendingProps),y=fr(p.type,y),cw(s,o,p,y,c);case 15:return uw(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:fr(p,y),bd(s,o),o.tag=1,yn(p)?(s=!0,id(o)):s=!1,ka(o,c),tw(o,p,y),$p(o,p,y,c),Gp(null,o,p,!0,s,c);case 19:return vw(s,o,c);case 22:return dw(s,o,c)}throw Error(n(156,o.tag))};function zw(s,o){return ra(s,o)}function X2(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,c,p){return new X2(s,o,c,p)}function fm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Z2(s){if(typeof s=="function")return fm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===R)return 11;if(s===Qe)return 14}return 2}function ei(s,o){var c=s.alternate;return c===null?(c=Qn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Dd(s,o,c,p,y,x){var S=2;if(p=s,typeof s=="function")fm(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case L:return uo(c.children,y,x,o);case k:S=8,y|=8;break;case N:return s=Qn(12,c,o,y|2),s.elementType=N,s.lanes=x,s;case j:return s=Qn(13,c,o,y),s.elementType=j,s.lanes=x,s;case we:return s=Qn(19,c,o,y),s.elementType=we,s.lanes=x,s;case Me:return Od(c,y,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:S=10;break e;case $:S=9;break e;case R:S=11;break e;case Qe:S=14;break e;case De:S=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Qn(S,c,o,y),o.elementType=s,o.type=p,o.lanes=x,o}function uo(s,o,c,p){return s=Qn(7,s,p,o),s.lanes=c,s}function Od(s,o,c,p){return s=Qn(22,s,p,o),s.elementType=Me,s.lanes=c,s.stateNode={isHidden:!1},s}function pm(s,o,c){return s=Qn(6,s,null,o),s.lanes=c,s}function mm(s,o,c){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function eA(s,o,c,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Os(0),this.expirationTimes=Os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gm(s,o,c,p,y,x,S,V,F){return s=new eA(s,o,c,V,F),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Qn(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(x),s}function tA(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function $w(s){if(!s)return Hs;s=s._reactInternals;e:{if(sr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(yn(c))return y0(s,c,o)}return o}function qw(s,o,c,p,y,x,S,V,F){return s=gm(c,p,!0,s,y,x,S,V,F),s.context=$w(null),c=s.current,p=cn(),y=Xs(c),x=ds(p,y),x.callback=o??null,Ks(c,x,y),s.current.lanes=y,Ms(s,y,p),xn(s,p),s}function Md(s,o,c,p){var y=o.current,x=cn(),S=Xs(y);return c=$w(c),o.context===null?o.context=c:o.pendingContext=c,o=ds(x,S),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=Ks(y,o,S),s!==null&&(gr(s,y,S,x),fd(s,y,S)),S}function Vd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function ym(s,o){Hw(s,o),(s=s.alternate)&&Hw(s,o)}function nA(){return null}var Ww=typeof reportError=="function"?reportError:function(s){console.error(s)};function vm(s){this._internalRoot=s}Ld.prototype.render=vm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Md(s,o,null,null)},Ld.prototype.unmount=vm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ao(function(){Md(null,s,null,null)}),o[os]=null}};function Ld(s){this._internalRoot=s}Ld.prototype.unstable_scheduleHydration=function(s){if(s){var o=Lu();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Rr.length&&o!==0&&o<Rr[c].priority;c++);Rr.splice(c,0,s),c===0&&Bu(s)}};function wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gw(){}function rA(s,o,c,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var K=Vd(S);x.call(K)}}var S=qw(o,p,s,0,null,!1,!1,"",Gw);return s._reactRootContainer=S,s[os]=S.current,Xl(s.nodeType===8?s.parentNode:s),ao(),S}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var V=p;p=function(){var K=Vd(F);V.call(K)}}var F=gm(s,0,!1,null,null,!1,!1,"",Gw);return s._reactRootContainer=F,s[os]=F.current,Xl(s.nodeType===8?s.parentNode:s),ao(function(){Md(o,F,c,p)}),F}function Ud(s,o,c,p,y){var x=c._reactRootContainer;if(x){var S=x;if(typeof y=="function"){var V=y;y=function(){var F=Vd(S);V.call(F)}}Md(o,S,s,y)}else S=rA(c,o,s,y,p);return Vd(S)}Mu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ds(o.pendingLanes);c!==0&&(Vs(o,c|1),xn(o,Xe()),(He&6)===0&&(Oa=Xe()+500,Ws()))}break;case 13:ao(function(){var p=us(s,1);if(p!==null){var y=cn();gr(p,s,1,y)}}),ym(s,1)}},oa=function(s){if(s.tag===13){var o=us(s,134217728);if(o!==null){var c=cn();gr(o,s,134217728,c)}ym(s,134217728)}},Vu=function(s){if(s.tag===13){var o=Xs(s),c=us(s,o);if(c!==null){var p=cn();gr(c,s,o,p)}ym(s,o)}},Lu=function(){return Ue},Fu=function(s,o){var c=Ue;try{return Ue=s,o()}finally{Ue=c}},Jo=function(s,o,c){switch(o){case"input":if(bl(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var y=rd(p);if(!y)throw Error(n(90));Mi(p),bl(p,y)}}}break;case"textarea":Qo(s,c);break;case"select":o=c.value,o!=null&&Xr(s,!!c.multiple,o,!1)}},Bi=um,jl=ao;var sA={usingClientEntryPoint:!1,Events:[tc,Ea,rd,Pr,Nl,um]},mc={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ml(s),s===null?null:s.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||nA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Wi=Bd.inject(iA),An=Bd}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA,_n.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(o))throw Error(n(200));return tA(s,o,null,c)},_n.createRoot=function(s,o){if(!wm(s))throw Error(n(299));var c=!1,p="",y=Ww;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=gm(s,1,!1,null,null,c,!1,p,y),s[os]=o.current,Xl(s.nodeType===8?s.parentNode:s),new vm(o)},_n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ml(o),s=s===null?null:s.stateNode,s},_n.flushSync=function(s){return ao(s)},_n.hydrate=function(s,o,c){if(!Fd(o))throw Error(n(200));return Ud(null,s,o,!0,c)},_n.hydrateRoot=function(s,o,c){if(!wm(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,x="",S=Ww;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=qw(o,null,s,1,c??null,y,!1,x,S),s[os]=o.current,Xl(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Ld(o)},_n.render=function(s,o,c){if(!Fd(o))throw Error(n(200));return Ud(null,s,o,!1,c)},_n.unmountComponentAtNode=function(s){if(!Fd(s))throw Error(n(40));return s._reactRootContainer?(ao(function(){Ud(null,null,s,!1,function(){s._reactRootContainer=null,s[os]=null})}),!0):!1},_n.unstable_batchedUpdates=um,_n.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!Fd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ud(s,o,c,!1,p)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var tx;function PE(){if(tx)return Em.exports;tx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=pA(),Em.exports}var nx;function mA(){if(nx)return zd;nx=1;var t=PE();return zd.createRoot=t.createRoot,zd.hydrateRoot=t.hydrateRoot,zd}var gA=mA();const yA=AE(gA);PE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}var di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(di||(di={}));const rx="popstate";function vA(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return ig("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vh(i)}return xA(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wA(){return Math.random().toString(36).substr(2,8)}function sx(t,e){return{usr:t.state,key:t.key,idx:e}}function ig(t,e,n,r){return n===void 0&&(n=null),Uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||wA()})}function vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=di.Pop,h=null,m=g();m==null&&(m=0,l.replaceState(Uc({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=di.Pop;let b=g(),O=b==null?null:b-m;m=b,h&&h({action:u,location:C.location,delta:O})}function _(b,O){u=di.Push;let D=ig(C.location,b,O);m=g()+1;let M=sx(D,m),G=C.createHref(D);try{l.pushState(M,"",G)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(G)}a&&h&&h({action:u,location:C.location,delta:1})}function I(b,O){u=di.Replace;let D=ig(C.location,b,O);m=g();let M=sx(D,m),G=C.createHref(D);l.replaceState(M,"",G),a&&h&&h({action:u,location:C.location,delta:0})}function T(b){let O=i.location.origin!=="null"?i.location.origin:i.location.href,D=typeof b=="string"?b:vh(b);return D=D.replace(/ $/,"%20"),_t(O,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,O)}let C={get action(){return u},get location(){return t(i,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(rx,v),h=b,()=>{i.removeEventListener(rx,v),h=null}},createHref(b){return e(i,b)},createURL:T,encodeLocation(b){let O=T(b);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:I,go(b){return l.go(b)}};return C}var ix;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ix||(ix={}));function _A(t,e,n){return n===void 0&&(n="/"),EA(t,e,n)}function EA(t,e,n,r){let i=typeof e=="string"?cl(e):e,a=dy(i.pathname||"/",n);if(a==null)return null;let l=RE(t);bA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let m=OA(a);u=NA(l[h],m)}return u}function RE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(_t(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let m=fi([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),RE(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:kA(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of NE(a.path))i(a,l,h)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=NE(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function bA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TA=/^:[\w-]+$/,SA=3,IA=2,CA=1,AA=10,PA=-2,ox=t=>t==="*";function kA(t,e){let n=t.split("/"),r=n.length;return n.some(ox)&&(r+=PA),e&&(r+=IA),n.filter(i=>!ox(i)).reduce((i,a)=>i+(TA.test(a)?SA:a===""?CA:AA),r)}function RA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NA(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],m=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=jA({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),_=h.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:fi([a,v.pathname]),pathnameBase:FA(fi([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=fi([a,v.pathnameBase]))}return l}function jA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,g,v)=>{let{paramName:_,isOptional:I}=g;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[v];return I&&!T?m[_]=void 0:m[_]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function DA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:UA(r),hash:BA(i)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hy(t,e){let n=LA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cl(t):(i=Uc({},t),_t(!i.pathname||!i.pathname.includes("?"),Sm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Sm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Sm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?e[v]:"/"}let h=MA(i,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),FA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jE=["post","put","patch","delete"];new Set(jE);const $A=["get",...jE];new Set($A);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}const py=P.createContext(null),qA=P.createContext(null),ki=P.createContext(null),Zh=P.createContext(null),Ri=P.createContext({outlet:null,matches:[],isDataRoute:!1}),DE=P.createContext(null);function HA(t,e){let{relative:n}=e===void 0?{}:e;ul()||_t(!1);let{basename:r,navigator:i}=P.useContext(ki),{hash:a,pathname:l,search:u}=ME(t,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:fi([r,l])),i.createHref({pathname:h,search:u,hash:a})}function ul(){return P.useContext(Zh)!=null}function Vo(){return ul()||_t(!1),P.useContext(Zh).location}function OE(t){P.useContext(ki).static||P.useLayoutEffect(t)}function dl(){let{isDataRoute:t}=P.useContext(Ri);return t?sP():WA()}function WA(){ul()||_t(!1);let t=P.useContext(py),{basename:e,future:n,navigator:r}=P.useContext(ki),{matches:i}=P.useContext(Ri),{pathname:a}=Vo(),l=JSON.stringify(hy(i,n.v7_relativeSplatPath)),u=P.useRef(!1);return OE(()=>{u.current=!0}),P.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let v=fy(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,a,t])}function ME(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(ki),{matches:i}=P.useContext(Ri),{pathname:a}=Vo(),l=JSON.stringify(hy(i,r.v7_relativeSplatPath));return P.useMemo(()=>fy(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function GA(t,e){return KA(t,e)}function KA(t,e,n,r){ul()||_t(!1);let{navigator:i}=P.useContext(ki),{matches:a}=P.useContext(Ri),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let m=Vo(),g;if(e){var v;let b=typeof e=="string"?cl(e):e;h==="/"||(v=b.pathname)!=null&&v.startsWith(h)||_t(!1),g=b}else g=m;let _=g.pathname||"/",I=_;if(h!=="/"){let b=h.replace(/^\//,"").split("/");I="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=_A(t,{pathname:I}),C=ZA(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:fi([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:fi([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&C?P.createElement(Zh.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:di.Pop}},C):C}function QA(){let t=rP(),e=zA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const YA=P.createElement(QA,null);class JA extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Ri.Provider,{value:this.props.routeContext},P.createElement(DE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XA(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(py);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Ri.Provider,{value:e},r)}function ZA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||_t(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:I}=n,T=v.route.loader&&_[v.route.id]===void 0&&(!I||I[v.route.id]===void 0);if(v.route.lazy||T){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let I,T=!1,C=null,b=null;n&&(I=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||YA,h&&(m<0&&_===0?(iP("route-fallback"),T=!0,b=null):m===_&&(T=!0,b=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,_+1)),D=()=>{let M;return I?M=C:T?M=b:v.route.Component?M=P.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=g,P.createElement(XA,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:n!=null},children:M})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?P.createElement(JA,{location:n.location,revalidation:n.revalidation,component:C,error:I,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}var VE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(VE||{}),LE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(LE||{});function eP(t){let e=P.useContext(py);return e||_t(!1),e}function tP(t){let e=P.useContext(qA);return e||_t(!1),e}function nP(t){let e=P.useContext(Ri);return e||_t(!1),e}function FE(t){let e=nP(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function rP(){var t;let e=P.useContext(DE),n=tP(),r=FE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sP(){let{router:t}=eP(VE.UseNavigateStable),e=FE(LE.UseNavigateStable),n=P.useRef(!1);return OE(()=>{n.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bc({fromRouteId:e},a)))},[t,e])}const ax={};function iP(t,e,n){ax[t]||(ax[t]=!0)}function oP(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function my(t){let{to:e,replace:n,state:r,relative:i}=t;ul()||_t(!1);let{future:a,static:l}=P.useContext(ki),{matches:u}=P.useContext(Ri),{pathname:h}=Vo(),m=dl(),g=fy(e,hy(u,a.v7_relativeSplatPath),h,i==="path"),v=JSON.stringify(g);return P.useEffect(()=>m(JSON.parse(v),{replace:n,state:r,relative:i}),[m,v,i,n,r]),null}function yr(t){_t(!1)}function aP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=di.Pop,navigator:a,static:l=!1,future:u}=t;ul()&&_t(!1);let h=e.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:h,navigator:a,static:l,future:Bc({v7_relativeSplatPath:!1},u)}),[h,u,a,l]);typeof r=="string"&&(r=cl(r));let{pathname:g="/",search:v="",hash:_="",state:I=null,key:T="default"}=r,C=P.useMemo(()=>{let b=dy(g,h);return b==null?null:{location:{pathname:b,search:v,hash:_,state:I,key:T},navigationType:i}},[h,g,v,_,I,T,i]);return C==null?null:P.createElement(ki.Provider,{value:m},P.createElement(Zh.Provider,{children:n,value:C}))}function lP(t){let{children:e,location:n}=t;return GA(og(e),n)}new Promise(()=>{});function og(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){n.push.apply(n,og(r.props.children,a));return}r.type!==yr&&_t(!1),!r.props.index||!r.props.children||_t(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=og(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function cP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dP(t,e){return t.button===0&&(!e||e==="_self")&&!uP(t)}function lg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function hP(t,e){let n=lg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const fP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pP="6";try{window.__reactRouterVersion=pP}catch{}const mP="startTransition",lx=dA[mP];function gP(t){let{basename:e,children:n,future:r,window:i}=t,a=P.useRef();a.current==null&&(a.current=vA({window:i,v5Compat:!0}));let l=a.current,[u,h]=P.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=P.useCallback(v=>{m&&lx?lx(()=>h(v)):h(v)},[h,m]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.useEffect(()=>oP(r),[r]),P.createElement(aP,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const yP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Va=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:h,to:m,preventScrollReset:g,viewTransition:v}=e,_=cP(e,fP),{basename:I}=P.useContext(ki),T,C=!1;if(typeof m=="string"&&vP.test(m)&&(T=m,yP))try{let M=new URL(window.location.href),G=m.startsWith("//")?new URL(M.protocol+m):new URL(m),Q=dy(G.pathname,I);G.origin===M.origin&&Q!=null?m=Q+G.search+G.hash:C=!0}catch{}let b=HA(m,{relative:i}),O=wP(m,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:v});function D(M){r&&r(M),M.defaultPrevented||O(M)}return P.createElement("a",ag({},_,{href:T||b,onClick:C||a?r:D,ref:n,target:h}))});var cx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cx||(cx={}));var ux;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ux||(ux={}));function wP(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,h=dl(),m=Vo(),g=ME(t,{relative:l});return P.useCallback(v=>{if(dP(v,n)){v.preventDefault();let _=r!==void 0?r:vh(m)===vh(g);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,g,r,i,n,t,a,l,u])}function xP(t){let e=P.useRef(lg(t)),n=P.useRef(!1),r=Vo(),i=P.useMemo(()=>hP(r.search,n.current?null:e.current),[r.search]),a=dl(),l=P.useCallback((u,h)=>{const m=lg(typeof u=="function"?u(i):u);n.current=!0,a("?"+m,h)},[a,i]);return[i,l]}var iu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ef=typeof window>"u"||"Deno"in globalThis;function Xn(){}function _P(t,e){return typeof t=="function"?t(e):t}function EP(t){return typeof t=="number"&&t>=0&&t!==1/0}function bP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cg(t,e){return typeof t=="function"?t(e):t}function TP(t,e){return typeof t=="function"?t(e):t}function dx(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==gy(l,e.options))return!1}else if(!zc(e.queryKey,l))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function hx(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Co(e.options.mutationKey)!==Co(a))return!1}else if(!zc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function gy(t,e){return(e?.queryKeyHashFn||Co)(t)}function Co(t){return JSON.stringify(t,(e,n)=>ug(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>zc(t[n],e[n])):!1}function UE(t,e){if(t===e)return t;const n=fx(t)&&fx(e);if(n||ug(t)&&ug(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),l=a.length,u=n?[]:{},h=new Set(r);let m=0;for(let g=0;g<l;g++){const v=n?g:a[g];(!n&&h.has(v)||n)&&t[v]===void 0&&e[v]===void 0?(u[v]=void 0,m++):(u[v]=UE(t[v],e[v]),u[v]===t[v]&&t[v]!==void 0&&m++)}return i===l&&m===i?t:u}return e}function SP(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ug(t){if(!px(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!px(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function px(t){return Object.prototype.toString.call(t)==="[object Object]"}function IP(t){return new Promise(e=>{setTimeout(e,t)})}function CP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UE(t,e):e}function AP(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function PP(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yy=Symbol();function BE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===yy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function kP(t,e){return typeof t=="function"?t(...e):!!t}var RP=class extends iu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ef&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zE=new RP,NP=class extends iu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ef&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},wh=new NP;function jP(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function DP(t){return Math.min(1e3*2**t,3e4)}function $E(t){return(t??"online")==="online"?wh.isOnline():!0}var qE=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function HE(t){let e=!1,n=0,r;const i=jP(),a=()=>i.status!=="pending",l=C=>{a()||(_(new qE(C)),t.abort?.())},u=()=>{e=!0},h=()=>{e=!1},m=()=>zE.isFocused()&&(t.networkMode==="always"||wh.isOnline())&&t.canRun(),g=()=>$E(t.networkMode)&&t.canRun(),v=C=>{a()||(r?.(),i.resolve(C))},_=C=>{a()||(r?.(),i.reject(C))},I=()=>new Promise(C=>{r=b=>{(a()||m())&&C(b)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),T=()=>{if(a())return;let C;const b=n===0?t.initialPromise:void 0;try{C=b??t.fn()}catch(O){C=Promise.reject(O)}Promise.resolve(C).then(v).catch(O=>{if(a())return;const D=t.retry??(ef?0:3),M=t.retryDelay??DP,G=typeof M=="function"?M(n,O):M,Q=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,O);if(e||!Q){_(O);return}n++,t.onFail?.(n,O),IP(G).then(()=>m()?void 0:I()).then(()=>{e?_(O):T()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?T():I().then(T),i)}}var OP=t=>setTimeout(t,0);function MP(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=OP;const a=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||l()}return h},batchCalls:u=>(...h)=>{a(()=>{u(...h)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var Wt=MP(),WE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EP(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ef?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},VP=class extends WE{#e;#t;#n;#r;#s;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=FP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=CP(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>TP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>cg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!bP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const h=BE(this.options,n),g=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#a=!1,this.options.persister?this.options.persister(h,g,this):h(g)},u=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return i(h),h})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=HE({initialPromise:n?.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onFail:(h,m)=>{this.#i({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof qE){if(h.silent)return this.#s.promise;if(h.revert){if(this.setState({...this.#t,fetchStatus:"idle"}),this.state.data===void 0)throw h;return this.state.data}}throw this.#i({type:"error",error:h}),this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LP(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function LP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$E(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var UP=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??gy(r,e);let a=this.get(i);return a||(a=new VP({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dx(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>dx(t,n)):e}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},BP=class extends WE{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||GE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})};this.#n=HE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#r({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)n();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:i})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#r({type:"error",error:a})}}finally{this.#t.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function GE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zP=class extends iu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new BP({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=$d(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=$d(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=$d(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=$d(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hx(e,n))}findAll(t={}){return this.getAll().filter(e=>hx(t,e))}notify(t){Wt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Xn))))}};function $d(t){return t.options.scope?.id}function mx(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=BE(e.options,e.fetchOptions),I=async(T,C,b)=>{if(g)return Promise.reject();if(C==null&&T.pages.length)return Promise.resolve(T);const D=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:C,direction:b?"backward":"forward",meta:e.options.meta};return v(re),re})(),M=await _(D),{maxPages:G}=e.options,Q=b?PP:AP;return{pages:Q(T.pages,M,G),pageParams:Q(T.pageParams,C,G)}};if(i&&a.length){const T=i==="backward",C=T?$P:gx,b={pages:a,pageParams:l},O=C(r,b);u=await I(b,O,T)}else{const T=t??a.length;do{const C=h===0?l[0]??r.initialPageParam:gx(r,u);if(h>0&&C==null)break;u=await I(u,C),h++}while(h<T)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function $P(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var KE=class{#e;#t;#n;#r;#s;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new UP,this.#t=t.mutationCache||new zP,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=zE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=wh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(cg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,l=_P(e,a);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return Wt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Xn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(cg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=mx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=mx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Co(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(Co(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===yy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},qP=class extends iu{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),SP(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Co(n.mutationKey)!==Co(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??GE();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Wt.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},QE=P.createContext(void 0),HP=t=>{const e=P.useContext(QE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},YE=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(QE.Provider,{value:t,children:e}));function WP(t,e){const n=HP(),[r]=P.useState(()=>new qP(n,t));P.useEffect(()=>{r.setOptions(t)},[r,t]);const i=P.useSyncExternalStore(P.useCallback(l=>r.subscribe(Wt.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=P.useCallback((l,u)=>{r.mutate(l,u).catch(Xn)},[r]);if(i.error&&kP(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}let GP={data:""},KP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||GP,QP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YP=/\/\*[^]*?\*\/|  +/g,yx=/\n+/g,ai=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?ai(l,a):a+"{"+ai(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ai(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ai.p?ai.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ps={},JE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+JE(t[n]);return e}return t},JP=(t,e,n,r,i)=>{let a=JE(t),l=ps[a]||(ps[a]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(a));if(!ps[l]){let h=a!==t?t:(m=>{let g,v,_=[{}];for(;g=QP.exec(m.replace(YP,""));)g[4]?_.shift():g[3]?(v=g[3].replace(yx," ").trim(),_.unshift(_[0][v]=_[0][v]||{})):_[0][g[1]]=g[2].replace(yx," ").trim();return _[0]})(t);ps[l]=ai(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let u=n&&ps.g?ps.g:null;return n&&(ps.g=ps[l]),((h,m,g,v)=>{v?m.data=m.data.replace(v,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(ps[l],e,r,u),l},XP=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let u=l(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":ai(u,""):u===!1?"":u}return r+i+(l??"")},"");function tf(t){let e=this||{},n=t.call?t(e.p):t;return JP(n.unshift?n.raw?XP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,KP(e.target),e.g,e.o,e.k)}let XE,dg,hg;tf.bind({g:1});let bs=tf.bind({k:1});function ZP(t,e,n,r){ai.p=e,XE=t,dg=n,hg=r}function Ni(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let u=Object.assign({},a),h=u.className||i.className;n.p=Object.assign({theme:dg&&dg()},u),n.o=/ *go\d+/.test(h),u.className=tf.apply(n,r)+(h?" "+h:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),hg&&m[0]&&hg(u),XE(m,u)}return i}}var ek=t=>typeof t=="function",xh=(t,e)=>ek(t)?t(e):t,tk=(()=>{let t=0;return()=>(++t).toString()})(),ZE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),nk=20,vy="default",eb=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return eb(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},th=[],tb={toasts:[],pausedAt:void 0,settings:{toastLimit:nk}},Br={},nb=(t,e=vy)=>{Br[e]=eb(Br[e]||tb,t),th.forEach(([n,r])=>{n===e&&r(Br[e])})},rb=t=>Object.keys(Br).forEach(e=>nb(t,e)),rk=t=>Object.keys(Br).find(e=>Br[e].toasts.some(n=>n.id===t)),nf=(t=vy)=>e=>{nb(e,t)},sk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ik=(t={},e=vy)=>{let[n,r]=P.useState(Br[e]||tb),i=P.useRef(Br[e]);P.useEffect(()=>(i.current!==Br[e]&&r(Br[e]),th.push([e,r]),()=>{let l=th.findIndex(([u])=>u===e);l>-1&&th.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var u,h,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||t?.duration||sk[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...n,toasts:a}},ok=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||tk()}),ou=t=>(e,n)=>{let r=ok(e,t,n);return nf(r.toasterId||rk(r.id))({type:2,toast:r}),r.id},at=(t,e)=>ou("blank")(t,e);at.error=ou("error");at.success=ou("success");at.loading=ou("loading");at.custom=ou("custom");at.dismiss=(t,e)=>{let n={type:3,toastId:t};e?nf(e)(n):rb(n)};at.dismissAll=t=>at.dismiss(void 0,t);at.remove=(t,e)=>{let n={type:4,toastId:t};e?nf(e)(n):rb(n)};at.removeAll=t=>at.remove(void 0,t);at.promise=(t,e,n)=>{let r=at.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?xh(e.success,i):void 0;return a?at.success(a,{id:r,...n,...n?.success}):at.dismiss(r),i}).catch(i=>{let a=e.error?xh(e.error,i):void 0;a?at.error(a,{id:r,...n,...n?.error}):at.dismiss(r)}),t};var ak=1e3,lk=(t,e="default")=>{let{toasts:n,pausedAt:r}=ik(t,e),i=P.useRef(new Map).current,a=P.useCallback((v,_=ak)=>{if(i.has(v))return;let I=setTimeout(()=>{i.delete(v),l({type:4,toastId:v})},_);i.set(v,I)},[]);P.useEffect(()=>{if(r)return;let v=Date.now(),_=n.map(I=>{if(I.duration===1/0)return;let T=(I.duration||0)+I.pauseDuration-(v-I.createdAt);if(T<0){I.visible&&at.dismiss(I.id);return}return setTimeout(()=>at.dismiss(I.id,e),T)});return()=>{_.forEach(I=>I&&clearTimeout(I))}},[n,r,e]);let l=P.useCallback(nf(e),[e]),u=P.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=P.useCallback((v,_)=>{l({type:1,toast:{id:v,height:_}})},[l]),m=P.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=P.useCallback((v,_)=>{let{reverseOrder:I=!1,gutter:T=8,defaultPosition:C}=_||{},b=n.filter(M=>(M.position||C)===(v.position||C)&&M.height),O=b.findIndex(M=>M.id===v.id),D=b.filter((M,G)=>G<O&&M.visible).length;return b.filter(M=>M.visible).slice(...I?[D+1]:[0,D]).reduce((M,G)=>M+(G.height||0)+T,0)},[n]);return P.useEffect(()=>{n.forEach(v=>{if(v.dismissed)a(v.id,v.removeDelay);else{let _=i.get(v.id);_&&(clearTimeout(_),i.delete(v.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:h,startPause:u,endPause:m,calculateOffset:g}}},ck=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uk=bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dk=bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hk=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ck} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fk=bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pk=Ni("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${fk} 1s linear infinite;
`,mk=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gk=bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yk=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vk=Ni("div")`
  position: absolute;
`,wk=Ni("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xk=bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_k=Ni("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ek=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?P.createElement(_k,null,e):e:n==="blank"?null:P.createElement(wk,null,P.createElement(pk,{...r}),n!=="loading"&&P.createElement(vk,null,n==="error"?P.createElement(hk,{...r}):P.createElement(yk,{...r})))},bk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Tk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Sk="0%{opacity:0;} 100%{opacity:1;}",Ik="0%{opacity:1;} 100%{opacity:0;}",Ck=Ni("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ak=Ni("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Pk=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=ZE()?[Sk,Ik]:[bk(n),Tk(n)];return{animation:e?`${bs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kk=P.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Pk(t.position||e||"top-center",t.visible):{opacity:0},a=P.createElement(Ek,{toast:t}),l=P.createElement(Ak,{...t.ariaProps},xh(t.message,t));return P.createElement(Ck,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):P.createElement(P.Fragment,null,a,l))});ZP(P.createElement);var Rk=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=P.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;r(t,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return P.createElement("div",{ref:a,className:e,style:n},i)},Nk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ZE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},jk=tf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qd=16,sb=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:l,containerClassName:u})=>{let{toasts:h,handlers:m}=lk(n,a);return P.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:qd,left:qd,right:qd,bottom:qd,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(g=>{let v=g.position||e,_=m.calculateOffset(g,{reverseOrder:t,gutter:r,defaultPosition:e}),I=Nk(v,_);return P.createElement(Rk,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?jk:"",style:I},g.type==="custom"?xh(g.message,g):i?i(g):P.createElement(kk,{toast:g,position:v}))}))},hn=at;const Dk=()=>{};var vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ok=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,h=i+2<t.length,m=h?t[i+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|m>>6,I=m&63;h||(I=64,l||(_=64)),r.push(n[g],n[v],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ib(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ok(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||m==null||v==null)throw new Mk;const _=a<<2|u>>4;if(r.push(_),m!==64){const I=u<<4&240|m>>2;if(r.push(I),v!==64){const T=m<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vk=function(t){const e=ib(t);return ob.encodeByteArray(e,!0)},_h=function(t){return Vk(t).replace(/\./g,"")},ab=function(t){try{return ob.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=()=>Lk().__FIREBASE_DEFAULTS__,Uk=()=>{if(typeof process>"u"||typeof vx>"u")return;const t=vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ab(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return Dk()||Fk()||Uk()||Bk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lb=t=>rf()?.emulatorHosts?.[t],zk=t=>{const e=lb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cb=()=>rf()?.config,ub=t=>rf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function db(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_h(JSON.stringify(n)),_h(JSON.stringify(l)),""].join(".")}const Pc={};function Hk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pc))Pc[e]?t.emulator.push(e):t.prod.push(e);return t}function Wk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wx=!1;function hb(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Pc[t]===e||Pc[t]||wx)return;Pc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=Hk().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,I){_.setAttribute("width","24"),_.setAttribute("id",I),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{wx=!0,l()},_}function g(_,I){_.setAttribute("id",I),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=Wk(r),I=n("text"),T=document.getElementById(I)||document.createElement("span"),C=n("learnmore"),b=document.getElementById(C)||document.createElement("a"),O=n("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;u(M),g(b,C);const G=m();h(D,O),M.append(D,T,b,G),document.body.appendChild(M)}a?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Kk(){const t=rf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jk(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xk(){return!Kk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pb(){try{return typeof indexedDB=="object"}catch{return!1}}function mb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function Zk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eR,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?tR(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ir(i,u,r)}}function tR(t,e){return t.replace(nR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nR=/\{\$([^}]+)}/g;function rR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(xx(a)&&xx(l)){if(!_i(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sR(t,e){const n=new iR(t,e);return n.subscribe.bind(n)}class iR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1e3,lR=2,cR=14400*1e3,uR=.5;function _x(t,e=aR,n=lR){const r=e*Math.pow(n,t),i=Math.round(uR*r*(Math.random()-.5)*2);return Math.min(cR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $k;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fR(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(t){return t===mo?void 0:t}function fR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const mR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},gR=Ve.INFO,yR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},vR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=gR,this._logHandler=vR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const wR=(t,e)=>e.some(n=>t instanceof n);let Ex,bx;function xR(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,fg=new WeakMap,yb=new WeakMap,Cm=new WeakMap,wy=new WeakMap;function ER(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(pi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&gb.set(n,t)}).catch(()=>{}),wy.set(e,t),e}function bR(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});fg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TR(t){pg=t(pg)}function SR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return yb.set(r,e.sort?e.sort():[e]),pi(r)}:_R().includes(t)?function(...e){return t.apply(Am(this),e),pi(gb.get(this))}:function(...e){return pi(t.apply(Am(this),e))}}function IR(t){return typeof t=="function"?SR(t):(t instanceof IDBTransaction&&bR(t),wR(t,xR())?new Proxy(t,pg):t)}function pi(t){if(t instanceof IDBRequest)return ER(t);if(Cm.has(t))return Cm.get(t);const e=IR(t);return e!==t&&(Cm.set(t,e),wy.set(e,t)),e}const Am=t=>wy.get(t);function vb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=pi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(pi(l.result),h.oldVersion,h.newVersion,pi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const CR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],Pm=new Map;function Tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CR.includes(n)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&h.done]))[0]};return Pm.set(e,a),a}TR(t=>({...t,get:(e,n,r)=>Tx(e,n)||t.get(e,n,r),has:(e,n)=>!!Tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kR(t){return t.getComponent()?.type==="VERSION"}const mg="@firebase/app",Sx="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new sf("@firebase/app"),RR="@firebase/app-compat",NR="@firebase/analytics-compat",jR="@firebase/analytics",DR="@firebase/app-check-compat",OR="@firebase/app-check",MR="@firebase/auth",VR="@firebase/auth-compat",LR="@firebase/database",FR="@firebase/data-connect",UR="@firebase/database-compat",BR="@firebase/functions",zR="@firebase/functions-compat",$R="@firebase/installations",qR="@firebase/installations-compat",HR="@firebase/messaging",WR="@firebase/messaging-compat",GR="@firebase/performance",KR="@firebase/performance-compat",QR="@firebase/remote-config",YR="@firebase/remote-config-compat",JR="@firebase/storage",XR="@firebase/storage-compat",ZR="@firebase/firestore",eN="@firebase/ai",tN="@firebase/firestore-compat",nN="firebase",rN="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",sN={[mg]:"fire-core",[RR]:"fire-core-compat",[jR]:"fire-analytics",[NR]:"fire-analytics-compat",[OR]:"fire-app-check",[DR]:"fire-app-check-compat",[MR]:"fire-auth",[VR]:"fire-auth-compat",[LR]:"fire-rtdb",[FR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[BR]:"fire-fn",[zR]:"fire-fn-compat",[$R]:"fire-iid",[qR]:"fire-iid-compat",[HR]:"fire-fcm",[WR]:"fire-fcm-compat",[GR]:"fire-perf",[KR]:"fire-perf-compat",[QR]:"fire-rc",[YR]:"fire-rc-compat",[JR]:"fire-gcs",[XR]:"fire-gcs-compat",[ZR]:"fire-fst",[tN]:"fire-fst-compat",[eN]:"fire-vertex","fire-js":"fire-js",[nN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,iN=new Map,yg=new Map;function Ix(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){const e=t.name;if(yg.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of Eh.values())Ix(n,t);for(const n of iN.values())Ix(n,t);return!0}function Fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Lo("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=rN;function vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(n||(n=cb()),!n)throw mi.create("no-options");const a=Eh.get(i);if(a){if(_i(n,a.options)&&_i(r,a.config))return a;throw mi.create("duplicate-app",{appName:i})}const l=new pR(i);for(const h of yg.values())l.addComponent(h);const u=new aN(n,r,l);return Eh.set(i,u),u}function xy(t=gg){const e=Eh.get(t);if(!e&&t===gg&&cb())return vg();if(!e)throw mi.create("no-app",{appName:t});return e}function er(t,e,n){let r=sN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(l.join(" "));return}Kr(new br(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebase-heartbeat-database",cN=1,$c="firebase-heartbeat-store";let km=null;function wb(){return km||(km=vb(lN,cN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw mi.create("idb-open",{originalErrorMessage:t.message})})),km}async function uN(t){try{const n=(await wb()).transaction($c),r=await n.objectStore($c).get(xb(t));return await n.done,r}catch(e){if(e instanceof Ir)Ts.warn(e.message);else{const n=mi.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(n.message)}}}async function Cx(t,e){try{const r=(await wb()).transaction($c,"readwrite");await r.objectStore($c).put(e,xb(t)),await r.done}catch(n){if(n instanceof Ir)Ts.warn(n.message);else{const r=mi.create("idb-set",{originalErrorMessage:n?.message});Ts.warn(r.message)}}}function xb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,hN=30;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ax();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>hN){const i=gN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ax(),{heartbeatsToSend:n,unsentEntries:r}=pN(this._heartbeatsCache.heartbeats),i=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ts.warn(e),""}}}function Ax(){return new Date().toISOString().substring(0,10)}function pN(t,e=dN){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Px(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Px(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pb()?mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Px(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function gN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){Kr(new br("platform-logger",e=>new PR(e),"PRIVATE")),Kr(new br("heartbeat",e=>new fN(e),"PRIVATE")),er(mg,Sx,t),er(mg,Sx,"esm2020"),er("fire-js","")}yN("");function _b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vN=_b,Eb=new Lo("auth","Firebase",_b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new sf("@firebase/auth");function wN(t,...e){bh.logLevel<=Ve.WARN&&bh.warn(`Auth (${fl}): ${t}`,...e)}function nh(t,...e){bh.logLevel<=Ve.ERROR&&bh.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw Ey(t,...e)}function xr(t,...e){return Ey(t,...e)}function _y(t,e,n){const r={...vN(),[e]:n};return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function xs(t){return _y(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&tr(t,"argument-error"),_y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ey(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Eb.create(t,...e)}function Te(t,e,...n){if(!t)throw Ey(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nh(e),new Error(e)}function Ss(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){return typeof self<"u"&&self.location?.href||""}function _N(){return kx()==="http:"||kx()==="https:"}function kx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_N()||fb()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=Gk()||Yk()}get(){return EN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){Ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IN=new lu(3e4,6e4);function Ps(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yr(t,e,n,r,i={}){return Tb(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=au({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...a};return Qk()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(m.credentials="include"),bb.fetch()(await Sb(t,t.config.apiHost,n,u),m)})}async function Tb(t,e,n){t._canInitEmulator=!1;const r={...TN,...e};try{const i=new AN(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Hd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Hd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Hd(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _y(t,g,m);tr(t,g)}}catch(i){if(i instanceof Ir)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function cu(t,e,n,r,i={}){const a=await Yr(t,e,n,r,i);return"mfaPendingCredential"in a&&tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Sb(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?by(t.config,i):`${t.config.apiScheme}://${i}`;return SN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function CN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),IN.get())})}}function Hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}function Rx(t){return t!==void 0&&t.enterprise!==void 0}class PN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kN(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function Th(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NN(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=Ty(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:kc(Rm(i.auth_time)),issuedAtTime:kc(Rm(i.iat)),expirationTime:kc(Rm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Rm(t){return Number(t)*1e3}function Ty(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const i=ab(n);return i?JSON.parse(i):(nh("Failed to decode base64 JWT payload"),null)}catch(i){return nh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nx(t){const e=Ty(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&jN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){const e=t.auth,n=await t.getIdToken(),r=await Xa(t,Th(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Ib(i.providerUserInfo):[],l=MN(t.providerData,a),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,m=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function ON(t){const e=mt(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ib(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e){const n=await Tb(t,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await Sb(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(h.credentials="include"),bb.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LN(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Nx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await VN(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ga;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Xa(this,RN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:I,providerData:T,stsTokenManager:C}=n;Te(v&&C,e,"internal-error");const b=Ga.fromJSON(this.name,C);Te(typeof v=="string",e,"internal-error"),ni(r,e.name),ni(i,e.name),Te(typeof _=="boolean",e,"internal-error"),Te(typeof I=="boolean",e,"internal-error"),ni(a,e.name),ni(l,e.name),ni(u,e.name),ni(h,e.name),ni(m,e.name),ni(g,e.name);const O=new wr({uid:v,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:b,createdAt:m,lastLoginAt:g});return T&&Array.isArray(T)&&(O.providerData=T.map(D=>({...D}))),h&&(O._redirectEventId=h),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ga;i.updateFromServerResponse(n);const a=new wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Ib(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Ga;u.updateFromIdToken(r);const h=new wr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;function vs(t){Ss(t instanceof Function,"Expected a class definition");let e=jx.get(t);return e?(Ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const Dx=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=rh(this.userKey,i.apiKey,a),this.fullPersistenceKey=rh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ka(vs(Dx),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||vs(Dx);const l=rh(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const _=await Th(e,{idToken:g}).catch(()=>{});if(!_)break;v=await wr._fromGetAccountInfoResponse(e,_,g)}else v=wr._fromJSON(e,g);m!==a&&(u=v),a=m;break}}catch{}const h=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ka(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(Db(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||kb(e))&&!e.includes("edge/"))return"Chrome";if(Nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ab(t=sn()){return/firefox\//i.test(t)}function Pb(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kb(t=sn()){return/crios\//i.test(t)}function Rb(t=sn()){return/iemobile/i.test(t)}function Nb(t=sn()){return/android/i.test(t)}function jb(t=sn()){return/blackberry/i.test(t)}function Db(t=sn()){return/webos/i.test(t)}function Sy(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FN(t=sn()){return Sy(t)&&!!window.navigator?.standalone}function UN(){return Jk()&&document.documentMode===10}function Ob(t=sn()){return Sy(t)||Nb(t)||Db(t)||jb(t)||/windows phone/i.test(t)||Rb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e=[]){let n;switch(t){case"Browser":n=Ox(sn());break;case"Worker":n=`${Ox(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=6;class qN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$N,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),r=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(xs(this));const n=e?mt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),n=new qN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ks(t){return mt(t)}class Mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=sR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WN(t){of=t}function Vb(t){return of.loadJS(t)}function GN(){return of.recaptchaEnterpriseScript}function KN(){return of.gapiScript}function QN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new JN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XN="recaptcha-enterprise",Lb="NO_RECAPTCHA";class ZN{constructor(e){this.type=XN,this.auth=ks(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{kN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new PN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;Rx(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(Lb)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&Rx(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=GN();h.length!==0&&(h+=u),Vb(h).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function Vx(t,e,n,r=!1,i=!1){const a=new ZN(t);let l;if(i)l=Lb;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ih(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Vx(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Vx(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){const n=Fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(_i(a,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function tj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nj(t,e,n){const r=ks(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=Fb(e),{host:l,port:u}=rj(e),h=u===null?"":`:${u}`,m={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(_i(m,r.config.emulator)&&_i(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hl(l)?(db(`${a}//${l}${h}`),hb("Auth",!0)):sj()}function Fb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rj(t){const e=Fb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Lx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Lx(l)}}}function Lx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function ij(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return cu(t,"POST","/v1/accounts:signInWithPassword",Ps(t,e))}async function aj(t,e){return Yr(t,"POST","/v1/accounts:sendOobCode",Ps(t,e))}async function lj(t,e){return aj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t,e){return cu(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}async function uj(t,e){return cu(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Iy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,n,"signInWithPassword",oj);case"emailLink":return cj(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(e,r,"signUpPassword",ij);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e){return cu(t,"POST","/v1/accounts:signInWithIdp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="http://localhost";class Ao extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Ao(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:dj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fj(t){const e=Ec(bc(t)).link,n=e?Ec(bc(e)).deep_link_id:null,r=Ec(bc(t)).deep_link_id;return(r?Ec(bc(r)).link:null)||r||n||e||t}class Cy{constructor(e){const n=Ec(bc(e)),r=n.apiKey??null,i=n.oobCode??null,a=hj(n.mode??null);Te(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fj(e);try{return new Cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cy.parseLink(n);return Te(r,"argument-error"),qc._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends uu{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ao._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends uu{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends uu{constructor(){super("twitter.com")}static credential(e,n){return Ao._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return cu(t,"POST","/v1/accounts:signUp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await wr._fromIdTokenResponse(e,r,i),l=Fx(r);return new Po({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fx(r);return new Po({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Ir{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ch(e,n,r,i)}}function Ub(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,a,e,r):a})}async function mj(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(xs(r));const i="reauthenticate";try{const a=await Xa(t,Ub(r,i,e,t),n);Te(a.idToken,r,"internal-error");const l=Ty(a.idToken);Te(l,r,"internal-error");const{sub:u}=l;return Te(t.uid===u,r,"user-mismatch"),Po._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e,n=!1){if(Mn(t.app))return Promise.reject(xs(t));const r="signIn",i=await Ub(t,r,e),a=await Po._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function yj(t,e){return Bb(ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t){const e=ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vj(t,e,n){const r=ks(t);await Ih(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lj)}async function wj(t,e,n){if(Mn(t.app))return Promise.reject(xs(t));const r=ks(t),l=await Ih(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&zb(t),h}),u=await Po._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function xj(t,e,n){return Mn(t.app)?Promise.reject(xs(t)):yj(mt(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return Yr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Xa(r,_j(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function bj(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function Tj(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function Sj(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function Ij(t){return mt(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=1e3,Aj=10;class qb extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ob(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);UN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Aj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qb.type="LOCAL";const Pj=qb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hb.type="SESSION";const Wb=Hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,a)),h=await kj(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const m=Py("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function Nj(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function jj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dj(){return navigator?.serviceWorker?.controller||null}function Oj(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="firebaseLocalStorageDb",Mj=1,Ph="firebaseLocalStorage",Qb="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function Vj(){const t=indexedDB.deleteDatabase(Kb);return new du(t).toPromise()}function _g(){const t=indexedDB.open(Kb,Mj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ph,{keyPath:Qb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ph)?e(r):(r.close(),await Vj(),e(await _g()))})})}async function Ux(t,e,n){const r=lf(t,!0).put({[Qb]:e,value:n});return new du(r).toPromise()}async function Lj(t,e){const n=lf(t,!1).get(e),r=await new du(n).toPromise();return r===void 0?null:r.value}function Bx(t,e){const n=lf(t,!0).delete(e);return new du(n).toPromise()}const Fj=800,Uj=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(Oj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jj(),!this.activeServiceWorker)return;this.sender=new Rj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await Ux(e,Ah,"1"),await Bx(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ux(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Lj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=lf(i,!1).getAll();return new du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const Bj=Yb;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e){return e?vs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zj(t){return Bb(t.auth,new ky(t),t.bypassAuthState)}function $j(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),gj(n,new ky(t),t.bypassAuthState)}async function qj(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),mj(n,new ky(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return $j;default:tr(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new lu(2e3,1e4);async function Wj(t,e,n){if(Mn(t.app))return Promise.reject(xr(t,"operation-not-supported-in-this-environment"));const r=ks(t);xN(t,e,Ay);const i=Jb(r,n);return new wo(r,"signInViaPopup",e,i).executeNotNull()}class wo extends Xb{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hj.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="pendingRedirect",sh=new Map;class Kj extends Xb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await Qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qj(t,e){const n=Xj(e),r=Jj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Yj(t,e){sh.set(t._key(),e)}function Jj(t){return vs(t._redirectPersistence)}function Xj(t){return rh(Gj,t.config.apiKey,t.name)}async function Zj(t,e,n=!1){if(Mn(t.app))return Promise.reject(xs(t));const r=ks(t),i=Jb(r,e),l=await new Kj(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=600*1e3;class tD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Zb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(xr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zx(e))}saveEventToCache(e){this.cachedEventUids.add(zx(e)),this.lastProcessedEventTime=Date.now()}}function zx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Zb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iD=/^https?/;async function oD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rD(t);for(const n of e)try{if(aD(n))return}catch{}tr(t,"unauthorized-domain")}function aD(t){const e=wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!iD.test(n))return!1;if(sD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new lu(3e4,6e4);function $x(){const t=zr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cD(t){return new Promise((e,n)=>{function r(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),n(xr(t,"network-request-failed"))},timeout:lD.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)r();else{const i=QN("iframefcb");return zr()[i]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},Vb(`${KN()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw ih=null,e})}let ih=null;function uD(t){return ih=ih||cD(t),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new lu(5e3,15e3),hD="__/auth/iframe",fD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gD(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?by(e,fD):`https://${t.config.authDomain}/${hD}`,r={apiKey:e.apiKey,appName:t.name,v:fl},i=mD.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${au(r).slice(1)}`}async function yD(t){const e=await uD(t),n=zr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:gD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=xr(t,"network-request-failed"),u=zr().setTimeout(()=>{a(l)},dD.get());function h(){zr().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,xD=600,_D="_blank",ED="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bD(t,e,n,r=wD,i=xD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...vD,width:r.toString(),height:i.toString(),top:a,left:l},m=sn().toLowerCase();n&&(u=kb(m)?_D:n),Ab(m)&&(e=e||ED,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[I,T])=>`${_}${I}=${T},`,"");if(FN(m)&&u!=="_self")return TD(e||"",u),new qx(null);const v=window.open(e||"",u,g);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new qx(v)}function TD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",ID="emulator/auth/handler",CD=encodeURIComponent("fac");async function Hx(t,e,n,r,i,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:i};if(e instanceof Ay){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof uu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),m=h?`#${CD}=${encodeURIComponent(h)}`:"";return`${AD(t)}?${au(u).slice(1)}${m}`}function AD({config:t}){return t.emulator?by(t,ID):`https://${t.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=Zj,this._overrideRedirectResult=Yj}async _openPopup(e,n,r,i){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Hx(e,n,r,wg(),i);return bD(e,a,Py())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Hx(e,n,r,wg(),i);return Nj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ss(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yD(e),r=new tD(e);return n.register("authEvent",i=>(Te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{const a=i?.[0]?.[Nm];a!==void 0&&n(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ob()||Pb()||Sy()}}const kD=PD;var Wx="@firebase/auth",Gx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(t){Kr(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(t)},m=new HN(r,i,a,h);return tj(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new br("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(r=>new RD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Wx,Gx,ND(t)),er(Wx,Gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=300,OD=ub("authIdTokenMaxAge")||DD;let Kx=null;const MD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OD)return;const i=n?.token;Kx!==i&&(Kx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VD(t=xy()){const e=Fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ej(t,{popupRedirectResolver:kD,persistence:[Bj,Pj,Wb]}),r=ub("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=MD(a.toString());Tj(n,l,()=>l(n.currentUser)),bj(n,u=>l(u))}}const i=lb("auth");return i&&nj(n,`http://${i}`),n}function LD(){return document.getElementsByTagName("head")?.[0]??document}WN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=xr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",LD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");var Qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,eT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,k){function N(){}N.prototype=k.prototype,L.D=k.prototype,L.prototype=new N,L.prototype.constructor=L,L.C=function(U,$,R){for(var j=Array(arguments.length-2),we=2;we<arguments.length;we++)j[we-2]=arguments[we];return k.prototype[$].apply(U,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,k,N){N||(N=0);var U=Array(16);if(typeof k=="string")for(var $=0;16>$;++$)U[$]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for($=0;16>$;++$)U[$]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=L.g[0],N=L.g[1],$=L.g[2];var R=L.g[3],j=k+(R^N&($^R))+U[0]+3614090360&4294967295;k=N+(j<<7&4294967295|j>>>25),j=R+($^k&(N^$))+U[1]+3905402710&4294967295,R=k+(j<<12&4294967295|j>>>20),j=$+(N^R&(k^N))+U[2]+606105819&4294967295,$=R+(j<<17&4294967295|j>>>15),j=N+(k^$&(R^k))+U[3]+3250441966&4294967295,N=$+(j<<22&4294967295|j>>>10),j=k+(R^N&($^R))+U[4]+4118548399&4294967295,k=N+(j<<7&4294967295|j>>>25),j=R+($^k&(N^$))+U[5]+1200080426&4294967295,R=k+(j<<12&4294967295|j>>>20),j=$+(N^R&(k^N))+U[6]+2821735955&4294967295,$=R+(j<<17&4294967295|j>>>15),j=N+(k^$&(R^k))+U[7]+4249261313&4294967295,N=$+(j<<22&4294967295|j>>>10),j=k+(R^N&($^R))+U[8]+1770035416&4294967295,k=N+(j<<7&4294967295|j>>>25),j=R+($^k&(N^$))+U[9]+2336552879&4294967295,R=k+(j<<12&4294967295|j>>>20),j=$+(N^R&(k^N))+U[10]+4294925233&4294967295,$=R+(j<<17&4294967295|j>>>15),j=N+(k^$&(R^k))+U[11]+2304563134&4294967295,N=$+(j<<22&4294967295|j>>>10),j=k+(R^N&($^R))+U[12]+1804603682&4294967295,k=N+(j<<7&4294967295|j>>>25),j=R+($^k&(N^$))+U[13]+4254626195&4294967295,R=k+(j<<12&4294967295|j>>>20),j=$+(N^R&(k^N))+U[14]+2792965006&4294967295,$=R+(j<<17&4294967295|j>>>15),j=N+(k^$&(R^k))+U[15]+1236535329&4294967295,N=$+(j<<22&4294967295|j>>>10),j=k+($^R&(N^$))+U[1]+4129170786&4294967295,k=N+(j<<5&4294967295|j>>>27),j=R+(N^$&(k^N))+U[6]+3225465664&4294967295,R=k+(j<<9&4294967295|j>>>23),j=$+(k^N&(R^k))+U[11]+643717713&4294967295,$=R+(j<<14&4294967295|j>>>18),j=N+(R^k&($^R))+U[0]+3921069994&4294967295,N=$+(j<<20&4294967295|j>>>12),j=k+($^R&(N^$))+U[5]+3593408605&4294967295,k=N+(j<<5&4294967295|j>>>27),j=R+(N^$&(k^N))+U[10]+38016083&4294967295,R=k+(j<<9&4294967295|j>>>23),j=$+(k^N&(R^k))+U[15]+3634488961&4294967295,$=R+(j<<14&4294967295|j>>>18),j=N+(R^k&($^R))+U[4]+3889429448&4294967295,N=$+(j<<20&4294967295|j>>>12),j=k+($^R&(N^$))+U[9]+568446438&4294967295,k=N+(j<<5&4294967295|j>>>27),j=R+(N^$&(k^N))+U[14]+3275163606&4294967295,R=k+(j<<9&4294967295|j>>>23),j=$+(k^N&(R^k))+U[3]+4107603335&4294967295,$=R+(j<<14&4294967295|j>>>18),j=N+(R^k&($^R))+U[8]+1163531501&4294967295,N=$+(j<<20&4294967295|j>>>12),j=k+($^R&(N^$))+U[13]+2850285829&4294967295,k=N+(j<<5&4294967295|j>>>27),j=R+(N^$&(k^N))+U[2]+4243563512&4294967295,R=k+(j<<9&4294967295|j>>>23),j=$+(k^N&(R^k))+U[7]+1735328473&4294967295,$=R+(j<<14&4294967295|j>>>18),j=N+(R^k&($^R))+U[12]+2368359562&4294967295,N=$+(j<<20&4294967295|j>>>12),j=k+(N^$^R)+U[5]+4294588738&4294967295,k=N+(j<<4&4294967295|j>>>28),j=R+(k^N^$)+U[8]+2272392833&4294967295,R=k+(j<<11&4294967295|j>>>21),j=$+(R^k^N)+U[11]+1839030562&4294967295,$=R+(j<<16&4294967295|j>>>16),j=N+($^R^k)+U[14]+4259657740&4294967295,N=$+(j<<23&4294967295|j>>>9),j=k+(N^$^R)+U[1]+2763975236&4294967295,k=N+(j<<4&4294967295|j>>>28),j=R+(k^N^$)+U[4]+1272893353&4294967295,R=k+(j<<11&4294967295|j>>>21),j=$+(R^k^N)+U[7]+4139469664&4294967295,$=R+(j<<16&4294967295|j>>>16),j=N+($^R^k)+U[10]+3200236656&4294967295,N=$+(j<<23&4294967295|j>>>9),j=k+(N^$^R)+U[13]+681279174&4294967295,k=N+(j<<4&4294967295|j>>>28),j=R+(k^N^$)+U[0]+3936430074&4294967295,R=k+(j<<11&4294967295|j>>>21),j=$+(R^k^N)+U[3]+3572445317&4294967295,$=R+(j<<16&4294967295|j>>>16),j=N+($^R^k)+U[6]+76029189&4294967295,N=$+(j<<23&4294967295|j>>>9),j=k+(N^$^R)+U[9]+3654602809&4294967295,k=N+(j<<4&4294967295|j>>>28),j=R+(k^N^$)+U[12]+3873151461&4294967295,R=k+(j<<11&4294967295|j>>>21),j=$+(R^k^N)+U[15]+530742520&4294967295,$=R+(j<<16&4294967295|j>>>16),j=N+($^R^k)+U[2]+3299628645&4294967295,N=$+(j<<23&4294967295|j>>>9),j=k+($^(N|~R))+U[0]+4096336452&4294967295,k=N+(j<<6&4294967295|j>>>26),j=R+(N^(k|~$))+U[7]+1126891415&4294967295,R=k+(j<<10&4294967295|j>>>22),j=$+(k^(R|~N))+U[14]+2878612391&4294967295,$=R+(j<<15&4294967295|j>>>17),j=N+(R^($|~k))+U[5]+4237533241&4294967295,N=$+(j<<21&4294967295|j>>>11),j=k+($^(N|~R))+U[12]+1700485571&4294967295,k=N+(j<<6&4294967295|j>>>26),j=R+(N^(k|~$))+U[3]+2399980690&4294967295,R=k+(j<<10&4294967295|j>>>22),j=$+(k^(R|~N))+U[10]+4293915773&4294967295,$=R+(j<<15&4294967295|j>>>17),j=N+(R^($|~k))+U[1]+2240044497&4294967295,N=$+(j<<21&4294967295|j>>>11),j=k+($^(N|~R))+U[8]+1873313359&4294967295,k=N+(j<<6&4294967295|j>>>26),j=R+(N^(k|~$))+U[15]+4264355552&4294967295,R=k+(j<<10&4294967295|j>>>22),j=$+(k^(R|~N))+U[6]+2734768916&4294967295,$=R+(j<<15&4294967295|j>>>17),j=N+(R^($|~k))+U[13]+1309151649&4294967295,N=$+(j<<21&4294967295|j>>>11),j=k+($^(N|~R))+U[4]+4149444226&4294967295,k=N+(j<<6&4294967295|j>>>26),j=R+(N^(k|~$))+U[11]+3174756917&4294967295,R=k+(j<<10&4294967295|j>>>22),j=$+(k^(R|~N))+U[2]+718787259&4294967295,$=R+(j<<15&4294967295|j>>>17),j=N+(R^($|~k))+U[9]+3951481745&4294967295,L.g[0]=L.g[0]+k&4294967295,L.g[1]=L.g[1]+($+(j<<21&4294967295|j>>>11))&4294967295,L.g[2]=L.g[2]+$&4294967295,L.g[3]=L.g[3]+R&4294967295}r.prototype.u=function(L,k){k===void 0&&(k=L.length);for(var N=k-this.blockSize,U=this.B,$=this.h,R=0;R<k;){if($==0)for(;R<=N;)i(this,L,R),R+=this.blockSize;if(typeof L=="string"){for(;R<k;)if(U[$++]=L.charCodeAt(R++),$==this.blockSize){i(this,U),$=0;break}}else for(;R<k;)if(U[$++]=L[R++],$==this.blockSize){i(this,U),$=0;break}}this.h=$,this.o+=k},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var k=1;k<L.length-8;++k)L[k]=0;var N=8*this.o;for(k=L.length-8;k<L.length;++k)L[k]=N&255,N/=256;for(this.u(L),L=Array(16),k=N=0;4>k;++k)for(var U=0;32>U;U+=8)L[N++]=this.g[k]>>>U&255;return L};function a(L,k){var N=u;return Object.prototype.hasOwnProperty.call(N,L)?N[L]:N[L]=k(L)}function l(L,k){this.h=k;for(var N=[],U=!0,$=L.length-1;0<=$;$--){var R=L[$]|0;U&&R==k||(N[$]=R,U=!1)}this.g=N}var u={};function h(L){return-128<=L&&128>L?a(L,function(k){return new l([k|0],0>k?-1:0)}):new l([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return b(m(-L));for(var k=[],N=1,U=0;L>=N;U++)k[U]=L/N|0,N*=4294967296;return new l(k,0)}function g(L,k){if(L.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L.charAt(0)=="-")return b(g(L.substring(1),k));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(k,8)),U=v,$=0;$<L.length;$+=8){var R=Math.min(8,L.length-$),j=parseInt(L.substring($,$+R),k);8>R?(R=m(Math.pow(k,R)),U=U.j(R).add(m(j))):(U=U.j(N),U=U.add(m(j)))}return U}var v=h(0),_=h(1),I=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-b(this).m();for(var L=0,k=1,N=0;N<this.g.length;N++){var U=this.i(N);L+=(0<=U?U:4294967296+U)*k,k*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(T(this))return"0";if(C(this))return"-"+b(this).toString(L);for(var k=m(Math.pow(L,6)),N=this,U="";;){var $=G(N,k).g;N=O(N,$.j(k));var R=((0<N.g.length?N.g[0]:N.h)>>>0).toString(L);if(N=$,T(N))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function T(L){if(L.h!=0)return!1;for(var k=0;k<L.g.length;k++)if(L.g[k]!=0)return!1;return!0}function C(L){return L.h==-1}t.l=function(L){return L=O(this,L),C(L)?-1:T(L)?0:1};function b(L){for(var k=L.g.length,N=[],U=0;U<k;U++)N[U]=~L.g[U];return new l(N,~L.h).add(_)}t.abs=function(){return C(this)?b(this):this},t.add=function(L){for(var k=Math.max(this.g.length,L.g.length),N=[],U=0,$=0;$<=k;$++){var R=U+(this.i($)&65535)+(L.i($)&65535),j=(R>>>16)+(this.i($)>>>16)+(L.i($)>>>16);U=j>>>16,R&=65535,j&=65535,N[$]=j<<16|R}return new l(N,N[N.length-1]&-2147483648?-1:0)};function O(L,k){return L.add(b(k))}t.j=function(L){if(T(this)||T(L))return v;if(C(this))return C(L)?b(this).j(b(L)):b(b(this).j(L));if(C(L))return b(this.j(b(L)));if(0>this.l(I)&&0>L.l(I))return m(this.m()*L.m());for(var k=this.g.length+L.g.length,N=[],U=0;U<2*k;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(var $=0;$<L.g.length;$++){var R=this.i(U)>>>16,j=this.i(U)&65535,we=L.i($)>>>16,Qe=L.i($)&65535;N[2*U+2*$]+=j*Qe,D(N,2*U+2*$),N[2*U+2*$+1]+=R*Qe,D(N,2*U+2*$+1),N[2*U+2*$+1]+=j*we,D(N,2*U+2*$+1),N[2*U+2*$+2]+=R*we,D(N,2*U+2*$+2)}for(U=0;U<k;U++)N[U]=N[2*U+1]<<16|N[2*U];for(U=k;U<2*k;U++)N[U]=0;return new l(N,0)};function D(L,k){for(;(L[k]&65535)!=L[k];)L[k+1]+=L[k]>>>16,L[k]&=65535,k++}function M(L,k){this.g=L,this.h=k}function G(L,k){if(T(k))throw Error("division by zero");if(T(L))return new M(v,v);if(C(L))return k=G(b(L),k),new M(b(k.g),b(k.h));if(C(k))return k=G(L,b(k)),new M(b(k.g),k.h);if(30<L.g.length){if(C(L)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var N=_,U=k;0>=U.l(L);)N=Q(N),U=Q(U);var $=re(N,1),R=re(U,1);for(U=re(U,2),N=re(N,2);!T(U);){var j=R.add(U);0>=j.l(L)&&($=$.add(N),R=j),U=re(U,1),N=re(N,1)}return k=O(L,$.j(k)),new M($,k)}for($=v;0<=L.l(k);){for(N=Math.max(1,Math.floor(L.m()/k.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=m(N),j=R.j(k);C(j)||0<j.l(L);)N-=U,R=m(N),j=R.j(k);T(R)&&(R=_),$=$.add(R),L=O(L,j)}return new M($,L)}t.A=function(L){return G(this,L).h},t.and=function(L){for(var k=Math.max(this.g.length,L.g.length),N=[],U=0;U<k;U++)N[U]=this.i(U)&L.i(U);return new l(N,this.h&L.h)},t.or=function(L){for(var k=Math.max(this.g.length,L.g.length),N=[],U=0;U<k;U++)N[U]=this.i(U)|L.i(U);return new l(N,this.h|L.h)},t.xor=function(L){for(var k=Math.max(this.g.length,L.g.length),N=[],U=0;U<k;U++)N[U]=this.i(U)^L.i(U);return new l(N,this.h^L.h)};function Q(L){for(var k=L.g.length+1,N=[],U=0;U<k;U++)N[U]=L.i(U)<<1|L.i(U-1)>>>31;return new l(N,L.h)}function re(L,k){var N=k>>5;k%=32;for(var U=L.g.length-N,$=[],R=0;R<U;R++)$[R]=0<k?L.i(R+N)>>>k|L.i(R+N+1)<<32-k:L.i(R+N);return new l($,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,gi=l}).apply(typeof Qx<"u"?Qx:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,Tc,nT,oh,Eg,rT,sT,iT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,E){return d==Array.prototype||d==Object.prototype||(d[w]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var w=0;w<d.length;++w){var E=d[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var E=r;d=d.split(".");for(var A=0;A<d.length-1;A++){var q=d[A];if(!(q in E))break e;E=E[q]}d=d[d.length-1],A=E[d],w=w(A),w!=A&&w!=null&&e(E,d,{configurable:!0,writable:!0,value:w})}}function a(d,w){d instanceof String&&(d+="");var E=0,A=!1,q={next:function(){if(!A&&E<d.length){var Y=E++;return{value:w(Y,d[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function m(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function g(d,w,E){return d.call.apply(d.bind,arguments)}function v(d,w,E){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),d.apply(w,q)}}return function(){return d.apply(w,arguments)}}function _(d,w,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function I(d,w){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function T(d,w){function E(){}E.prototype=w.prototype,d.aa=w.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(A,q,Y){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return w.prototype[q].apply(A,ae)}}function C(d){const w=d.length;if(0<w){const E=Array(w);for(let A=0;A<w;A++)E[A]=d[A];return E}return[]}function b(d,w){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(h(A)){const q=d.length||0,Y=A.length||0;d.length=q+Y;for(let ae=0;ae<Y;ae++)d[q+ae]=A[ae]}else d.push(A)}}class O{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(d){return/^[\s\xa0]*$/.test(d)}function M(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var Q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function re(d,w,E){for(const A in d)w.call(E,d[A],A,d)}function L(d,w){for(const E in d)w.call(void 0,d[E],E,d)}function k(d){const w={};for(const E in d)w[E]=d[E];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,w){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)d[E]=A[E];for(let Y=0;Y<N.length;Y++)E=N[Y],Object.prototype.hasOwnProperty.call(A,E)&&(d[E]=A[E])}}function $(d){var w=1;d=d.split(":");const E=[];for(;0<w&&d.length;)E.push(d.shift()),w--;return d.length&&E.push(d.join(":")),E}function R(d){u.setTimeout(()=>{throw d},0)}function j(){var d=ge;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class we{constructor(){this.h=this.g=null}add(w,E){const A=Qe.get();A.set(w,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new O(()=>new De,d=>d.reset());class De{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,oe=!1,ge=new we,ue=()=>{const d=u.Promise.resolve(void 0);Me=()=>{d.then(B)}};var B=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(E){R(E)}var w=Qe;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}oe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,w),u.removeEventListener("test",E,w)}catch{}return d})();function Ne(d,w){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(Q){e:{try{G(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else E=="mouseover"?w=d.fromElement:E=="mouseout"&&(w=d.toElement);this.relatedTarget=w,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}T(Ne,ve);var je={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Ge(d,w,E,A,q){this.listener=d,this.proxy=null,this.src=w,this.type=E,this.capture=!!A,this.ha=q,this.key=++qe,this.da=this.fa=!1}function lt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ut(d){this.src=d,this.g={},this.h=0}Ut.prototype.add=function(d,w,E,A,q){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=Rs(d,w,A,q);return-1<ae?(w=d[ae],E||(w.fa=!1)):(w=new Ge(w,this.src,Y,!!A,q),w.fa=E,d.push(w)),w};function Mi(d,w){var E=w.type;if(E in d.g){var A=d.g[E],q=Array.prototype.indexOf.call(A,w,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(A,q,1),Y&&(lt(w),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Rs(d,w,E,A){for(var q=0;q<d.length;++q){var Y=d[q];if(!Y.da&&Y.listener==w&&Y.capture==!!E&&Y.ha==A)return q}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),Wo={};function El(d,w,E,A,q){if(Array.isArray(w)){for(var Y=0;Y<w.length;Y++)El(d,w[Y],E,A,q);return null}return E=Sl(E),d&&d[Be]?d.K(w,E,m(A)?!!A.capture:!1,q):bl(d,w,E,!1,A,q)}function bl(d,w,E,A,q,Y){if(!w)throw Error("Invalid event type");var ae=m(q)?!!q.capture:!!q,Ye=Ko(d);if(Ye||(d[Vi]=Ye=new Ut(d)),E=Ye.add(w,E,A,ae,Y),E.proxy)return E;if(A=Cu(),E.proxy=A,A.src=d,A.listener=E,d.addEventListener)ke||(q=ae),q===void 0&&(q=!1),d.addEventListener(w.toString(),A,q);else if(d.attachEvent)d.attachEvent(Xr(w.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Cu(){function d(E){return w.call(d.src,d.listener,E)}const w=Tl;return d}function Go(d,w,E,A,q){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)Go(d,w[Y],E,A,q);else A=m(A)?!!A.capture:!!A,E=Sl(E),d&&d[Be]?(d=d.i,w=String(w).toString(),w in d.g&&(Y=d.g[w],E=Rs(Y,E,A,q),-1<E&&(lt(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[w],d.h--)))):d&&(d=Ko(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Rs(w,E,A,q)),(E=-1<d?w[d]:null)&&Jr(E))}function Jr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Be])Mi(w.i,d);else{var E=d.type,A=d.proxy;w.removeEventListener?w.removeEventListener(E,A,d.capture):w.detachEvent?w.detachEvent(Xr(E),A):w.addListener&&w.removeListener&&w.removeListener(A),(E=Ko(w))?(Mi(E,d),E.h==0&&(E.src=null,w[Vi]=null)):lt(d)}}}function Xr(d){return d in Wo?Wo[d]:Wo[d]="on"+d}function Tl(d,w){if(d.da)d=!0;else{w=new Ne(w,this);var E=d.listener,A=d.ha||d.src;d.fa&&Jr(d),d=E.call(A,w)}return d}function Ko(d){return d=d[Vi],d instanceof Ut?d:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(d){return typeof d=="function"?d:(d[Qo]||(d[Qo]=function(w){return d.handleEvent(w)}),d[Qo])}function Pt(){X.call(this),this.i=new Ut(this),this.M=this,this.F=null}T(Pt,X),Pt.prototype[Be]=!0,Pt.prototype.removeEventListener=function(d,w,E,A){Go(this,d,w,E,A)};function kt(d,w){var E,A=d.F;if(A)for(E=[];A;A=A.F)E.push(A);if(d=d.M,A=w.type||w,typeof w=="string")w=new ve(w,d);else if(w instanceof ve)w.target=w.target||d;else{var q=w;w=new ve(A,d),U(w,q)}if(q=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ae=w.g=E[Y];q=Zr(ae,A,!0,w)&&q}if(ae=w.g=d,q=Zr(ae,A,!0,w)&&q,q=Zr(ae,A,!1,w)&&q,E)for(Y=0;Y<E.length;Y++)ae=w.g=E[Y],q=Zr(ae,A,!1,w)&&q}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var E=d.g[w],A=0;A<E.length;A++)lt(E[A]);delete d.g[w],d.h--}}this.F=null},Pt.prototype.K=function(d,w,E,A){return this.i.add(String(d),w,!1,E,A)},Pt.prototype.L=function(d,w,E,A){return this.i.add(String(d),w,!0,E,A)};function Zr(d,w,E,A){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,Y=0;Y<w.length;++Y){var ae=w[Y];if(ae&&!ae.da&&ae.capture==E){var Ye=ae.listener,Rt=ae.ha||ae.src;ae.fa&&Mi(d.i,ae),q=Ye.call(Rt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Il(d,w,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(d,w||0)}function Ns(d){d.g=Il(()=>{d.g=null,d.i&&(d.i=!1,Ns(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Li extends X{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(d){X.call(this),this.h=d,this.g={}}T(Fi,X);var Cl=[];function Al(d){re(d.g,function(w,E){this.g.hasOwnProperty(E)&&Jr(w)},d),d.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),Al(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pl=u.JSON.stringify,kl=u.JSON.parse,Rl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ui(){}Ui.prototype.h=null;function Yo(d){return d.h||(d.h=d.i())}function Jo(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ve.call(this,"d")}T(Ar,ve);function Xo(){ve.call(this,"c")}T(Xo,ve);var Pr={},Nl=null;function Bi(){return Nl=Nl||new Pt}Pr.La="serverreachability";function jl(d){ve.call(this,Pr.La,d)}T(jl,ve);function es(d){const w=Bi();kt(w,new jl(w))}Pr.STAT_EVENT="statevent";function Dl(d,w){ve.call(this,Pr.STAT_EVENT,d),this.stat=w}T(Dl,ve);function yt(d){const w=Bi();kt(w,new Dl(w,d))}Pr.Ma="timingevent";function Zo(d,w){ve.call(this,Pr.Ma,d),this.size=w}T(Zo,ve);function nr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},w)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function $i(d,w,E,A,q,Y){d.info(function(){if(d.g)if(Y)for(var ae="",Ye=Y.split("&"),Rt=0;Rt<Ye.length;Rt++){var ze=Ye[Rt].split("=");if(1<ze.length){var Ot=ze[0];ze=ze[1];var Et=Ot.split("_");ae=2<=Et.length&&Et[1]=="type"?ae+(Ot+"="+ze+"&"):ae+(Ot+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+w+`
`+E+`
`+ae})}function ea(d,w,E,A,q,Y,ae){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+w+`
`+E+`
`+Y+" "+ae})}function rr(d,w,E,A){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Kf(d,E)+(A?" "+A:"")})}function Ol(d,w){d.info(function(){return"TIMEOUT: "+w})}zi.prototype.info=function(){};function Kf(d,w){if(!d.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var A=E[d];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return Pl(E)}catch{return w}}var ta={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sr;function qi(){}T(qi,Ui),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},sr=new qi;function ir(d,w,E,A){this.j=d,this.i=w,this.l=E,this.R=A||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ml={},na={};function ra(d,w,E){d.L=1,d.v=Vs(Pn(w)),d.m=E,d.P=!0,Vl(d,null)}function Vl(d,w){d.F=Date.now(),Xe(d),d.A=Pn(d.v);var E=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Fs(E.i,"t",A),d.C=0,E=d.j.J,d.h=new Pu,d.g=Gu(d.j,E?w:null,!d.m),0<d.O&&(d.M=new Li(_(d.Y,d,d.g),d.O)),w=d.U,E=d.g,A=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Cl[0]=q.toString()),q=Cl);for(var Y=0;Y<q.length;Y++){var ae=El(E,q[Y],A||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),es(),$i(d.i,d.u,d.A,d.l,d.R,d.m)}ir.prototype.ca=function(d){d=d.target;const w=this.M;w&&mn(d)==3?w.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const Et=mn(this.g);var w=this.g.Ba();const $n=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Et!=4||w==7||(w==8||0>=$n?es(3):es(2)),Hi(this);var E=this.g.Z();this.X=E;t:if(ku(this)){var A=$l(this.g);d="";var q=A.length,Y=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),js(this);var ae="";break t}this.h.i=new u.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,d+=this.h.i.decode(A[w],{stream:!(Y&&w==q-1)});A.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,ea(this.i,this.u,this.A,this.l,this.R,Et,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Rt=this.g;if((Ye=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ye)){var ze=Ye;break t}}ze=null}if(E=ze)rr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ll(this,E);else{this.o=!1,this.s=3,yt(12),Bn(this),js(this);break e}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<ae.length;)if(Rn=Qf(this,ae),Rn==na){Et==4&&(this.s=4,yt(14),E=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Ml){this.s=4,yt(15),rr(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else rr(this.i,this.l,Rn,null),Ll(this,Rn);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)rr(this.i,this.l,ae,"[Invalid Chunked Response]"),Bn(this),js(this);else if(0<ae.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Hl(Ot),Ot.M=!0,yt(11))}}else rr(this.i,this.l,ae,null),Ll(this,ae);Et==4&&Bn(this),this.o&&!this.J&&(Et==4?pa(this.j,this):(this.o=!1,Xe(this)))}else ca(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Bn(this),js(this)}}}catch{}finally{}};function ku(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Qf(d,w){var E=d.C,A=w.indexOf(`
`,E);return A==-1?na:(E=Number(w.substring(E,A)),isNaN(E)?Ml:(A+=1,A+E>w.length?na:(w=w.slice(A,A+E),d.C=A+E,w)))}ir.prototype.cancel=function(){this.J=!0,Bn(this)};function Xe(d){d.S=Date.now()+d.I,Ru(d,d.I)}function Ru(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nr(_(d.ba,d),w)}function Hi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}ir.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ol(this.i,this.A),this.L!=2&&(es(),yt(17)),Bn(this),this.s=2,js(this)):Ru(this,this.S-d)};function js(d){d.j.G==0||d.J||pa(d.j,d)}function Bn(d){Hi(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Al(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Ll(d,w){try{var E=d.j;if(E.G!=0&&(E.g==d||on(E.h,d))){if(!d.K&&on(E.h,d)&&E.G==3){try{var A=E.Da.g.parse(w)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)fa(E),ur(E);else break e;ha(E),yt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=nr(_(E.Za,E),6e3));if(1>=ju(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else is(E,11)}else if((d.K||E.g==d)&&fa(E),!D(w))for(q=E.Da.g.parse(w),w=0;w<q.length;w++){let ze=q[w];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Ot=ze[3];Ot!=null&&(E.la=Ot,E.j.info("VER="+E.la));const Et=ze[4];Et!=null&&(E.Aa=Et,E.j.info("SVER="+E.Aa));const $n=ze[5];$n!=null&&typeof $n=="number"&&0<$n&&(A=1.5*$n,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Rn=d.g;if(Rn){const Xi=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var Y=A.h;Y.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fl(Y,Y.h),Y.h=null))}if(A.D){const ga=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.ya=ga,Je(A.I,A.D,ga))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ae=d;if(A.qa=Wu(A,A.J?A.ia:null,A.W),ae.K){Du(A.h,ae);var Ye=ae,Rt=A.L;Rt&&(Ye.I=Rt),Ye.B&&(Hi(Ye),Xe(Ye)),A.g=ae}else Ji(A);0<E.i.length&&jr(E)}else ze[0]!="stop"&&ze[0]!="close"||is(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?is(E,7):zt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}es(4)}catch{}}var Nu=class{constructor(d,w){this.g=d,this.map=w}};function Wi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function An(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ju(d){return d.h?1:d.g?d.g.size:0}function on(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Fl(d,w){d.g?d.g.add(w):d.h=w}function Du(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Wi.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ou(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const E of d.g.values())w=w.concat(E.D);return w}return C(d.i)}function sa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var w=[],E=d.length,A=0;A<E;A++)w.push(d[A]);return w}w=[],E=0;for(A in d)w[E++]=d[A];return w}function ia(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var w=[];d=d.length;for(var E=0;E<d;E++)w.push(E);return w}w=[],E=0;for(const A in d)w[E++]=A;return w}}}function Ds(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var E=ia(d),A=sa(d),q=A.length,Y=0;Y<q;Y++)w.call(void 0,A[Y],E&&E[Y],d)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(d,w){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var A=d[E].indexOf("="),q=null;if(0<=A){var Y=d[E].substring(0,A);q=d[E].substring(A+1)}else Y=d[E];w(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ts(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ts){this.h=d.h,Ki(this,d.j),this.o=d.o,this.g=d.g,Os(this,d.s),this.l=d.l;var w=d.i,E=new kr;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),Ms(this,E),this.m=d.m}else d&&(w=String(d).match(Gi))?(this.h=!1,Ki(this,w[1]||"",!0),this.o=Ue(w[2]||""),this.g=Ue(w[3]||"",!0),Os(this,w[4]),this.l=Ue(w[5]||"",!0),Ms(this,w[6]||"",!0),this.m=Ue(w[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}ts.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Ls(w,oa,!0),":");var E=this.g;return(E||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Ls(w,oa,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ls(E,E.charAt(0)=="/"?Lu:Vu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ls(E,Ul)),d.join("")};function Pn(d){return new ts(d)}function Ki(d,w,E){d.j=E?Ue(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Os(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function Ms(d,w,E){w instanceof kr?(d.i=w,Rr(d.i,d.h)):(E||(w=Ls(w,Fu)),d.i=new kr(w,d.h))}function Je(d,w,E){d.i.set(w,E)}function Vs(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ls(d,w,E){return typeof d=="string"?(d=encodeURI(d).replace(w,Mu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Mu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oa=/[#\/\?@]/g,Vu=/[#\?:]/g,Lu=/[#\?]/g,Fu=/[#\?@]/g,Ul=/#/g;function kr(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Bt(d){d.g||(d.g=new Map,d.h=0,d.i&&Yf(d.i,function(w,E){d.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=kr.prototype,t.add=function(d,w){Bt(this),this.i=null,d=zn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(w),this.h+=1,this};function or(d,w){Bt(d),w=zn(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ar(d,w){return Bt(d),w=zn(d,w),d.g.has(w)}t.forEach=function(d,w){Bt(this),this.g.forEach(function(E,A){E.forEach(function(q){d.call(w,q,A,this)},this)},this)},t.na=function(){Bt(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let A=0;A<w.length;A++){const q=d[A];for(let Y=0;Y<q.length;Y++)E.push(w[A])}return E},t.V=function(d){Bt(this);let w=[];if(typeof d=="string")ar(this,d)&&(w=w.concat(this.g.get(zn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)w=w.concat(d[E])}return w},t.set=function(d,w){return Bt(this),this.i=null,d=zn(this,d),ar(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Fs(d,w,E){or(d,w),0<E.length&&(d.i=null,d.g.set(zn(d,w),C(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var A=w[E];const Y=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var q=Y;ae[A]!==""&&(q+="="+encodeURIComponent(String(ae[A]))),d.push(q)}}return this.i=d.join("&")};function zn(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Rr(d,w){w&&!d.j&&(Bt(d),d.i=null,d.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(or(this,A),Fs(this,q,E))},d)),d.j=w}function Jf(d,w){const E=new zi;if(u.Image){const A=new Image;A.onload=I(pn,E,"TestLoadImage: loaded",!0,w,A),A.onerror=I(pn,E,"TestLoadImage: error",!1,w,A),A.onabort=I(pn,E,"TestLoadImage: abort",!1,w,A),A.ontimeout=I(pn,E,"TestLoadImage: timeout",!1,w,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else w(!1)}function Uu(d,w){const E=new zi,A=new AbortController,q=setTimeout(()=>{A.abort(),pn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:A.signal}).then(Y=>{clearTimeout(q),Y.ok?pn(E,"TestPingServer: ok",!0,w):pn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),pn(E,"TestPingServer: error",!1,w)})}function pn(d,w,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Xf(){this.g=new Rl}function Bu(d,w,E){const A=E||"";try{Ds(d,function(q,Y){let ae=q;m(q)&&(ae=Pl(q)),w.push(A+Y+"="+encodeURIComponent(ae))})}catch(q){throw w.push(A+"type="+encodeURIComponent("_badmap")),q}}function ns(d){this.l=d.Ub||null,this.j=d.eb||!1}T(ns,Ui),ns.prototype.g=function(){return new Qi(this.l,this.j)},ns.prototype.i=(function(d){return function(){return d}})({});function Qi(d,w){Pt.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Qi,Pt),t=Qi.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,cr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function zu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?lr(this):cr(this),this.readyState==3&&zu(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,lr(this))},t.Qa=function(d){this.g&&(this.response=d,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,cr(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=w.next();return d.join(`\r
`)};function cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rs(d){let w="";return re(d,function(E,A){w+=A,w+=":",w+=E,w+=`\r
`}),w}function Us(d,w,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=rs(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Je(d,w,E))}function it(d){Pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(it,Pt);var Zf=/^https?$/i,Bl=["POST","PUT"];t=it.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sr.g(),this.v=this.o?Yo(this.o):Yo(sr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(Y){Yi(this,Y);return}if(d=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Bl,w,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Yi(this,Y)}};function Yi(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,aa(d),kn(d)}function aa(d){d.A||(d.A=!0,kt(d,"complete"),kt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,kt(this,"complete"),kt(this,"abort"),kn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},t.bb=function(){zl(this)};function zl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||mn(d)!=4||d.Z()!=2)){if(d.u&&mn(d)==4)Il(d.Ea,0,d);else if(kt(d,"readystatechange"),mn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var A;if(A=ae===0){var q=String(d.D).match(Gi)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),A=!Zf.test(q?q.toLowerCase():"")}E=A}if(E)kt(d,"complete"),kt(d,"success");else{d.m=6;try{var Y=2<mn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",aa(d)}}finally{kn(d)}}}}function kn(d,w){if(d.g){la(d);const E=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||kt(d,"ready");try{E.onreadystatechange=A}catch{}}}function la(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function mn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),kl(w)}};function $l(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(d){const w={};d=(d.g&&2<=mn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(D(d[A]))continue;var E=$(d[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=w[q]||[];w[q]=Y,Y.push(E)}L(w,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(d,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||w}function ql(d){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,d),this.cb=Nr("retryDelaySeedMs",1e4,d),this.Wa=Nr("forwardChannelMaxRetries",2,d),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(d&&d.concurrentRequestLimit),this.Da=new Xf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(d,w,E,A){yt(0),this.W=d,this.H=w||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Wu(this,null,this.W),jr(this)};function zt(d){if(ua(d),d.G==3){var w=d.U++,E=Pn(d.I);if(Je(E,"SID",d.K),Je(E,"RID",w),Je(E,"TYPE","terminate"),ss(d,E),w=new ir(d,d.j,w),w.L=2,w.v=Vs(Pn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=w.v,E=!0),E||(w.g=Gu(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Xe(w)}Hu(d)}function ur(d){d.g&&(Hl(d),d.g.cancel(),d.g=null)}function ua(d){ur(d),d.u&&(u.clearTimeout(d.u),d.u=null),fa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function jr(d){if(!An(d.h)&&!d.s){d.s=!0;var w=d.Ga;Me||ue(),oe||(Me(),oe=!0),ge.add(w,d),d.B=0}}function ep(d,w){return ju(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nr(_(d.Ga,d,w),qu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new ir(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=k(Y),U(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(w+=A,4096<w){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Bs(this,q,w),E=Pn(this.I),Je(E,"RID",d),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),ss(this,E),Y&&(this.O?w="headers="+encodeURIComponent(String(rs(Y)))+"&"+w:this.m&&Us(E,this.m,Y)),Fl(this.h,q),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",w),Je(E,"SID","null"),q.T=!0,ra(q,E,null)):ra(q,E,w),this.G=2}}else this.G==3&&(d?da(this,d):this.i.length==0||An(this.h)||da(this))};function da(d,w){var E;w?E=w.l:E=d.U++;const A=Pn(d.I);Je(A,"SID",d.K),Je(A,"RID",E),Je(A,"AID",d.T),ss(d,A),d.m&&d.o&&Us(A,d.m,d.o),E=new ir(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Bs(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Fl(d.h,E),ra(E,A,w)}function ss(d,w){d.H&&re(d.H,function(E,A){Je(w,A,E)}),d.l&&Ds({},function(E,A){Je(w,A,E)})}function Bs(d,w,E){E=Math.min(d.i.length,E);var A=d.l?_(d.l.Na,d.l,d):null;e:{var q=d.i;let Y=-1;for(;;){const ae=["count="+E];Y==-1?0<E?(Y=q[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ye=!0;for(let Rt=0;Rt<E;Rt++){let ze=q[Rt].g;const Ot=q[Rt].map;if(ze-=Y,0>ze)Y=Math.max(0,q[Rt].g-100),Ye=!1;else try{Bu(Ot,ae,"req"+ze+"_")}catch{A&&A(Ot)}}if(Ye){A=ae.join("&");break e}}}return d=d.i.splice(0,E),w.D=d,A}function Ji(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;Me||ue(),oe||(Me(),oe=!0),ge.add(w,d),d.v=0}}function ha(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nr(_(d.Fa,d),qu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nr(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ur(this),$u(this))};function Hl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function $u(d){d.g=new ir(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Pn(d.qa);Je(w,"RID","rpc"),Je(w,"SID",d.K),Je(w,"AID",d.T),Je(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(w,"TO",d.ja),Je(w,"TYPE","xmlhttp"),ss(d,w),d.m&&d.o&&Us(w,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Vs(Pn(w)),E.m=null,E.P=!0,Vl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,ur(this),ha(this),yt(19))};function fa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function pa(d,w){var E=null;if(d.g==w){fa(d),Hl(d),d.g=null;var A=2}else if(on(d.h,w))E=w.D,Du(d.h,w),A=1;else return;if(d.G!=0){if(w.o)if(A==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var q=d.B;A=Bi(),kt(A,new Zo(A,E)),jr(d)}else Ji(d);else if(q=w.s,q==3||q==0&&0<w.X||!(A==1&&ep(d,w)||A==2&&ha(d)))switch(E&&0<E.length&&(w=d.h,w.i=w.i.concat(E)),q){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function qu(d,w){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*w}function is(d,w){if(d.j.info("Error code "+w),w==2){var E=_(d.fb,d),A=d.Xa;const q=!A;A=new ts(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ki(A,"https"),Vs(A),q?Jf(A.toString(),E):Uu(A.toString(),E)}else yt(2);d.G=0,d.l&&d.l.sa(w),Hu(d),ua(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Hu(d){if(d.G=0,d.ka=[],d.l){const w=Ou(d.h);(w.length!=0||d.i.length!=0)&&(b(d.ka,w),b(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Wu(d,w,E){var A=E instanceof ts?Pn(E):new ts(E);if(A.g!="")w&&(A.g=w+"."+A.g),Os(A,A.s);else{var q=u.location;A=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var Y=new ts(null);A&&Ki(Y,A),w&&(Y.g=w),q&&Os(Y,q),E&&(Y.l=E),A=Y}return E=d.D,w=d.ya,E&&w&&Je(A,E,w),Je(A,"VER",d.la),ss(d,A),A}function Gu(d,w,E){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new it(new ns({eb:E})):new it(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}t=Wl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ma(){}ma.prototype.g=function(d,w){return new an(d,w)};function an(d,w){Pt.call(this),this.g=new ql(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!D(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Dr(this)}T(an,Pt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){zt(this.g)},an.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Pl(d),d=E);w.i.push(new Nu(w.Ya++,d)),w.G==3&&jr(w)},an.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,an.aa.N.call(this)};function Ku(d){Ar.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const E in w){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}T(Ku,Ar);function Qu(){Xo.call(this),this.status=1}T(Qu,Xo);function Dr(d){this.g=d}T(Dr,Wl),Dr.prototype.ua=function(){kt(this.g,"a")},Dr.prototype.ta=function(d){kt(this.g,new Ku(d))},Dr.prototype.sa=function(d){kt(this.g,new Qu)},Dr.prototype.ra=function(){kt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iT=function(){return new ma},sT=function(){return Bi()},rT=Pr,Eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,oh=ta,Au.COMPLETE="complete",nT=Au,Jo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Tc=Jo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,tT=it}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});const Yx="@firebase/firestore",Jx="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new sf("@firebase/firestore");function Fa(){return ko.logLevel}function he(t,...e){if(ko.logLevel<=Ve.DEBUG){const n=e.map(Ry);ko.debug(`Firestore (${ml}): ${t}`,...n)}}function Is(t,...e){if(ko.logLevel<=Ve.ERROR){const n=e.map(Ry);ko.error(`Firestore (${ml}): ${t}`,...n)}}function Za(t,...e){if(ko.logLevel<=Ve.WARN){const n=e.map(Ry);ko.warn(`Firestore (${ml}): ${t}`,...n)}}function Ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oT(t,r,n)}function oT(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Is(r),new Error(r)}function Ke(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oT(e,i,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class UD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new aT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class zD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=HD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function bg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return jm(i)===jm(a)?Le(i,a):jm(i)?1:-1}return Le(t.length,e.length)}const WD=55296,GD=57343;function jm(t){const e=t.charCodeAt(0);return e>=WD&&e<=GD}function el(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__name__";class Ur{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ur.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const r=Ur.isNumericId(e),i=Ur.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class et extends Ur{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ur{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zx}static keyField(){return new Gt([Zx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(et.fromString(e))}static fromName(e){return new xe(et.fromString(e).popFirst(5))}static empty(){return new xe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QD(t,e,n,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e_(t){if(!xe.isDocumentKey(t))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t_(t){if(xe.isDocumentKey(t))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(t);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function hu(t,e){if(!cT(t))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*r_);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n_)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function YD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Ei(i,xe.empty(),e)}function JD(t){return new Ei(t.readTime,t.key,Hc)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(Ae.min(),xe.empty(),Hc)}static max(){return new Ei(Ae.max(),xe.empty(),Hc)}}function XD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==ZD)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(h=>r(h)))})),l=!0,a===i&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((i=>i?ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const m=h;n(e[m]).next((g=>{l[m]=g,++u,u===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new ee(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function tO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-1;function df(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function nO(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="";function rO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s_(e)),e=sO(t.get(n),e);return s_(e)}function sO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uT:n+="";break;default:n+=a}}return n}function s_(t){return t+uT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Dt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hT("Invalid base64 string: "+a):a}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const iO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=iO.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="server_timestamp",pT="__type__",mT="__previous_value__",gT="__local_write_time__";function Dy(t){return(t?.mapValue?.fields||{})[pT]?.stringValue===fT}function hf(t){const e=t.mapValue.fields[mT];return Dy(e)?hf(e):e}function Wc(t){const e=bi(t.mapValue.fields[gT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,i,a,l,u,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const Rh="(default)";class Gc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__type__",aO="__max__",Kd={mapValue:{}},vT="__vector__",Nh="value";function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:cO(t)?9007199254740991:lO(t)?10:11:Se(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bi(i.timestampValue),u=bi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ti(i.bytesValue).isEqual(Ti(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=wt(i.doubleValue),u=wt(a.doubleValue);return l===u?kh(l)===kh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(i_(l)!==i_(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Qr(l[h],u[h])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find((n=>Qr(n,e)))!==void 0}function tl(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=wt(a.integerValue||a.doubleValue),h=wt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(Wc(t),Wc(e));case 5:return bg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Ti(a),h=Ti(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Le(u[m],h[m]);if(g!==0)return g}return Le(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Le(wt(a.latitude),wt(l.latitude));return u!==0?u:Le(wt(a.longitude),wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return l_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},h=l.fields||{},m=u[Nh]?.arrayValue,g=h[Nh]?.arrayValue,v=Le(m?.values?.length||0,g?.values?.length||0);return v!==0?v:l_(m,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Kd.mapValue&&l===Kd.mapValue)return 0;if(a===Kd.mapValue)return 1;if(l===Kd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),m=l.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const _=bg(h[v],g[v]);if(_!==0)return _;const I=tl(u[h[v]],m[g[v]]);if(I!==0)return I}return Le(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=bi(t),r=bi(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function l_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=tl(n[i],r[i]);if(a)return a}return Le(n.length,r.length)}function nl(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ti(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Tg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Tg(n.fields[l])}`;return i+"}"})(t.mapValue):Se(61005,{value:t})}function ah(t){switch(Si(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(t);return e?16+ah(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ah(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ji(r.fields,((a,l)=>{i+=a.length+ah(l)})),i})(t.mapValue);default:throw Se(13486,{value:t})}}function c_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sg(t){return!!t&&"integerValue"in t}function Oy(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function d_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function lO(t){return(t?.mapValue?.fields||{})[yT]?.stringValue===vT}function Rc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Rc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return{...t}}function cO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Rc(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new bn(Rc(this.value))}}function wT(t){const e=[];return ji(t.fields,((n,r)=>{const i=new Gt([n]);if(lh(r)){const a=wT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function h_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=tl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class Ct extends xT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hO(e,n,r):n==="array-contains"?new mO(e,r):n==="in"?new gO(e,r):n==="not-in"?new yO(e,r):n==="array-contains-any"?new vO(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fO(e,r):new pO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tl(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tr(e,n)}matches(e){return _T(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _T(t){return t.op==="and"}function ET(t){return dO(t)&&_T(t)}function dO(t){for(const e of t.filters)if(e instanceof Tr)return!1;return!0}function Ig(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(ET(t))return t.filters.map((e=>Ig(e))).join(",");{const e=t.filters.map((n=>Ig(n))).join(",");return`${t.op}(${e})`}}function bT(t,e){return t instanceof Ct?(function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)})(t,e):t instanceof Tr?(function(r,i){return i instanceof Tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&bT(l,i.filters[u])),!0):!1})(t,e):void Se(19439)}function TT(t){return t instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(t):t instanceof Tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(TT).join(" ,")+"}"})(t):"Filter"}class hO extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fO extends Ct{constructor(e,n){super(e,"in",n),this.keys=ST("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pO extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=ST("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ST(t,e){return(e.arrayValue?.values||[]).map((n=>xe.fromName(n.referenceValue)))}class mO extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oy(n)&&Kc(n.arrayValue,this.value)}}class gO extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class yO extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class vO extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function p_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new wO(t,e,n,r,i,a,l)}function My(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ig(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nl(r))).join(",")),e.Te=n}return e.Te}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function Cg(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xO(t,e,n,r,i,a,l,u){return new vl(t,e,n,r,i,a,l,u)}function ff(t){return new vl(t)}function m_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IT(t){return t.collectionGroup!==null}function Nc(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Dt(Gt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Qc(a,r))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Qc(Gt.keyField(),r))}return e.Ie}function $r(t){const e=Pe(t);return e.Ee||(e.Ee=_O(e,Nc(t))),e.Ee}function _O(t,e){if(t.limitType==="F")return p_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Qc(i.field,a)}));const n=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;return p_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ag(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pg(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return Vy($r(t),$r(e))&&t.limitType===e.limitType}function CT(t){return`${My($r(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>TT(i))).join(", ")}]`),df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nl(i))).join(",")),`Target(${r})`})($r(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Nc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,h){const m=h_(l,u,h);return l.inclusive?m<=0:m<0})(r.startAt,Nc(r),i)||r.endAt&&!(function(l,u,h){const m=h_(l,u,h);return l.inclusive?m>=0:m>0})(r.endAt,Nc(r),i))})(t,e)}function EO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AT(t){return(e,n)=>{let r=!1;for(const i of Nc(t)){const a=bO(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function bO(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):(function(a,l,u){const h=l.data.field(a),m=u.data.field(a);return h!==null&&m!==null?tl(h,m):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new ht(xe.comparator);function Cs(){return TO}const PT=new ht(xe.comparator);function Sc(...t){let e=PT;for(const n of t)e=e.insert(n.key,n);return e}function kT(t){let e=PT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xo(){return jc()}function RT(){return jc()}function jc(){return new Uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SO=new ht(xe.comparator),IO=new Dt(xe.comparator);function Fe(...t){let e=IO;for(const n of t)e=e.add(n);return e}const CO=new Dt(Le);function AO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function NT(t){return{integerValue:""+t}}function PO(t,e){return nO(e)?NT(e):Ly(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function kO(t,e,n){return t instanceof Yc?(function(i,a){const l={fields:{[pT]:{stringValue:fT},[gT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Dy(a)&&(a=hf(a)),a&&(l.fields[mT]=a),{mapValue:l}})(n,e):t instanceof Jc?DT(t,e):t instanceof Xc?OT(t,e):(function(i,a){const l=jT(i,a),u=g_(l)+g_(i.Ae);return Sg(l)&&Sg(i.Ae)?NT(u):Ly(i.serializer,u)})(t,e)}function RO(t,e,n){return t instanceof Jc?DT(t,e):t instanceof Xc?OT(t,e):n}function jT(t,e){return t instanceof Dh?(function(r){return Sg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Yc extends gf{}class Jc extends gf{constructor(e){super(),this.elements=e}}function DT(t,e){const n=MT(e);for(const r of t.elements)n.some((i=>Qr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xc extends gf{constructor(e){super(),this.elements=e}}function OT(t,e){let n=MT(e);for(const r of t.elements)n=n.filter((i=>!Qr(i,r)));return{arrayValue:{values:n}}}class Dh extends gf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g_(t){return wt(t.integerValue||t.doubleValue)}function MT(t){return Oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.field=e,this.transform=n}}function jO(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof Xc&&i instanceof Xc?el(r.elements,i.elements,Qr):r instanceof Dh&&i instanceof Dh?Qr(r.Ae,i.Ae):r instanceof Yc&&i instanceof Yc})(t.transform,e.transform)}class DO{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yf{}function VT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FT(t.key,Er.none()):new fu(t.key,t.data,Er.none());{const n=t.data,r=bn.empty();let i=new Dt(Gt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Di(t.key,r,new Vn(i.toArray()),Er.none())}}function OO(t,e,n){t instanceof fu?(function(i,a,l){const u=i.value.clone(),h=v_(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Di?(function(i,a,l){if(!ch(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=v_(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(LT(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Dc(t,e,n,r){return t instanceof fu?(function(a,l,u,h){if(!ch(a.precondition,l))return u;const m=a.value.clone(),g=w_(a.fieldTransforms,h,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Di?(function(a,l,u,h){if(!ch(a.precondition,l))return u;const m=w_(a.fieldTransforms,h,l),g=l.data;return g.setAll(LT(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return ch(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function MO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=jT(r.transform,i||null);a!=null&&(n===null&&(n=bn.empty()),n.set(r.field,a))}return n||null}function y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&el(r,i,((a,l)=>jO(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fu extends yf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends yf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function v_(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,RO(l,u,n[i]))}return r}function w_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,kO(a,l,e))}return r}class FT extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OO(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const h=VT(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((n,r)=>y_(n,r)))&&el(this.baseMutations,e.baseMutations,((n,r)=>y_(n,r)))}}class Fy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return SO})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Fy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,$e;function BO(t){switch(t){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function UT(t){if(t===void 0)return Is("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Tt.OK:return Z.OK;case Tt.CANCELLED:return Z.CANCELLED;case Tt.UNKNOWN:return Z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Z.INTERNAL;case Tt.UNAVAILABLE:return Z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Z.NOT_FOUND;case Tt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Tt.ABORTED:return Z.ABORTED;case Tt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Tt.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:t})}}($e=Tt||(Tt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new gi([4294967295,4294967295],0);function x_(t){const e=zO().encode(t),n=new eT;return n.update(e),new Uint8Array(n.digest())}function __(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,a],0)]}class Uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare($O)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x_(e),[r,i]=__(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Uy(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=x_(e),[r,i]=__(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vf(Ae.min(),i,new ht(Le),Cs(),Fe())}}class pu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class BT{constructor(e,n){this.targetId=e,this.Ce=n}}class zT{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class E_{constructor(){this.ve=0,this.Fe=b_(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se(38017,{changeType:a})}})),new pu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=b_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=Qd(),this.He=Qd(),this.Ye=new ht(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Cg(a))if(r===0){const l=new xe(a.path);this.et(n,l,nn.newNoDocument(l,Ae.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=Ti(r).toUint8Array()}catch(h){if(h instanceof hT)return Za("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Uy(l,i,a)}catch(h){return Za(h instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Cg(u.target)){const h=new xe(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,nn.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Fe();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new vf(e,n,this.Ye,this.je,r);return this.je=Cs(),this.Je=Qd(),this.He=Qd(),this.Ye=new ht(Le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new E_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new E_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new ht(xe.comparator)}function b_(){return new ht(xe.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},WO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class KO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(t,e){return t.useProto3Json||df(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $T(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QO(t,e){return Oh(t,e.toTimestamp())}function qr(t){return Ke(!!t,49232),Ae.fromTimestamp((function(n){const r=bi(n);return new st(r.seconds,r.nanos)})(t))}function By(t,e){return Rg(t,e).canonicalString()}function Rg(t,e){const n=(function(i){return new et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qT(t){const e=et.fromString(t);return Ke(QT(e),10190,{key:e.toString()}),e}function Ng(t,e){return By(t.databaseId,e.path)}function Dm(t,e){const n=qT(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(WT(n))}function HT(t,e){return By(t.databaseId,e)}function YO(t){const e=qT(t);return e.length===4?et.emptyPath():WT(e)}function jg(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WT(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function T_(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function JO(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),Kt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Kt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const g=m.code===void 0?Z.UNKNOWN:UT(m.code);return new ce(g,m.message||"")})(l);n=new zT(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dm(t,r.document.name),a=qr(r.document.updateTime),l=r.document.createTime?qr(r.document.createTime):Ae.min(),u=new bn({mapValue:{fields:r.document.fields}}),h=nn.newFoundDocument(i,a,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];n=new uh(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dm(t,r.document),a=r.readTime?qr(r.readTime):Ae.min(),l=nn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new uh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dm(t,r.document),a=r.removedTargetIds||[];n=new uh([],a,i,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new UO(i,a),u=r.targetId;n=new BT(u,l)}}return n}function XO(t,e){let n;if(e instanceof fu)n={update:T_(t,e.key,e.value)};else if(e instanceof FT)n={delete:Ng(t,e.key)};else if(e instanceof Di)n={update:T_(t,e.key,e.data),updateMask:a4(e.fieldMask)};else{if(!(e instanceof VO))return Se(16599,{Vt:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Yc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Se(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:QO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)})(t,e.precondition)),n}function ZO(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?qr(i.updateTime):qr(a);return l.isEqual(Ae.min())&&(l=qr(a)),new DO(l,i.transformResults||[])})(n,e)))):[]}function e4(t,e){return{documents:[HT(t,e.path)]}}function t4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HT(t,i);const a=(function(m){if(m.length!==0)return KT(Tr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ba(_.field),direction:s4(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=kg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function n4(t){let e=YO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const _=GT(v);return _ instanceof Tr&&ET(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((_=>(function(T){return new Qc(za(T.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let _;return _=typeof v=="object"?v.value:v,df(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(v){const _=!!v.before,I=v.values||[];return new jh(I,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,I=v.values||[];return new jh(I,_)})(n.endAt)),xO(e,i,l,a,u,"F",h,m)}function r4(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=za(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=za(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ct.create(za(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Tr.create(n.compositeFilter.filters.map((r=>GT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function s4(t){return HO[t]}function i4(t){return WO[t]}function o4(t){return GO[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function za(t){return Gt.fromServerFormat(t.fieldPath)}function KT(t){return t instanceof Ct?(function(n){if(n.op==="=="){if(d_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:i4(n.op),value:n.value}}})(t):t instanceof Tr?(function(n){const r=n.getFilters().map((i=>KT(i)));return r.length===1?r[0]:{compositeFilter:{op:o4(n.op),filters:r}}})(t):Se(54877,{filter:t})}function a4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,i,a=Ae.min(),l=Ae.min(),u=Kt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.yt=e}}function c4(t){const e=n4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.Cn=new d4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ei.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class d4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(YT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rl(0)}static cr(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",h4=1048576;function C_([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class f4{constructor(e){this.Ir=e,this.buffer=new Dt(C_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?he(I_,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)}))}}class m4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(uf.ce);const r=new f4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(S_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Fa()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${v} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function g4(t,e){return new m4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.changes=new Uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Dc(r.mutation,i,Vn.empty(),st.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const i=xo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Sc();return a.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Cs();const l=jc(),u=(function(){return jc()})();return n.forEach(((h,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Di)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),Dc(g.mutation,m,g.mutation.getFieldMask(),st.now())):l.set(m.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((m,g)=>l.set(m,g))),n.forEach(((m,g)=>u.set(m,new v4(g,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new ht(((l,u)=>l-u)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Vn.empty();g=u.applyToLocalView(m,g),r.set(h,g);const v=(i.get(u.batchId)||Fe()).add(h);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,v=RT();g.forEach((_=>{if(!a.has(_)){const I=VT(n.get(_),r.get(_));I!==null&&v.set(_,I),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ee.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(xo());let u=Hc,h=a;return l.next((m=>ee.forEach(m,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,h,m,Fe()))).next((g=>({batchId:u,changes:kT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Sc();return this.indexManager.getCollectionParents(e,a).next((u=>ee.forEach(u,(h=>{const m=(function(v,_){return new vl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((h,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,nn.newInvalidDocument(g)))}));let u=Sc();return l.forEach(((h,m)=>{const g=a.get(h);g!==void 0&&Dc(g.mutation,m,Vn.empty(),st.now()),mf(n,m)&&(u=u.insert(h,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:c4(i.bundledQuery),readTime:qr(i.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.overlays=new ht(xe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return ee.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=xo(),a=n.length+1,l=new xe(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ht(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=xo(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=xo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=i)););return ee.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FO(n,r));let a=this.qr.get(n);a===void 0&&(a=Fe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Qr=new Dt(Ft.$r),this.Ur=new Dt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new xe(new et([])),r=new Ft(n,e),i=new Ft(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new et([])),r=new Ft(n,e),i=new Ft(n,e+1);let a=Fe();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Ft.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new LO(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Ft(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jy:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Le);return n.forEach((i=>{const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new xe(a),0);let u=new Dt(Le);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(h.Yr)),!0)}),l),ee.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(i=>{const a=new Ft(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ft(n,0),i=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.ri=e,this.docs=(function(){return new ht(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Cs();const l=n.path,u=new xe(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||XD(JD(g),r)<=0||(i.has(g.key)||mf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Se(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new S4(this)}getSize(e){return ee.resolve(this.size)}}class S4 extends y4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.si=new Uo((n=>My(n)),Vy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new zy,this.targetCount=0,this.ai=rl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ee.waitFor(a).next((()=>i))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.ui={},this.overlays={},this.ci=new uf(0),this.li=!1,this.li=!0,this.hi=new E4,this.referenceDelegate=e(this),this.Pi=new I4(this),this.indexManager=new u4,this.remoteDocumentCache=(function(i){return new T4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new l4(n),this.Ii=new x4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new b4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new C4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class C4 extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.Ri=new zy,this.Vi=null}static mi(e){return new $y(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const i=xe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new Uo((r=>rO(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=g4(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ee.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,Ae.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Fe(),i=Fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Xk()?8:tO(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new A4;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fa()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Fa()<=Ve.DEBUG&&he("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fa()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):ee.resolve())}ys(e,n){if(m_(n))return ee.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Pg(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Fe(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const m=this.Ds(n,u);return this.Cs(n,m,l,h.readTime)?this.ys(e,Pg(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,r,i){return m_(n)||i.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ee.resolve(null):(Fa()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.vs(e,l,n,YD(i,Hc)).next((u=>u)))}))}Ds(e,n){let r=new Dt(AT(e));return n.forEach(((i,a)=>{mf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Fa()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ps.getDocumentsMatchingQuery(e,n,Ei.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="LocalStore",k4=3e8;class R4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ht(Le),this.xs=new Uo((a=>My(a)),Vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function N4(t,e,n,r){return new R4(t,e,n,r)}async function XT(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let h=Fe();for(const m of i){l.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function j4(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,m,g){const v=m.batch,_=v.keys();let I=ee.resolve();return _.forEach((T=>{I=I.next((()=>g.getEntry(h,T))).next((C=>{const b=m.docVersions.get(T);Ke(b!==null,48541),C.version.compareTo(b)<0&&(v.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),g.addEntry(C)))}))})),I.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=Fe();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ZT(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D4(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const _=i.get(v);if(!_)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let I=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),i=i.insert(v,I),(function(C,b,O){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=k4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,I,g)&&u.push(n.Pi.updateTargetData(a,I))}));let h=Cs(),m=Fe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(O4(a,l,e.documentUpdates).next((g=>{h=g.ks,m=g.qs}))),!r.isEqual(Ae.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return ee.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,m))).next((()=>h))})).then((a=>(n.Ms=i,a)))}function O4(t,e,n){let r=Fe(),i=Fe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Cs();return n.forEach(((u,h)=>{const m=a.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(Hy,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function M4(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function V4(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ee.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new hi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Dg(t,e,n){const r=Pe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!yl(l))throw l;he(Hy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function A_(t,e,n){const r=Pe(t);let i=Ae.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,m,g){const v=Pe(h),_=v.xs.get(g);return _!==void 0?ee.resolve(v.Ms.get(_)):v.Pi.getTargetData(m,g)})(r,l,$r(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ae.min(),n?a:Fe()))).next((u=>(L4(r,EO(e),u),{documents:u,Qs:a})))))}function L4(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class P_{constructor(){this.activeTargetIds=AO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F4{constructor(){this.Mo=new P_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function Og(){return Yd===null?Yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",B4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Og(),u=this.zo(e,n.toUriEncodedString());he(Om,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:m}=new URL(u),g=hl(m);return this.Jo(e,u,h,r,g).then((v=>(he(Om,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Za(Om,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=B4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class q4 extends z4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Og();return new Promise(((u,h)=>{const m=new tT;m.setWithCredentials(!0),m.listenOnce(nT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case oh.NO_ERROR:const v=m.getResponseJson();he(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case oh.TIMEOUT:he(Zt,`RPC '${e}' ${l} timed out`),h(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const _=m.getStatus();if(he(Zt,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const T=I?.error;if(T&&T.status&&T.message){const C=(function(O){const D=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(D)>=0?D:Z.UNKNOWN})(T.status);h(new ce(C,T.message))}else h(new ce(Z.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(Zt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);he(Zt,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=Og(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iT(),u=sT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");he(Zt,`Creating RPC '${e}' stream ${i}: ${g}`,h);const v=l.createWebChannel(g,h);this.I_(v);let _=!1,I=!1;const T=new $4({Yo:b=>{I?he(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(_||(he(Zt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),he(Zt,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Zo:()=>v.close()}),C=(b,O,D)=>{b.listen(O,(M=>{try{D(M)}catch(G){setTimeout((()=>{throw G}),0)}}))};return C(v,Tc.EventType.OPEN,(()=>{I||(he(Zt,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),C(v,Tc.EventType.CLOSE,(()=>{I||(I=!0,he(Zt,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(v))})),C(v,Tc.EventType.ERROR,(b=>{I||(I=!0,Za(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),T.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),C(v,Tc.EventType.MESSAGE,(b=>{if(!I){const O=b.data[0];Ke(!!O,16349);const D=O,M=D?.error||D[0]?.error;if(M){he(Zt,`RPC '${e}' stream ${i} received error:`,M);const G=M.status;let Q=(function(k){const N=Tt[k];if(N!==void 0)return UT(N)})(G),re=M.message;Q===void 0&&(Q=Z.INTERNAL,re="Unknown error status: "+G+" with message "+M.message),I=!0,T.a_(new ce(Q,re)),v.close()}else he(Zt,`RPC '${e}' stream ${i} received:`,O),T.u_(O)}})),C(u,rT.STAT_EVENT,(b=>{b.stat===Eg.PROXY?he(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Eg.NOPROXY&&he(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new KO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class tS{constructor(e,n,r,i,a,l,u,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H4 extends tS{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?qr(l.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jg(this.serializer),n.addTarget=(function(a,l){let u;const h=l.target;if(u=Cg(h)?{documents:e4(a,h)}:{query:t4(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=$T(a,l.resumeToken);const m=kg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ae.min())>0){u.readTime=Oh(a,l.snapshotVersion.toTimestamp());const m=kg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=r4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.q_(n)}}class W4 extends tS{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZO(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>XO(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{}class K4 extends G4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Rg(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Z.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Rg(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Z.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="RemoteStore";class Y4{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Bo(this)&&(he(Ro,"Restarting streams for network reachability change."),await(async function(h){const m=Pe(h);m.Ea.add(4),await mu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await xf(m)})(this))}))})),this.Ra=new Q4(r,i)}}async function xf(t){if(Bo(t))for(const e of t.da)await e(!0)}async function mu(t){for(const e of t.da)await e(!1)}function nS(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qy(n)?Ky(n):wl(n).O_()&&Gy(n,e))}function Wy(t,e){const n=Pe(t),r=wl(n);n.Ia.delete(e),r.O_()&&rS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Bo(n)&&n.Ra.set("Unknown"))}function Gy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function rS(t,e){t.Va.Ue(e),wl(t).Z_(e)}function Ky(t){t.Va=new qO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function Qy(t){return Bo(t)&&!wl(t).x_()&&t.Ia.size>0}function Bo(t){return Pe(t).Ea.size===0}function sS(t){t.Va=void 0}async function J4(t){t.Ra.set("Online")}async function X4(t){t.Ia.forEach(((e,n)=>{Gy(t,e)}))}async function Z4(t,e){sS(t),Qy(t)?(t.Ra.ha(e),Ky(t)):t.Ra.set("Unknown")}async function eM(t,e,n){if(t.Ra.set("Online"),e instanceof zT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){he(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vh(t,r)}else if(e instanceof uh?t.Va.Ze(e):e instanceof BT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await ZT(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,m)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),rS(a,h);const v=new hi(g.target,h,m,g.sequenceNumber);Gy(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){he(Ro,"Failed to raise snapshot:",r),await Vh(t,r)}}async function Vh(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await mu(t),t.Ra.set("Offline"),n||(n=()=>ZT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ro,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xf(t)}))}function iS(t,e){return e().catch((n=>Vh(t,n,e)))}async function _f(t){const e=Pe(t),n=Ii(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jy;for(;tM(e);)try{const i=await M4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,nM(e,i)}catch(i){await Vh(e,i)}oS(e)&&aS(e)}function tM(t){return Bo(t)&&t.Ta.length<10}function nM(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oS(t){return Bo(t)&&!Ii(t).x_()&&t.Ta.length>0}function aS(t){Ii(t).start()}async function rM(t){Ii(t).ra()}async function sM(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function iM(t,e,n){const r=t.Ta.shift(),i=Fy.from(r,e,n);await iS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _f(t)}async function oM(t,e){e&&Ii(t).X_&&await(async function(r,i){if((function(l){return BO(l)&&l!==Z.ABORTED})(i.code)){const a=r.Ta.shift();Ii(r).B_(),await iS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await _f(r)}})(t,e),oS(t)&&aS(t)}async function j_(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),he(Ro,"RemoteStore received new credentials");const r=Bo(n);n.Ea.add(3),await mu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xf(n)}async function aM(t,e){const n=Pe(t);e?(n.Ea.delete(2),await xf(n)):e||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=(function(n,r,i){const a=Pe(n);return a.sa(),new H4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:J4.bind(null,t),t_:X4.bind(null,t),r_:Z4.bind(null,t),H_:eM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Qy(t)?Ky(t):t.Ra.set("Unknown")):(await t.ma.stop(),sS(t))}))),t.ma}function Ii(t){return t.fa||(t.fa=(function(n,r,i){const a=Pe(n);return a.sa(),new W4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rM.bind(null,t),r_:oM.bind(null,t),ta:sM.bind(null,t),na:iM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _f(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ro,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new Yy(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(t,e){if(Is("AsyncQueue",`${e}: ${t}`),yl(t))return new ce(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Sc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new ht(xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class sl{constructor(e,n,r,i,a,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new sl(e,n,Ya.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cM{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Pe(n),a=i.queries;i.queries=O_(),a.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function O_(){return new Uo((t=>CT(t)),pf)}async function lS(t,e){const n=Pe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new lM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Jy(l,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Xy(n)}async function cS(t,e){const n=Pe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uM(t,e){const n=Pe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Xy(n)}function dM(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Xy(t){t.Ca.forEach((e=>{e.next()}))}var Mg,M_;(M_=Mg||(Mg={})).Ma="default",M_.Cache="cache";class uS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.key=e}}class hS{constructor(e){this.key=e}}class hM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=AT(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new D_,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const _=i.get(g),I=mf(this.query,v)?v:null,T=!!_&&this.mutatedKeys.has(_.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let b=!1;_&&I?_.data.isEqual(I.data)?T!==C&&(r.track({type:3,doc:I}),b=!0):this.su(_,I)||(r.track({type:2,doc:I}),b=!0,(h&&this.eu(I,h)>0||m&&this.eu(I,m)<0)&&(u=!0)):!_&&I?(r.track({type:0,doc:I}),b=!0):_&&!I&&(r.track({type:1,doc:_}),b=!0,(h||m)&&(u=!0)),b&&(I?(l=l.add(I),a=C?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(I,T){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:b})}};return C(I)-C(T)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,m=h!==this.Za;return this.Za=h,l.length!==0||m?{snapshot:new sl(this.query,e.tu,a,l,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new hS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zy="SyncEngine";class fM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pM{constructor(e){this.key=e,this.hu=!1}}class mM{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Uo((u=>CT(u)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(xe.comparator),this.Au=new Map,this.Ru=new zy,this.Vu={},this.mu=new Map,this.fu=rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gM(t,e,n=!0){const r=vS(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await fS(r,e,n,!0),i}async function yM(t,e){const n=vS(t);await fS(n,e,!0,!1)}async function fS(t,e,n,r){const i=await V4(t.localStore,$r(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await vM(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nS(t.remoteStore,i),u}async function vM(t,e,n,r,i){t.pu=(v,_,I)=>(async function(C,b,O,D){let M=b.view.ru(O);M.Cs&&(M=await A_(C.localStore,b.query,!1).then((({documents:L})=>b.view.ru(L,M))));const G=D&&D.targetChanges.get(b.targetId),Q=D&&D.targetMismatches.get(b.targetId)!=null,re=b.view.applyChanges(M,C.isPrimaryClient,G,Q);return L_(C,b.targetId,re.au),re.snapshot})(t,v,_,I);const a=await A_(t.localStore,e,!0),l=new hM(e,a.Qs),u=l.ru(a.documents),h=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,h);L_(t,n,m.au);const g=new fM(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function wM(t,e,n){const r=Pe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!pf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wy(r.remoteStore,i.targetId),Vg(r,i.targetId)})).catch(gl)):(Vg(r,i.targetId),await Dg(r.localStore,i.targetId,!0))}async function xM(t,e){const n=Pe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(n.remoteStore,r.targetId))}async function _M(t,e,n){const r=AM(t);try{const i=await(function(l,u){const h=Pe(l),m=st.now(),g=u.reduce(((I,T)=>I.add(T.key)),Fe());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let T=Cs(),C=Fe();return h.Ns.getEntries(I,g).next((b=>{T=b,T.forEach(((O,D)=>{D.isValidDocument()||(C=C.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(I,T))).next((b=>{v=b;const O=[];for(const D of u){const M=MO(D,v.get(D.key).overlayedDocument);M!=null&&O.push(new Di(D.key,M,wT(M.value.mapValue),Er.exists(!0)))}return h.mutationQueue.addMutationBatch(I,m,O,u)})).next((b=>{_=b;const O=b.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(I,b.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:kT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,h){let m=l.Vu[l.currentUser.toKey()];m||(m=new ht(Le)),m=m.insert(u,h),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await gu(r,i.changes),await _f(r.remoteStore)}catch(i){const a=Jy(i,"Failed to persist write");n.reject(a)}}async function pS(t,e){const n=Pe(t);try{const r=await D4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ke(l.hu,14607):i.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await gu(n,r,e)}catch(r){await gl(r)}}function V_(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const h=Pe(l);h.onlineState=u;let m=!1;h.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(u)&&(m=!0)})),m&&Xy(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EM(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ht(xe.comparator);l=l.insert(a,nn.newNoDocument(a,Ae.min()));const u=Fe().add(a),h=new vf(Ae.min(),new Map,new ht(Le),l,u);await pS(r,h),r.du=r.du.remove(a),r.Au.delete(e),ev(r)}else await Dg(r.localStore,e,!1).then((()=>Vg(r,e,n))).catch(gl)}async function bM(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await j4(n.localStore,e);gS(n,r,null),mS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await gl(i)}}async function TM(t,e,n){const r=Pe(t);try{const i=await(function(l,u){const h=Pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next((v=>(Ke(v!==null,37113),g=v.keys(),h.mutationQueue.removeMutationBatch(m,v)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>h.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);gS(r,e,n),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await gl(i)}}function mS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gS(t,e,n){const r=Pe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yS(t,r)}))}function yS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ev(t))}function L_(t,e,n){for(const r of n)r instanceof dS?(t.Ru.addReference(r.key,e),SM(t,r)):r instanceof hS?(he(Zy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yS(t,r.key)):Se(19791,{wu:r})}function SM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(Zy,"New document in limbo: "+n),t.Eu.add(r),ev(t))}function ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new xe(et.fromString(e)),r=t.fu.next();t.Au.set(r,new pM(n)),t.du=t.du.insert(n,r),nS(t.remoteStore,new hi($r(ff(n.path)),r,"TargetPurposeLimboResolution",uf.ce))}}async function gu(t,e,n){const r=Pe(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){i.push(m);const g=qy.As(h.targetId,m);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,m){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ee.forEach(m,(_=>ee.forEach(_.Es,(I=>g.persistence.referenceDelegate.addReference(v,_.targetId,I))).next((()=>ee.forEach(_.ds,(I=>g.persistence.referenceDelegate.removeReference(v,_.targetId,I)))))))))}catch(v){if(!yl(v))throw v;he(Hy,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const I=g.Ms.get(_),T=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(_,C)}}})(r.localStore,a))}async function IM(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){he(Zy,"User change. New user:",e.toKey());const r=await XT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((h=>{h.reject(new ce(Z.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.Ls)}}function CM(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let i=Fe();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function vS(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EM.bind(null,e),e.Pu.H_=uM.bind(null,e.eventManager),e.Pu.yu=dM.bind(null,e.eventManager),e}function AM(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TM.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N4(this.persistence,new P4,e.initialUser,this.serializer)}Cu(e){return new JT($y.mi,this.serializer)}Du(e){return new F4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class PM extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new JT((r=>Mh.mi(r,n)),this.serializer)}}class Lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await aM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cM})()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),r=(function(a){return new q4(a)})(e.databaseInfo);return(function(a,l,u,h){return new K4(a,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new Y4(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>V_(this.syncEngine,n,0)),(function(){return R_.v()?new R_:new U4})())}createSyncEngine(e,n){return(function(i,a,l,u,h,m,g){const v=new mM(i,a,l,u,h,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pe(n);he(Ro,"RemoteStore shutting down."),r.Ea.add(5),await mu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class kM{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=Ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(Ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vm(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await XT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function F_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RM(t);he(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>j_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>j_(e.remoteStore,i))),t._onlineComponents=e}async function RM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ci,"Using user provided OfflineComponentProvider");try{await Vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Vm(t,new Lh)}}else he(Ci,"Using default OfflineComponentProvider"),await Vm(t,new PM(void 0));return t._offlineComponents}async function xS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ci,"Using user provided OnlineComponentProvider"),await F_(t,t._uninitializedComponentsProvider._online)):(he(Ci,"Using default OnlineComponentProvider"),await F_(t,new Lg))),t._onlineComponents}function NM(t){return xS(t).then((e=>e.syncEngine))}async function Fg(t){const e=await xS(t),n=e.eventManager;return n.onListen=gM.bind(null,e.syncEngine),n.onUnlisten=wM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xM.bind(null,e.syncEngine),n}function jM(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,h,m){const g=new wS({next:_=>{g.Nu(),l.enqueueAndForget((()=>cS(a,v)));const I=_.docs.has(u);!I&&_.fromCache?m.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&h&&h.source==="server"?m.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new uS(ff(u.path),g,{includeMetadataChanges:!0,qa:!0});return lS(a,v)})(await Fg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firestore.googleapis.com",B_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h4)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FD;switch(r.type){case"firstParty":return new $D(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=U_.get(n);r&&(he("ComponentProvider","Removing Datastore"),U_.delete(n),r.terminate())})(this),Promise.resolve()}}function DM(t,e,n,r={}){t=_r(t,Ef);const i=hl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(db(`https://${u}`),hb("Firestore",!0)),a.host!==ES&&a.host!==u&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:i,emulatorOptions:r};if(!_i(h,l)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=tn.MOCK_USER;else{m=qk(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new tn(v)}t._authCredentials=new UD(new aT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hu(n,pt._jsonSchema))return new pt(e,r||null,new xe(et.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:At("string",pt._jsonSchemaVersion),referencePath:At("string")};class vi extends zo{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new xe(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function yc(t,e,...n){if(t=mt(t),lT("collection","path",e),t instanceof Ef){const r=et.fromString(e,...n);return t_(r),new vi(t,null,r)}{if(!(t instanceof pt||t instanceof vi))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return t_(r),new vi(t.firestore,null,r)}}function vr(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Ny.newId()),lT("doc","path",e),t instanceof Ef){const r=et.fromString(e,...n);return e_(r),new pt(t,null,new xe(r))}{if(!(t instanceof pt||t instanceof vi))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return e_(r),new pt(t.firestore,t instanceof vi?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eS(this,"async_queue_retry"),this._c=()=>{const r=Mm();r&&he($_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;he($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",H_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Yy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Se(47125,{Pc:H_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class No extends Ef{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}}function OM(t,e){const n=typeof t=="object"?t:xy(),r=typeof t=="string"?t:Rh,i=Fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=zk("firestore");a&&DM(i,...a)}return i}function tv(t){if(t._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MM(t),t._firestoreClient}function MM(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new oO(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_S(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(Kt.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:At("string",Zn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:At("string",Hr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wr(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:At("string",Wr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class LM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class bS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class nv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&VM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wf(e)}Cc(e,n,r,i=!1){return new nv({Ac:e,methodName:n,Dc:r,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new FM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SS(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);sv("Data must be an object, but it was:",l,r);const u=IS(r,l);let h,m;if(a.merge)h=new Vn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=Ug(e,v,n);if(!l.contains(_))throw new ce(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);AS(g,_)||g.push(_)}h=new Vn(g),m=l.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,m=l.fieldTransforms;return new LM(new bn(u),h,m)}class If extends Tf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}class rv extends Tf{_toFieldTransform(e){return new NO(e.path,new Yc)}isEqual(e){return e instanceof rv}}function UM(t,e,n,r){const i=t.Cc(1,e,n);sv("Data must be an object, but it was:",i,r);const a=[],l=bn.empty();ji(r,((h,m)=>{const g=iv(e,h,n);m=mt(m);const v=i.yc(g);if(m instanceof If)a.push(g);else{const _=yu(m,v);_!=null&&(a.push(g),l.set(g,_))}}));const u=new Vn(a);return new bS(l,u,i.fieldTransforms)}function BM(t,e,n,r,i,a){const l=t.Cc(1,e,n),u=[Ug(e,r,n)],h=[i];if(a.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)u.push(Ug(e,a[_])),h.push(a[_+1]);const m=[],g=bn.empty();for(let _=u.length-1;_>=0;--_)if(!AS(m,u[_])){const I=u[_];let T=h[_];T=mt(T);const C=l.yc(I);if(T instanceof If)m.push(I);else{const b=yu(T,C);b!=null&&(m.push(I),g.set(I,b))}}const v=new Vn(m);return new bS(g,v,l.fieldTransforms)}function zM(t,e,n,r=!1){return yu(n,t.Cc(r?4:3,e))}function yu(t,e){if(CS(t=mt(t)))return sv("Unsupported field value:",e,t),IS(t,e);if(t instanceof Tf)return(function(r,i){if(!TS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let h=yu(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Oh(i.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(i.serializer,a)}}if(r instanceof Hr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:$T(i.serializer,r._byteString)};if(r instanceof pt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:By(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wr)return(function(l,u){return{mapValue:{fields:{[yT]:{stringValue:vT},[Nh]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ly(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${cf(r)}`)})(t,e)}function IS(t,e){const n={};return dT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,((r,i)=>{const a=yu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function CS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Hr||t instanceof Zn||t instanceof pt||t instanceof Tf||t instanceof Wr)}function sv(t,e,n){if(!CS(n)||!cT(n)){const r=cf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ug(t,e,n){if((e=mt(e))instanceof bf)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $M=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search($M)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ce(Z.INVALID_ARGUMENT,u+t+h)}function AS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qM extends PS{data(){return super.data()}}function Cf(t,e){return typeof e=="string"?iv(t,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class kS extends ov{}function Lm(t,e,...n){let r=[];e instanceof ov&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof av)).length,u=a.filter((h=>h instanceof Af)).length;if(l>1||l>0&&u>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Af extends kS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Af(e,n,r)}_apply(e){const n=this._parse(e);return RS(e._query,n),new zo(e.firestore,e.converter,Ag(e._query,n))}_parse(e){const n=Sf(e.firestore);return(function(a,l,u,h,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Q_(v,g);const T=[];for(const C of v)T.push(K_(h,a,C));_={arrayValue:{values:T}}}else _=K_(h,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Q_(v,g),_=zM(u,l,v,g==="in"||g==="not-in");return Ct.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function G_(t,e,n){const r=e,i=Cf("where",t);return Af._create(i,r,n)}class av extends ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new av(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)RS(l,h),l=Ag(l,h)})(e._query,n),new zo(e.firestore,e.converter,Ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lv extends kS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lv(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(a,l)})(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new vl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function WM(t,e="asc"){const n=e,r=Cf("orderBy",t);return lv._create(r,n)}function K_(t,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!xe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c_(t,new xe(r))}if(n instanceof pt)return c_(t,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function Q_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GM{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new Wr(n)}convertGeoPoint(e){return new Hr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=bi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Ke(QT(r),9688,{name:e});const i=new Gc(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||Is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends PS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=To._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:At("string",To._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class dh extends To{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dh(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const h=new dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const h=new dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Cc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:KM(u.type),doc:h,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){t=_r(t,pt);const e=_r(t.firestore,No);return jM(tv(e),t._key).then((n=>DS(e,t,n)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:At("string",Ja._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class jS extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function J_(t,e,n){t=_r(t,pt);const r=_r(t.firestore,No),i=NS(t.converter,e);return cv(r,[SS(Sf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function hh(t,e,n,...r){t=_r(t,pt);const i=_r(t.firestore,No),a=Sf(i);let l;return l=typeof(e=mt(e))=="string"||e instanceof bf?BM(a,"updateDoc",t._key,e,n,r):UM(a,"updateDoc",t._key,e),cv(i,[l.toMutation(t._key,Er.exists(!0))])}function X_(t,e){const n=_r(t.firestore,No),r=vr(t),i=NS(t.converter,e);return cv(n,[SS(Sf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then((()=>r))}function vc(t,...e){t=mt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||W_(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(W_(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let a,l,u;if(t instanceof pt)l=_r(t.firestore,No),u=ff(t._key.path),a={next:h=>{e[r]&&e[r](DS(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=_r(t,zo);l=_r(h.firestore,No),u=h._query;const m=new jS(l);a={next:g=>{e[r]&&e[r](new Ja(l,m,h,g))},error:e[r+1],complete:e[r+2]},HM(t._query)}return(function(m,g,v,_){const I=new wS(_),T=new uS(g,I,v);return m.asyncQueue.enqueueAndForget((async()=>lS(await Fg(m),T))),()=>{I.Nu(),m.asyncQueue.enqueueAndForget((async()=>cS(await Fg(m),T)))}})(tv(l),u,i,a)}function cv(t,e){return(function(r,i){const a=new yi;return r.asyncQueue.enqueueAndForget((async()=>_M(await NM(r),i,a))),a.promise})(tv(t),e)}function DS(t,e,n){const r=n.docs.get(e._key),i=new jS(t);return new To(t,i,e._key,r,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}function ho(){return new rv("serverTimestamp")}(function(e,n=!0){(function(i){ml=i})(fl),Kr(new br("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new No(new BD(r.getProvider("auth-internal")),new qD(l,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(m.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),er(Yx,Jx,e),er(Yx,Jx,"esm2020")})();var QM="firebase",YM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(QM,YM,"app");const OS="@firebase/installations",uv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=1e4,VS=`w:${uv}`,LS="FIS_v2",JM="https://firebaseinstallations.googleapis.com/v1",XM=3600*1e3,ZM="installations",eV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jo=new Lo(ZM,eV,tV);function FS(t){return t instanceof Ir&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US({projectId:t}){return`${JM}/projects/${t}/installations`}function BS(t){return{token:t.token,requestStatus:2,expiresIn:rV(t.expiresIn),creationTime:Date.now()}}async function zS(t,e){const r=(await e.json()).error;return jo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $S({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nV(t,{refreshToken:e}){const n=$S(t);return n.append("Authorization",sV(e)),n}async function qS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rV(t){return Number(t.replace("s","000"))}function sV(t){return`${LS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=US(t),i=$S(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={fid:n,authVersion:LS,appId:t.appId,sdkVersion:VS},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await qS(()=>fetch(r,u));if(h.ok){const m=await h.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:BS(m.authToken)}}else throw await zS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=/^[cdef][\w-]{21}$/,Bg="";function lV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=cV(t);return aV.test(n)?n:Bg}catch{return Bg}}function cV(t){return oV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new Map;function GS(t,e){const n=Pf(t);KS(n,e),uV(n,e)}function KS(t,e){const n=WS.get(t);if(n)for(const r of n)r(e)}function uV(t,e){const n=dV();n&&n.postMessage({key:t,fid:e}),hV()}let _o=null;function dV(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=t=>{KS(t.data.key,t.data.fid)}),_o}function hV(){WS.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="firebase-installations-database",pV=1,Do="firebase-installations-store";let Fm=null;function dv(){return Fm||(Fm=vb(fV,pV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Do)}}})),Fm}async function Uh(t,e){const n=Pf(t),i=(await dv()).transaction(Do,"readwrite"),a=i.objectStore(Do),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&GS(t,e.fid),e}async function QS(t){const e=Pf(t),r=(await dv()).transaction(Do,"readwrite");await r.objectStore(Do).delete(e),await r.done}async function kf(t,e){const n=Pf(t),i=(await dv()).transaction(Do,"readwrite"),a=i.objectStore(Do),l=await a.get(n),u=e(l);return u===void 0?await a.delete(n):await a.put(u,n),await i.done,u&&(!l||l.fid!==u.fid)&&GS(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(t){let e;const n=await kf(t.appConfig,r=>{const i=mV(r),a=gV(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Bg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mV(t){const e=t||{fid:lV(),registrationStatus:0};return YS(e)}function gV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(jo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=yV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:vV(t)}:{installationEntry:e}}async function yV(t,e){try{const n=await iV(t,e);return Uh(t.appConfig,n)}catch(n){throw FS(n)&&n.customData.serverCode===409?await QS(t.appConfig):await Uh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function vV(t){let e=await Z_(t.appConfig);for(;e.registrationStatus===1;)await HS(100),e=await Z_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hv(t);return r||n}return e}function Z_(t){return kf(t,e=>{if(!e)throw jo.create("installation-not-found");return YS(e)})}function YS(t){return wV(t)?{fid:t.fid,registrationStatus:0}:t}function wV(t){return t.registrationStatus===1&&t.registrationTime+MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV({appConfig:t,heartbeatServiceProvider:e},n){const r=_V(t,n),i=nV(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={installation:{sdkVersion:VS,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},h=await qS(()=>fetch(r,u));if(h.ok){const m=await h.json();return BS(m)}else throw await zS("Generate Auth Token",h)}function _V(t,{fid:e}){return`${US(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fv(t,e=!1){let n;const r=await kf(t.appConfig,a=>{if(!JS(a))throw jo.create("not-registered");const l=a.authToken;if(!e&&TV(l))return a;if(l.requestStatus===1)return n=EV(t,e),a;{if(!navigator.onLine)throw jo.create("app-offline");const u=IV(a);return n=bV(t,u),u}});return n?await n:r.authToken}async function EV(t,e){let n=await e1(t.appConfig);for(;n.authToken.requestStatus===1;)await HS(100),n=await e1(t.appConfig);const r=n.authToken;return r.requestStatus===0?fv(t,e):r}function e1(t){return kf(t,e=>{if(!JS(e))throw jo.create("not-registered");const n=e.authToken;return CV(n)?{...e,authToken:{requestStatus:0}}:e})}async function bV(t,e){try{const n=await xV(t,e),r={...e,authToken:n};return await Uh(t.appConfig,r),n}catch(n){if(FS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QS(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Uh(t.appConfig,r)}throw n}}function JS(t){return t!==void 0&&t.registrationStatus===2}function TV(t){return t.requestStatus===2&&!SV(t)}function SV(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XM}function IV(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function CV(t){return t.requestStatus===1&&t.requestTime+MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t){const e=t,{installationEntry:n,registrationPromise:r}=await hv(e);return r?r.catch(console.error):fv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e=!1){const n=t;return await kV(n),(await fv(n,e)).token}async function kV(t){const{registrationPromise:e}=await hv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){if(!t||!t.options)throw Um("App Configuration");if(!t.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Um(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Um(t){return jo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="installations",NV="installations-internal",jV=t=>{const e=t.getProvider("app").getImmediate(),n=RV(e),r=Fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},DV=t=>{const e=t.getProvider("app").getImmediate(),n=Fo(e,XS).getImmediate();return{getId:()=>AV(n),getToken:i=>PV(n,i)}};function OV(){Kr(new br(XS,jV,"PUBLIC")),Kr(new br(NV,DV,"PRIVATE"))}OV();er(OS,uv);er(OS,uv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="analytics",MV="firebase_id",VV="origin",LV=60*1e3,FV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new sf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new Lo("analytics","Analytics",UV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){if(!t.startsWith(pv)){const e=Ln.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function ZS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $V(t,e){const n=zV("firebase-js-sdk-policy",{createScriptURL:BV}),r=document.createElement("script"),i=`${pv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function qV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function HV(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const h=(await ZS(n)).find(m=>m.measurementId===i);h&&await e[h.appId]}}catch(u){Tn.error(u)}t("config",i,a)}async function WV(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await ZS(n);for(const h of l){const m=u.find(v=>v.measurementId===h),g=m&&e[m.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Tn.error(a)}}function GV(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[u,h]=l;await WV(t,e,n,u,h)}else if(a==="config"){const[u,h]=l;await HV(t,e,n,r,u,h)}else if(a==="consent"){const[u,h]=l;t("consent",u,h)}else if(a==="get"){const[u,h,m]=l;t("get",u,h,m)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Tn.error(u)}}return i}function KV(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=GV(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function QV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=30,JV=1e3;class XV{constructor(e={},n=JV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eI=new XV;function ZV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eL(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:ZV(n)},i=FV.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function tL(t,e=eI,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Ln.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Ln.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new sL;return setTimeout(async()=>{u.abort()},LV),tI({appId:r,apiKey:i,measurementId:a},l,u,e)}async function tI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=eI){const{appId:a,measurementId:l}=t;try{await nL(r,e)}catch(u){if(l)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await eL(t);return i.deleteThrottleMetadata(a),u}catch(u){const h=u;if(!rL(h)){if(i.deleteThrottleMetadata(a),l)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw u}const m=Number(h?.customData?.httpStatus)===503?_x(n,i.intervalMillis,YV):_x(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(a,g),Tn.debug(`Calling attemptFetch again in ${m} millis`),tI(t,g,r,i)}}function nL(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rL(t){if(!(t instanceof Ir)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iL(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(){if(pb())try{await mb()}catch(t){return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Tn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aL(t,e,n,r,i,a,l){const u=tL(t);u.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>Tn.error(_)),e.push(u);const h=oL().then(_=>{if(_)return r.getId()}),[m,g]=await Promise.all([u,h]);QV(a)||$V(a,m.measurementId),i("js",new Date);const v=l?.config??{};return v[VV]="firebase",v.update=!0,g!=null&&(v[MV]=g),i("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.app=e}_delete(){return delete Oc[this.app.options.appId],Promise.resolve()}}let Oc={},t1=[];const n1={};let Bm="dataLayer",cL="gtag",r1,nI,s1=!1;function uL(){const t=[];if(fb()&&t.push("This is a browser extension environment."),Zk()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ln.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function dL(t,e,n){uL();const r=t.options.appId;if(!r)throw Ln.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Oc[r]!=null)throw Ln.create("already-exists",{id:r});if(!s1){qV(Bm);const{wrappedGtag:a,gtagCore:l}=KV(Oc,t1,n1,Bm,cL);nI=a,r1=l,s1=!0}return Oc[r]=aL(t,t1,n1,e,r1,Bm,n),new lL(t)}function hL(t=xy()){t=mt(t);const e=Fo(t,Bh);return e.isInitialized()?e.getImmediate():fL(t)}function fL(t,e={}){const n=Fo(t,Bh);if(n.isInitialized()){const i=n.getImmediate();if(_i(e,n.getOptions()))return i;throw Ln.create("already-initialized")}return n.initialize({options:e})}function pL(t,e,n,r){t=mt(t),iL(nI,Oc[t.app.options.appId],e,n,r).catch(i=>Tn.error(i))}const i1="@firebase/analytics",o1="0.10.18";function mL(){Kr(new br(Bh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return dL(r,i,n)},"PUBLIC")),Kr(new br("analytics-internal",t,"PRIVATE")),er(i1,o1),er(i1,o1,"esm2020");function t(e){try{const n=e.getProvider(Bh).getImmediate();return{logEvent:(r,i,a)=>pL(n,r,i,a)}}catch(n){throw Ln.create("interop-component-reg-failed",{reason:n})}}}mL();const gL={apiKey:"AIzaSyARx0TFv2c_qDPcpDr0zvgvAvHIjDVgCpI",authDomain:"meetmate2-324c2.firebaseapp.com",databaseURL:"https://demo-default-rtdb.firebaseio.com",projectId:"meetmate2-324c2",storageBucket:"meetmate2-324c2.firebasestorage.app",messagingSenderId:"1002826191053",appId:"1:1002826191053:web:6ffffcf61d56c1c2b09984",measurementId:"G-DVT211MGFD"};let Zc;try{Zc=vg(gL)}catch(t){console.warn("Firebase initialization failed:",t),Zc=vg({apiKey:"demo-key",authDomain:"demo.firebaseapp.com",projectId:"demo-project",storageBucket:"demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo"})}const si=VD(Zc),un=OM(Zc);typeof window<"u"&&hL(Zc);class ri{static async signUp(e,n,r){try{const i=await wj(si,e,n);await Ej(i.user,{displayName:r});const a={uid:i.user.uid,email:i.user.email,name:r,role:"ATTENDEE",createdAt:new Date,updatedAt:new Date};return await J_(vr(un,"users",i.user.uid),a),i}catch(i){throw console.error("Sign up error:",i),i}}static async signIn(e,n){try{return await xj(si,e,n)}catch(r){throw console.error("Sign in error:",r),r}}static async signInWithGoogle(){try{const e=new gs,n=await Wj(si,e);if(!(await Y_(vr(un,"users",n.user.uid))).exists()){const i={uid:n.user.uid,email:n.user.email,name:n.user.displayName||"Google User",role:"ATTENDEE",createdAt:new Date,updatedAt:new Date};await J_(vr(un,"users",n.user.uid),i)}return n}catch(e){throw console.error("Google sign in error:",e),e}}static async signOut(){try{await Ij(si)}catch(e){throw console.error("Sign out error:",e),e}}static getCurrentUser(){return si.currentUser}static onAuthStateChanged(e){return Sj(si,e)}static async resetPassword(e){try{await vj(si,e)}catch(n){throw console.error("Reset password error:",n),n}}static async updateUserProfile(e,n){try{const r=vr(un,"users",e);await hh(r,{...n,updatedAt:new Date})}catch(r){throw console.error("Update profile error:",r),r}}static async getUserProfile(e){try{const n=await Y_(vr(un,"users",e));return n.exists()?n.data():null}catch(n){throw console.error("Get profile error:",n),n}}}const rI=P.createContext(void 0),$o=()=>{const t=P.useContext(rI);if(t===void 0)throw new Error("useFirebaseAuth must be used within an AuthProvider");return t},yL=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(null),[a,l]=P.useState(!0);P.useEffect(()=>ri.onAuthStateChanged(async C=>{if(n(C),C)try{const b=await ri.getUserProfile(C.uid);i(b)}catch(b){console.error("Error fetching user profile:",b)}else i(null);l(!1)}),[]);const I={user:e,userProfile:r,loading:a,signUp:async(T,C,b)=>{try{l(!0);const O=await ri.signUp(T,C,b);n(O.user)}catch(O){throw console.error("Sign up error:",O),O}finally{l(!1)}},signIn:async(T,C)=>{try{l(!0);const b=await ri.signIn(T,C);n(b.user)}catch(b){throw console.error("Sign in error:",b),b}finally{l(!1)}},signInWithGoogle:async()=>{try{l(!0);const T=await ri.signInWithGoogle();n(T.user)}catch(T){throw console.error("Google sign in error:",T),T}finally{l(!1)}},signOut:async()=>{try{l(!0),await ri.signOut(),n(null),i(null)}catch(T){throw console.error("Sign out error:",T),T}finally{l(!1)}},resetPassword:async T=>{try{await ri.resetPassword(T)}catch(C){throw console.error("Reset password error:",C),C}},updateProfile:async T=>{if(!e)throw new Error("No user logged in");try{await ri.updateUserProfile(e.uid,T),r&&i({...r,...T,updatedAt:new Date})}catch(C){throw console.error("Update profile error:",C),C}}};return f.jsx(rI.Provider,{value:I,children:t})},sI=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Rf=P.createContext({}),Nf=P.createContext(null),jf=typeof document<"u",mv=jf?P.useLayoutEffect:P.useEffect,iI=P.createContext({strict:!1}),gv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vL="framerAppearId",oI="data-"+gv(vL);function wL(t,e,n,r){const{visualElement:i}=P.useContext(Rf),a=P.useContext(iI),l=P.useContext(Nf),u=P.useContext(sI).reducedMotion,h=P.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=h.current;P.useInsertionEffect(()=>{m&&m.update(n,l)});const g=P.useRef(!!(n[oI]&&!window.HandoffComplete));return mv(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),P.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function $a(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xL(t,e,n){return P.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$a(n)&&(n.current=r))},[e])}function eu(t){return typeof t=="string"||Array.isArray(t)}function Df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function Of(t){return Df(t.animate)||vv.some(e=>eu(t[e]))}function aI(t){return!!(Of(t)||t.variants)}function _L(t,e){if(Of(t)){const{initial:n,animate:r}=t;return{initial:n===!1||eu(n)?n:void 0,animate:eu(r)?r:void 0}}return t.inherit!==!1?e:{}}function EL(t){const{initial:e,animate:n}=_L(t,P.useContext(Rf));return P.useMemo(()=>({initial:e,animate:n}),[a1(e),a1(n)])}function a1(t){return Array.isArray(t)?t.join(" "):t}const l1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tu={};for(const t in l1)tu[t]={isEnabled:e=>l1[t].some(n=>!!e[n])};function bL(t){for(const e in t)tu[e]={...tu[e],...t[e]}}const wv=P.createContext({}),lI=P.createContext({}),TL=Symbol.for("motionComponentSymbol");function SL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&bL(t);function a(u,h){let m;const g={...P.useContext(sI),...u,layoutId:IL(u)},{isStatic:v}=g,_=EL(u),I=r(u,v);if(!v&&jf){_.visualElement=wL(i,I,g,e);const T=P.useContext(lI),C=P.useContext(iI).strict;_.visualElement&&(m=_.visualElement.loadFeatures(g,C,t,T))}return P.createElement(Rf.Provider,{value:_},m&&_.visualElement?P.createElement(m,{visualElement:_.visualElement,...g}):null,n(i,u,xL(I,_.visualElement,h),I,v,_.visualElement))}const l=P.forwardRef(a);return l[TL]=i,l}function IL({layoutId:t}){const e=P.useContext(wv).id;return e&&t!==void 0?e+"-"+t:t}function CL(t){function e(r,i={}){return SL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const AL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xv(t){return typeof t!="string"||t.includes("-")?!1:!!(AL.indexOf(t)>-1||/[A-Z]/.test(t))}const zh={};function PL(t){Object.assign(zh,t)}const vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(vu);function cI(t,{layout:e,layoutId:n}){return qo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zh[t]||t==="opacity")}const Cn=t=>!!(t&&t.getVelocity),kL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RL=vu.length;function NL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let l=0;l<RL;l++){const u=vu[l];if(t[u]!==void 0){const h=kL[u]||u;a+=`${h}(${t[u]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const uI=t=>e=>typeof e=="string"&&e.startsWith(t),dI=uI("--"),zg=uI("var(--"),jL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,DL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ai=(t,e,n)=>Math.min(Math.max(n,t),e),Ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mc={...Ho,transform:t=>Ai(0,1,t)},Jd={...Ho,default:1},Vc=t=>Math.round(t*1e5)/1e5,Mf=/(-)?([\d]*\.?[\d])+/g,hI=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function wu(t){return typeof t=="string"}const xu=t=>({test:e=>wu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ii=xu("deg"),Gr=xu("%"),be=xu("px"),ML=xu("vh"),VL=xu("vw"),c1={...Gr,parse:t=>Gr.parse(t)/100,transform:t=>Gr.transform(t*100)},u1={...Ho,transform:Math.round},fI={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,size:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,rotate:ii,rotateX:ii,rotateY:ii,rotateZ:ii,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:ii,skewX:ii,skewY:ii,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Mc,originX:c1,originY:c1,originZ:be,zIndex:u1,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:u1};function _v(t,e,n,r){const{style:i,vars:a,transform:l,transformOrigin:u}=t;let h=!1,m=!1,g=!0;for(const v in e){const _=e[v];if(dI(v)){a[v]=_;continue}const I=fI[v],T=DL(_,I);if(qo.has(v)){if(h=!0,l[v]=T,!g)continue;_!==(I.default||0)&&(g=!1)}else v.startsWith("origin")?(m=!0,u[v]=T):i[v]=T}if(e.transform||(h||r?i.transform=NL(t.transform,n,g,r):i.transform&&(i.transform="none")),m){const{originX:v="50%",originY:_="50%",originZ:I=0}=u;i.transformOrigin=`${v} ${_} ${I}`}}const Ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pI(t,e,n){for(const r in e)!Cn(e[r])&&!cI(r,n)&&(t[r]=e[r])}function LL({transformTemplate:t},e,n){return P.useMemo(()=>{const r=Ev();return _v(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function FL(t,e,n){const r=t.style||{},i={};return pI(i,r,t),Object.assign(i,LL(t,e,n)),t.transformValues?t.transformValues(i):i}function UL(t,e,n){const r={},i=FL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const BL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BL.has(t)}let mI=t=>!$h(t);function zL(t){t&&(mI=e=>e.startsWith("on")?!$h(e):t(e))}try{zL(require("@emotion/is-prop-valid").default)}catch{}function $L(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(mI(i)||n===!0&&$h(i)||!e&&!$h(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function d1(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function qL(t,e,n){const r=d1(e,t.x,t.width),i=d1(n,t.y,t.height);return`${r} ${i}`}const HL={offset:"stroke-dashoffset",array:"stroke-dasharray"},WL={offset:"strokeDashoffset",array:"strokeDasharray"};function GL(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?HL:WL;t[a.offset]=be.transform(-r);const l=be.transform(e),u=be.transform(n);t[a.array]=`${l} ${u}`}function bv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...m},g,v,_){if(_v(t,m,g,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:I,style:T,dimensions:C}=t;I.transform&&(C&&(T.transform=I.transform),delete I.transform),C&&(i!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=qL(C,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(I.x=e),n!==void 0&&(I.y=n),r!==void 0&&(I.scale=r),l!==void 0&&GL(I,l,u,h,!1)}const gI=()=>({...Ev(),attrs:{}}),Tv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KL(t,e,n,r){const i=P.useMemo(()=>{const a=gI();return bv(a,e,{enableHardwareAcceleration:!1},Tv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};pI(a,t.style,t),i.style={...a,...i.style}}return i}function QL(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(xv(n)?KL:UL)(r,a,l,n),g={...$L(r,typeof n=="string",t),...h,ref:i},{children:v}=r,_=P.useMemo(()=>Cn(v)?v.get():v,[v]);return P.createElement(n,{...g,children:_})}}function yI(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const vI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wI(t,e,n,r){yI(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vI.has(i)?i:gv(i),e.attrs[i])}function Sv(t,e){const{style:n}=t,r={};for(const i in n)(Cn(n[i])||e.style&&Cn(e.style[i])||cI(i,t))&&(r[i]=n[i]);return r}function xI(t,e){const n=Sv(t,e);for(const r in t)if(Cn(t[r])||Cn(e[r])){const i=vu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Iv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function _I(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const qh=t=>Array.isArray(t),YL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JL=t=>qh(t)?t[t.length-1]||0:t;function fh(t){const e=Cn(t)?t.get():t;return YL(e)?e.toValue():e}function XL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const l={latestValues:ZL(r,i,a,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const EI=t=>(e,n)=>{const r=P.useContext(Rf),i=P.useContext(Nf),a=()=>XL(t,e,r,i);return n?a():_I(a)};function ZL(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=fh(a[_]);let{initial:l,animate:u}=t;const h=Of(t),m=aI(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;return v&&typeof v!="boolean"&&!Df(v)&&(Array.isArray(v)?v:[v]).forEach(I=>{const T=Iv(t,I);if(!T)return;const{transitionEnd:C,transition:b,...O}=T;for(const D in O){let M=O[D];if(Array.isArray(M)){const G=g?M.length-1:0;M=M[G]}M!==null&&(i[D]=M)}for(const D in C)i[D]=C[D]}),i}const xt=t=>t;class h1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function e3(t){let e=new h1,n=new h1,r=0,i=!1,a=!1;const l=new WeakSet,u={schedule:(h,m=!1,g=!1)=>{const v=g&&i,_=v?e:n;return m&&l.add(h),_.add(h)&&v&&i&&(r=e.order.length),h},cancel:h=>{n.remove(h),l.delete(h)},process:h=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const g=e.order[m];g(h),l.has(g)&&(u.schedule(g),t())}i=!1,a&&(a=!1,u.process(h))}};return u}const Xd=["prepare","read","update","preRender","render","postRender"],t3=40;function n3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Xd.reduce((v,_)=>(v[_]=e3(()=>n=!0),v),{}),l=v=>a[v].process(i),u=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,t3),1),i.timestamp=v,i.isProcessing=!0,Xd.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(u))},h=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:Xd.reduce((v,_)=>{const I=a[_];return v[_]=(T,C=!1,b=!1)=>(n||h(),I.schedule(T,C,b)),v},{}),cancel:v=>Xd.forEach(_=>a[_].cancel(v)),state:i,steps:a}}const{schedule:tt,cancel:As,state:en,steps:zm}=n3(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0),r3={useVisualState:EI({scrapeMotionValuesFromProps:xI,createRenderState:gI,onMount:(t,e,{renderState:n,latestValues:r})=>{tt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{bv(n,r,{enableHardwareAcceleration:!1},Tv(e.tagName),t.transformTemplate),wI(e,n)})}})},s3={useVisualState:EI({scrapeMotionValuesFromProps:Sv,createRenderState:Ev})};function i3(t,{forwardMotionProps:e=!1},n,r){return{...xv(t)?r3:s3,preloadedFeatures:n,useRender:QL(e),createVisualElement:r,Component:t}}function ws(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const bI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Vf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const o3=t=>e=>bI(e)&&t(e,Vf(e));function _s(t,e,n,r){return ws(t,e,o3(n),r)}const a3=(t,e)=>n=>e(t(n)),wi=(...t)=>t.reduce(a3);function TI(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const f1=TI("dragHorizontal"),p1=TI("dragVertical");function SI(t){let e=!1;if(t==="y")e=p1();else if(t==="x")e=f1();else{const n=f1(),r=p1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function II(){const t=SI(!0);return t?(t(),!1):!0}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function m1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,l)=>{if(a.pointerType==="touch"||II())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&tt.update(()=>u[r](a,l))};return _s(t.current,n,i,{passive:!t.getProps()[r]})}class l3 extends Oi{mount(){this.unmount=wi(m1(this.node,!0),m1(this.node,!1))}unmount(){}}class c3 extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wi(ws(this.node.current,"focus",()=>this.onFocus()),ws(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CI=(t,e)=>e?t===e?!0:CI(t,e.parentElement):!1;function $m(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Vf(n))}class u3 extends Oi{constructor(){super(...arguments),this.removeStartListeners=xt,this.removeEndListeners=xt,this.removeAccessibleListeners=xt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=_s(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:g,globalTapTarget:v}=this.node.getProps();tt.update(()=>{!v&&!CI(this.node.current,u.target)?g&&g(u,h):m&&m(u,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=_s(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wi(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||$m("up",(h,m)=>{const{onTap:g}=this.node.getProps();g&&tt.update(()=>g(h,m))})};this.removeEndListeners(),this.removeEndListeners=ws(this.node.current,"keyup",l),$m("down",(u,h)=>{this.startPress(u,h)})},n=ws(this.node.current,"keydown",e),r=()=>{this.isPressing&&$m("cancel",(a,l)=>this.cancelPress(a,l))},i=ws(this.node.current,"blur",r);this.removeAccessibleListeners=wi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!II()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=_s(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ws(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $g=new WeakMap,qm=new WeakMap,d3=t=>{const e=$g.get(t.target);e&&e(t)},h3=t=>{t.forEach(d3)};function f3({root:t,...e}){const n=t||document;qm.has(n)||qm.set(n,{});const r=qm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(h3,{root:t,...e})),r[i]}function p3(t,e,n){const r=f3(e);return $g.set(t,n),r.observe(t),()=>{$g.delete(t),r.unobserve(t)}}const m3={some:0,all:1};class g3 extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:m3[i]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(h)};return p3(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(y3(e,n))&&this.startObserver()}unmount(){}}function y3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const v3={inView:{Feature:g3},tap:{Feature:u3},focus:{Feature:c3},hover:{Feature:l3}};function AI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function w3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function x3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Lf(t,e,n){const r=t.getProps();return Iv(r,e,n!==void 0?n:r.custom,w3(t),x3(t))}let Cv=xt;const So=t=>t*1e3,Es=t=>t/1e3,_3={current:!1},PI=t=>Array.isArray(t)&&typeof t[0]=="number";function kI(t){return!!(!t||typeof t=="string"&&RI[t]||PI(t)||Array.isArray(t)&&t.every(kI))}const Ac=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,RI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ac([0,.65,.55,1]),circOut:Ac([.55,0,1,.45]),backIn:Ac([.31,.01,.66,-.59]),backOut:Ac([.33,1.53,.69,.99])};function NI(t){if(t)return PI(t)?Ac(t):Array.isArray(t)?t.map(NI):RI[t]}function E3(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:l="loop",ease:u,times:h}={}){const m={[e]:n};h&&(m.offset=h);const g=NI(u);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function b3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const jI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,T3=1e-7,S3=12;function I3(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=jI(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>T3&&++u<S3);return l}function _u(t,e,n,r){if(t===e&&n===r)return xt;const i=a=>I3(a,0,1,t,n);return a=>a===0||a===1?a:jI(i(a),e,r)}const C3=_u(.42,0,1,1),A3=_u(0,0,.58,1),DI=_u(.42,0,.58,1),P3=t=>Array.isArray(t)&&typeof t[0]!="number",OI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MI=t=>e=>1-t(1-e),Av=t=>1-Math.sin(Math.acos(t)),VI=MI(Av),k3=OI(Av),LI=_u(.33,1.53,.69,.99),Pv=MI(LI),R3=OI(Pv),N3=t=>(t*=2)<1?.5*Pv(t):.5*(2-Math.pow(2,-10*(t-1))),j3={linear:xt,easeIn:C3,easeInOut:DI,easeOut:A3,circIn:Av,circInOut:k3,circOut:VI,backIn:Pv,backInOut:R3,backOut:LI,anticipate:N3},g1=t=>{if(Array.isArray(t)){Cv(t.length===4);const[e,n,r,i]=t;return _u(e,n,r,i)}else if(typeof t=="string")return j3[t];return t},kv=(t,e)=>n=>!!(wu(n)&&OL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),FI=(t,e,n)=>r=>{if(!wu(r))return r;const[i,a,l,u]=r.match(Mf);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},D3=t=>Ai(0,255,t),Hm={...Ho,transform:t=>Math.round(D3(t))},Eo={test:kv("rgb","red"),parse:FI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hm.transform(t)+", "+Hm.transform(e)+", "+Hm.transform(n)+", "+Vc(Mc.transform(r))+")"};function O3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qg={test:kv("#"),parse:O3,transform:Eo.transform},qa={test:kv("hsl","hue"),parse:FI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gr.transform(Vc(e))+", "+Gr.transform(Vc(n))+", "+Vc(Mc.transform(r))+")"},dn={test:t=>Eo.test(t)||qg.test(t)||qa.test(t),parse:t=>Eo.test(t)?Eo.parse(t):qa.test(t)?qa.parse(t):qg.parse(t),transform:t=>wu(t)?t:t.hasOwnProperty("red")?Eo.transform(t):qa.transform(t)},dt=(t,e,n)=>-n*t+n*e+t;function Wm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function M3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=Wm(h,u,t+1/3),a=Wm(h,u,t),l=Wm(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Gm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},V3=[qg,Eo,qa],L3=t=>V3.find(e=>e.test(t));function y1(t){const e=L3(t);let n=e.parse(t);return e===qa&&(n=M3(n)),n}const UI=(t,e)=>{const n=y1(t),r=y1(e),i={...n};return a=>(i.red=Gm(n.red,r.red,a),i.green=Gm(n.green,r.green,a),i.blue=Gm(n.blue,r.blue,a),i.alpha=dt(n.alpha,r.alpha,a),Eo.transform(i))};function F3(t){var e,n;return isNaN(t)&&wu(t)&&(((e=t.match(Mf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hI))===null||n===void 0?void 0:n.length)||0)>0}const BI={regex:jL,countKey:"Vars",token:"${v}",parse:xt},zI={regex:hI,countKey:"Colors",token:"${c}",parse:dn.parse},$I={regex:Mf,countKey:"Numbers",token:"${n}",parse:Ho.parse};function Km(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function Hh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Km(n,BI),Km(n,zI),Km(n,$I),n}function qI(t){return Hh(t).values}function HI(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Hh(t),a=e.length;return l=>{let u=i;for(let h=0;h<a;h++)h<r?u=u.replace(BI.token,l[h]):h<r+n?u=u.replace(zI.token,dn.transform(l[h])):u=u.replace($I.token,Vc(l[h]));return u}}const U3=t=>typeof t=="number"?0:t;function B3(t){const e=qI(t);return HI(t)(e.map(U3))}const Pi={test:F3,parse:qI,createTransformer:HI,getAnimatableNone:B3},WI=(t,e)=>n=>`${n>0?e:t}`;function GI(t,e){return typeof t=="number"?n=>dt(t,e,n):dn.test(t)?UI(t,e):t.startsWith("var(")?WI(t,e):QI(t,e)}const KI=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,l)=>GI(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}},z3=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=GI(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},QI=(t,e)=>{const n=Pi.createTransformer(e),r=Hh(t),i=Hh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wi(KI(r.values,i.values),n):WI(t,e)},nu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},v1=(t,e)=>n=>dt(t,e,n);function $3(t){return typeof t=="number"?v1:typeof t=="string"?dn.test(t)?UI:QI:Array.isArray(t)?KI:typeof t=="object"?z3:v1}function q3(t,e,n){const r=[],i=n||$3(t[0]),a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||xt:e;u=wi(h,u)}r.push(u)}return r}function YI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Cv(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=q3(e,r,i),u=l.length,h=m=>{let g=0;if(u>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=nu(t[g],t[g+1],m);return l[g](v)};return n?m=>h(Ai(t[0],t[a-1],m)):h}function H3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=nu(0,e,r);t.push(dt(n,1,i))}}function W3(t){const e=[0];return H3(e,t.length-1),e}function G3(t,e){return t.map(n=>n*e)}function K3(t,e){return t.map(()=>e||DI).splice(0,t.length-1)}function Wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=P3(r)?r.map(g1):g1(r),a={done:!1,value:e[0]},l=G3(n&&n.length===e.length?n:W3(e),t),u=YI(l,e,{ease:Array.isArray(i)?i:K3(e,i)});return{calculatedDuration:t,next:h=>(a.value=u(h),a.done=h>=t,a)}}function JI(t,e){return e?t*(1e3/e):0}const Q3=5;function XI(t,e,n){const r=Math.max(e-Q3,0);return JI(n-t(r),e-r)}const Qm=.001,Y3=.01,J3=10,X3=.05,Z3=1;function e6({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,l=1-e;l=Ai(X3,Z3,l),t=Ai(Y3,J3,Es(t)),l<1?(i=m=>{const g=m*l,v=g*t,_=g-n,I=Hg(m,l),T=Math.exp(-v);return Qm-_/I*T},a=m=>{const v=m*l*t,_=v*n+n,I=Math.pow(l,2)*Math.pow(m,2)*t,T=Math.exp(-v),C=Hg(Math.pow(m,2),l);return(-i(m)+Qm>0?-1:1)*((_-I)*T)/C}):(i=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Qm+g*v},a=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const u=5/t,h=n6(i,a,u);if(t=So(t),isNaN(h))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const t6=12;function n6(t,e,n){let r=n;for(let i=1;i<t6;i++)r=r-t(r)/e(r);return r}function Hg(t,e){return t*Math.sqrt(1-e*e)}const r6=["duration","bounce"],s6=["stiffness","damping","mass"];function w1(t,e){return e.some(n=>t[n]!==void 0)}function i6(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!w1(t,s6)&&w1(t,r6)){const n=e6(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ZI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=i6({...r,velocity:-Es(r.velocity||0)}),I=v||0,T=h/(2*Math.sqrt(u*m)),C=a-i,b=Es(Math.sqrt(u/m)),O=Math.abs(C)<5;n||(n=O?.01:2),e||(e=O?.005:.5);let D;if(T<1){const M=Hg(b,T);D=G=>{const Q=Math.exp(-T*b*G);return a-Q*((I+T*b*C)/M*Math.sin(M*G)+C*Math.cos(M*G))}}else if(T===1)D=M=>a-Math.exp(-b*M)*(C+(I+b*C)*M);else{const M=b*Math.sqrt(T*T-1);D=G=>{const Q=Math.exp(-T*b*G),re=Math.min(M*G,300);return a-Q*((I+T*b*C)*Math.sinh(re)+M*C*Math.cosh(re))/M}}return{calculatedDuration:_&&g||null,next:M=>{const G=D(M);if(_)l.done=M>=g;else{let Q=I;M!==0&&(T<1?Q=XI(D,M,G):Q=0);const re=Math.abs(Q)<=n,L=Math.abs(a-G)<=e;l.done=re&&L}return l.value=l.done?a:G,l}}}function x1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},I=k=>u!==void 0&&k<u||h!==void 0&&k>h,T=k=>u===void 0?h:h===void 0||Math.abs(u-k)<Math.abs(h-k)?u:h;let C=n*e;const b=v+C,O=l===void 0?b:l(b);O!==b&&(C=O-v);const D=k=>-C*Math.exp(-k/r),M=k=>O+D(k),G=k=>{const N=D(k),U=M(k);_.done=Math.abs(N)<=m,_.value=_.done?O:U};let Q,re;const L=k=>{I(_.value)&&(Q=k,re=ZI({keyframes:[_.value,T(_.value)],velocity:XI(M,k,_.value),damping:i,stiffness:a,restDelta:m,restSpeed:g}))};return L(0),{calculatedDuration:null,next:k=>{let N=!1;return!re&&Q===void 0&&(N=!0,G(k),L(k)),Q!==void 0&&k>Q?re.next(k-Q):(!N&&G(k),_)}}}const o6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>As(e),now:()=>en.isProcessing?en.timestamp:performance.now()}},_1=2e4;function E1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_1;)e+=n,r=t.next(e);return e>=_1?1/0:e}const a6={decay:x1,inertia:x1,tween:Wh,keyframes:Wh,spring:ZI};function Gh({autoplay:t=!0,delay:e=0,driver:n=o6,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:h,onStop:m,onComplete:g,onUpdate:v,..._}){let I=1,T=!1,C,b;const O=()=>{b=new Promise(B=>{C=B})};O();let D;const M=a6[i]||Wh;let G;M!==Wh&&typeof r[0]!="number"&&(G=YI([0,100],r,{clamp:!1}),r=[0,100]);const Q=M({..._,keyframes:r});let re;u==="mirror"&&(re=M({..._,keyframes:[...r].reverse(),velocity:-(_.velocity||0)}));let L="idle",k=null,N=null,U=null;Q.calculatedDuration===null&&a&&(Q.calculatedDuration=E1(Q));const{calculatedDuration:$}=Q;let R=1/0,j=1/0;$!==null&&(R=$+l,j=R*(a+1)-l);let we=0;const Qe=B=>{if(N===null)return;I>0&&(N=Math.min(N,B)),I<0&&(N=Math.min(B-j/I,N)),k!==null?we=k:we=Math.round(B-N)*I;const X=we-e*(I>=0?1:-1),ve=I>=0?X<0:X>j;we=Math.max(X,0),L==="finished"&&k===null&&(we=j);let ke=we,Ne=Q;if(a){const Ge=Math.min(we,j)/R;let lt=Math.floor(Ge),Ut=Ge%1;!Ut&&Ge>=1&&(Ut=1),Ut===1&&lt--,lt=Math.min(lt,a+1),!!(lt%2)&&(u==="reverse"?(Ut=1-Ut,l&&(Ut-=l/R)):u==="mirror"&&(Ne=re)),ke=Ai(0,1,Ut)*R}const je=ve?{done:!1,value:r[0]}:Ne.next(ke);G&&(je.value=G(je.value));let{done:Be}=je;!ve&&$!==null&&(Be=I>=0?we>=j:we<=0);const qe=k===null&&(L==="finished"||L==="running"&&Be);return v&&v(je.value),qe&&oe(),je},De=()=>{D&&D.stop(),D=void 0},Me=()=>{L="idle",De(),C(),O(),N=U=null},oe=()=>{L="finished",g&&g(),De(),C()},ge=()=>{if(T)return;D||(D=n(Qe));const B=D.now();h&&h(),k!==null?N=B-k:(!N||L==="finished")&&(N=B),L==="finished"&&O(),U=N,k=null,L="running",D.start()};t&&ge();const ue={then(B,X){return b.then(B,X)},get time(){return Es(we)},set time(B){B=So(B),we=B,k!==null||!D||I===0?k=B:N=D.now()-B/I},get duration(){const B=Q.calculatedDuration===null?E1(Q):Q.calculatedDuration;return Es(B)},get speed(){return I},set speed(B){B===I||!D||(I=B,ue.time=Es(we))},get state(){return L},play:ge,pause:()=>{L="paused",k=we},stop:()=>{T=!0,L!=="idle"&&(L="idle",m&&m(),Me())},cancel:()=>{U!==null&&Qe(U),Me()},complete:()=>{L="finished"},sample:B=>(N=0,Qe(B))};return ue}function l6(t){let e;return()=>(e===void 0&&(e=t()),e)}const c6=l6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),u6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Zd=10,d6=2e4,h6=(t,e)=>e.type==="spring"||t==="backgroundColor"||!kI(e.ease);function f6(t,e,{onUpdate:n,onComplete:r,...i}){if(!(c6()&&u6.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,u,h,m=!1;const g=()=>{h=new Promise(M=>{u=M})};g();let{keyframes:v,duration:_=300,ease:I,times:T}=i;if(h6(e,i)){const M=Gh({...i,repeat:0,delay:0});let G={done:!1,value:v[0]};const Q=[];let re=0;for(;!G.done&&re<d6;)G=M.sample(re),Q.push(G.value),re+=Zd;T=void 0,v=Q,_=re-Zd,I="linear"}const C=E3(t.owner.current,e,v,{...i,duration:_,ease:I,times:T}),b=()=>{m=!1,C.cancel()},O=()=>{m=!0,tt.update(b),u(),g()};return C.onfinish=()=>{m||(t.set(b3(v,i)),r&&r(),O())},{then(M,G){return h.then(M,G)},attachTimeline(M){return C.timeline=M,C.onfinish=null,xt},get time(){return Es(C.currentTime||0)},set time(M){C.currentTime=So(M)},get speed(){return C.playbackRate},set speed(M){C.playbackRate=M},get duration(){return Es(_)},play:()=>{l||(C.play(),As(b))},pause:()=>C.pause(),stop:()=>{if(l=!0,C.playState==="idle")return;const{currentTime:M}=C;if(M){const G=Gh({...i,autoplay:!1});t.setWithVelocity(G.sample(M-Zd).value,G.sample(M).value,Zd)}O()},complete:()=>{m||C.finish()},cancel:O}}function p6({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:xt,pause:xt,stop:xt,then:a=>(a(),Promise.resolve()),cancel:xt,complete:xt});return e?Gh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const m6={type:"spring",stiffness:500,damping:25,restSpeed:10},g6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y6={type:"keyframes",duration:.8},v6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w6=(t,{keyframes:e})=>e.length>2?y6:qo.has(t)?t.startsWith("scale")?g6(e[1]):m6:v6,Wg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pi.test(e)||e==="0")&&!e.startsWith("url(")),x6=new Set(["brightness","contrast","saturate","opacity"]);function _6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mf)||[];if(!r)return t;const i=n.replace(r,"");let a=x6.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const E6=/([a-z-]*)\(.*?\)/g,Gg={...Pi,getAnimatableNone:t=>{const e=t.match(E6);return e?e.map(_6).join(" "):t}},b6={...fI,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Gg,WebkitFilter:Gg},Rv=t=>b6[t];function eC(t,e){let n=Rv(t);return n!==Gg&&(n=Pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tC=t=>/^0[^.\s]+$/.test(t);function T6(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||tC(t)}function S6(t,e,n,r){const i=Wg(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const h=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),T6(a[m])&&h.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(u=a[m]);if(i&&h.length&&u)for(let m=0;m<h.length;m++){const g=h[m];a[g]=eC(e,u)}return a}function I6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}function Nv(t,e){return t[e]||t.default||t}const C6={skipAnimations:!1},jv=(t,e,n,r={})=>i=>{const a=Nv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-So(l);const h=S6(e,t,n,a),m=h[0],g=h[h.length-1],v=Wg(t,m),_=Wg(t,g);let I={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:T=>{e.set(T),a.onUpdate&&a.onUpdate(T)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(I6(a)||(I={...I,...w6(t,I)}),I.duration&&(I.duration=So(I.duration)),I.repeatDelay&&(I.repeatDelay=So(I.repeatDelay)),!v||!_||_3.current||a.type===!1||C6.skipAnimations)return p6(I);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=f6(e,t,I);if(T)return T}return Gh(I)};function Kh(t){return!!(Cn(t)&&t.add)}const nC=t=>/^\-?\d*\.?\d+$/.test(t);function Dv(t,e){t.indexOf(e)===-1&&t.push(e)}function Ov(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mv{constructor(){this.subscriptions=[]}add(e){return Dv(this.subscriptions,e),()=>Ov(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const A6=t=>!isNaN(parseFloat(t));class P6{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=en;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=A6(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Mv);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?JI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new P6(t,e)}const rC=t=>e=>e.test(t),k6={test:t=>t==="auto",parse:t=>t},sC=[Ho,be,Gr,ii,VL,ML,k6],wc=t=>sC.find(rC(t)),R6=[...sC,dn,Pi],N6=t=>R6.find(rC(t));function j6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function D6(t,e){const n=Lf(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const u=JL(a[l]);j6(t,l,u)}}function O6(t,e,n){var r,i;const a=Object.keys(e).filter(u=>!t.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const h=a[u],m=e[h];let g=null;Array.isArray(m)&&(g=m[0]),g===null&&(g=(i=(r=n[h])!==null&&r!==void 0?r:t.readValue(h))!==null&&i!==void 0?i:e[h]),g!=null&&(typeof g=="string"&&(nC(g)||tC(g))?g=parseFloat(g):!N6(g)&&Pi.test(m)&&(g=eC(h,m)),t.addValue(h,il(g,{owner:t})),n[h]===void 0&&(n[h]=g),g!==null&&t.setBaseTarget(h,g))}}function M6(t,e){return e?(e[t]||e.default||e).from:void 0}function V6(t,e,n){const r={};for(const i in t){const a=M6(i,e);if(a!==void 0)r[i]=a;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function L6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F6(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function iC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const h=t.getValue("willChange");r&&(a=r);const m=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in u){const _=t.getValue(v),I=u[v];if(!_||I===void 0||g&&L6(g,v))continue;const T={delay:n,elapsed:0,...Nv(a||{},v)};if(window.HandoffAppearAnimations){const O=t.getProps()[oI];if(O){const D=window.HandoffAppearAnimations(O,v,_,tt);D!==null&&(T.elapsed=D,T.isHandoff=!0)}}let C=!T.isHandoff&&!F6(_,I);if(T.type==="spring"&&(_.getVelocity()||T.velocity)&&(C=!1),_.animation&&(C=!1),C)continue;_.start(jv(v,_,I,t.shouldReduceMotion&&qo.has(v)?{type:!1}:T));const b=_.animation;Kh(h)&&(h.add(v),b.then(()=>h.remove(v))),m.push(b)}return l&&Promise.all(m).then(()=>{l&&D6(t,l)}),m}function Kg(t,e,n={}){const r=Lf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(iC(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return U6(t,e,m+h,g,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,m]=u==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function U6(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,h=i===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(t.variantChildren).sort(B6).forEach((m,g)=>{m.notify("AnimationStart",e),l.push(Kg(m,e,{...a,delay:n+h(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function B6(t,e){return t.sortNodePosition(e)}function z6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Kg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Kg(t,e,n);else{const i=typeof e=="function"?Lf(t,e,n.custom):e;r=Promise.all(iC(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const $6=[...yv].reverse(),q6=yv.length;function H6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>z6(t,n,r)))}function W6(t){let e=H6(t);const n=K6();let r=!0;const i=(h,m)=>{const g=Lf(t,m);if(g){const{transition:v,transitionEnd:_,...I}=g;h={...h,...I,..._}}return h};function a(h){e=h(t)}function l(h,m){const g=t.getProps(),v=t.getVariantContext(!0)||{},_=[],I=new Set;let T={},C=1/0;for(let O=0;O<q6;O++){const D=$6[O],M=n[D],G=g[D]!==void 0?g[D]:v[D],Q=eu(G),re=D===m?M.isActive:null;re===!1&&(C=O);let L=G===v[D]&&G!==g[D]&&Q;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),M.protectedKeys={...T},!M.isActive&&re===null||!G&&!M.prevProp||Df(G)||typeof G=="boolean")continue;let N=G6(M.prevProp,G)||D===m&&M.isActive&&!L&&Q||O>C&&Q,U=!1;const $=Array.isArray(G)?G:[G];let R=$.reduce(i,{});re===!1&&(R={});const{prevResolvedValues:j={}}=M,we={...j,...R},Qe=De=>{N=!0,I.has(De)&&(U=!0,I.delete(De)),M.needsAnimating[De]=!0};for(const De in we){const Me=R[De],oe=j[De];if(T.hasOwnProperty(De))continue;let ge=!1;qh(Me)&&qh(oe)?ge=!AI(Me,oe):ge=Me!==oe,ge?Me!==void 0?Qe(De):I.add(De):Me!==void 0&&I.has(De)?Qe(De):M.protectedKeys[De]=!0}M.prevProp=G,M.prevResolvedValues=R,M.isActive&&(T={...T,...R}),r&&t.blockInitialAnimation&&(N=!1),N&&(!L||U)&&_.push(...$.map(De=>({animation:De,options:{type:D,...h}})))}if(I.size){const O={};I.forEach(D=>{const M=t.getBaseTarget(D);M!==void 0&&(O[D]=M)}),_.push({animation:O})}let b=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(_):Promise.resolve()}function u(h,m,g){var v;if(n[h].isActive===m)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(I=>{var T;return(T=I.animationState)===null||T===void 0?void 0:T.setActive(h,m)}),n[h].isActive=m;const _=l(g,h);for(const I in n)n[I].protectedKeys={};return _}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n}}function G6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AI(e,t):!1}function fo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K6(){return{animate:fo(!0),whileInView:fo(),whileHover:fo(),whileTap:fo(),whileDrag:fo(),whileFocus:fo(),exit:fo()}}class Q6 extends Oi{constructor(e){super(e),e.animationState||(e.animationState=W6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Df(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Y6=0;class J6 extends Oi{constructor(){super(...arguments),this.id=Y6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const X6={animation:{Feature:Q6},exit:{Feature:J6}},b1=(t,e)=>Math.abs(t-e);function Z6(t,e){const n=b1(t.x,e.x),r=b1(t.y,e.y);return Math.sqrt(n**2+r**2)}class oC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,I=Z6(v.offset,{x:0,y:0})>=3;if(!_&&!I)return;const{point:T}=v,{timestamp:C}=en;this.history.push({...T,timestamp:C});const{onStart:b,onMove:O}=this.handlers;_||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ym(_,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:I,onSessionEnd:T,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Jm(v.type==="pointercancel"?this.lastMoveEventInfo:Ym(_,this.transformPagePoint),this.history);this.startEvent&&I&&I(v,b),T&&T(v,b)},!bI(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Vf(e),u=Ym(l,this.transformPagePoint),{point:h}=u,{timestamp:m}=en;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Jm(u,this.history)),this.removeListeners=wi(_s(this.contextWindow,"pointermove",this.handlePointerMove),_s(this.contextWindow,"pointerup",this.handlePointerUp),_s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function Ym(t,e){return e?{point:e(t.point)}:t}function T1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jm({point:t},e){return{point:t,delta:T1(t,aC(e)),offset:T1(t,e5(e)),velocity:t5(e,.1)}}function e5(t){return t[0]}function aC(t){return t[t.length-1]}function t5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=aC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>So(e)));)n--;if(!r)return{x:0,y:0};const a=Es(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Fn(t){return t.max-t.min}function Qg(t,e=0,n=.01){return Math.abs(t-e)<=n}function S1(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Qg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(Qg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){S1(t.x,e.x,n.x,r?r.originX:void 0),S1(t.y,e.y,n.y,r?r.originY:void 0)}function I1(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function n5(t,e,n){I1(t.x,e.x,n.x),I1(t.y,e.y,n.y)}function C1(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Fc(t,e,n){C1(t.x,e.x,n.x),C1(t.y,e.y,n.y)}function r5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function A1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function s5(t,{top:e,left:n,bottom:r,right:i}){return{x:A1(t.x,n,i),y:A1(t.y,e,r)}}function P1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function i5(t,e){return{x:P1(t.x,e.x),y:P1(t.y,e.y)}}function o5(t,e){let n=.5;const r=Fn(t),i=Fn(e);return i>r?n=nu(e.min,e.max-r,t.min):r>i&&(n=nu(t.min,t.max-i,e.min)),Ai(0,1,n)}function a5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Yg=.35;function l5(t=Yg){return t===!1?t=0:t===!0&&(t=Yg),{x:k1(t,"left","right"),y:k1(t,"top","bottom")}}function k1(t,e,n){return{min:R1(t,e),max:R1(t,n)}}function R1(t,e){return typeof t=="number"?t:t[e]||0}const N1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:N1(),y:N1()}),j1=()=>({min:0,max:0}),St=()=>({x:j1(),y:j1()});function Jn(t){return[t("x"),t("y")]}function lC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function c5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function u5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xm(t){return t===void 0||t===1}function Jg({scale:t,scaleX:e,scaleY:n}){return!Xm(t)||!Xm(e)||!Xm(n)}function go(t){return Jg(t)||cC(t)||t.z||t.rotate||t.rotateX||t.rotateY}function cC(t){return D1(t.x)||D1(t.y)}function D1(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,i=e*r;return n+i}function O1(t,e,n,r,i){return i!==void 0&&(t=Qh(t,i,r)),Qh(t,n,r)+e}function Xg(t,e=0,n=1,r,i){t.min=O1(t.min,e,n,r,i),t.max=O1(t.max,e,n,r,i)}function uC(t,{x:e,y:n}){Xg(t.x,e.translate,e.scale,e.originPoint),Xg(t.y,n.translate,n.scale,n.originPoint)}function d5(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const h=a.instance;h&&h.style&&h.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,uC(t,l)),r&&go(a.latestValues)&&Wa(t,a.latestValues))}e.x=M1(e.x),e.y=M1(e.y)}function M1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function oi(t,e){t.min=t.min+e,t.max=t.max+e}function V1(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,l=dt(t.min,t.max,a);Xg(t,e[n],e[r],l,e.scale)}const h5=["x","scaleX","originX"],f5=["y","scaleY","originY"];function Wa(t,e){V1(t.x,e,h5),V1(t.y,e,f5)}function dC(t,e){return lC(u5(t.getBoundingClientRect(),e))}function p5(t,e,n){const r=dC(t,n),{scroll:i}=e;return i&&(oi(r.x,i.offset.x),oi(r.y,i.offset.y)),r}const hC=({current:t})=>t?t.ownerDocument.defaultView:null,m5=new WeakMap;class g5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vf(g,"page").point)},a=(g,v)=>{const{drag:_,dragPropagation:I,onDragStart:T}=this.getProps();if(_&&!I&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=SI(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(b=>{let O=this.getAxisMotionValue(b).get()||0;if(Gr.test(O)){const{projection:D}=this.visualElement;if(D&&D.layout){const M=D.layout.layoutBox[b];M&&(O=Fn(M)*(parseFloat(O)/100))}}this.originPoint[b]=O}),T&&tt.update(()=>T(g,v),!1,!0);const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:I,onDirectionLock:T,onDrag:C}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:b}=v;if(I&&this.currentDirection===null){this.currentDirection=y5(b),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),C&&C(g,v)},u=(g,v)=>this.stop(g,v),h=()=>Jn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new oC(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:hC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tt.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!eh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=r5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&$a(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=s5(i.layoutBox,n):this.constraints=!1,this.elastic=l5(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=a5(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$a(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=p5(r,i.root,this.visualElement.getTransformPagePoint());let l=i5(i.layout.layoutBox,a);if(n){const u=n(c5(l));this.hasMutatedConstraints=!!u,u&&(l=lC(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Jn(g=>{if(!eh(g,n,this.currentDirection))return;let v=h&&h[g]||{};l&&(v={min:0,max:0});const _=i?200:1e6,I=i?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(jv(e,r,0,n))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!eh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-dt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$a(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jn(l=>{const u=this.getAxisMotionValue(l);if(u){const h=u.get();i[l]=o5({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!eh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(dt(h,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;m5.set(this.visualElement,this);const e=this.visualElement.current,n=_s(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();$a(h)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=ws(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Jn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Yg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function eh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function y5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v5 extends Oi{constructor(e){super(e),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new g5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const L1=t=>(e,n)=>{t&&tt.update(()=>t(e,n))};class w5 extends Oi{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(e){this.session=new oC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:L1(e),onStart:L1(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&tt.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=_s(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function x5(){const t=P.useContext(Nf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=F1(t,e.target.x),r=F1(t,e.target.y);return`${n}% ${r}%`}},_5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Pi.parse(t);if(i.length>5)return r;const a=Pi.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=h;const m=dt(u,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};class E5 extends Xh.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;PL(b5),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fC(t){const[e,n]=x5(),r=P.useContext(wv);return Xh.createElement(E5,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(lI),isPresent:e,safeToRemove:n})}const b5={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:_5},pC=["TopLeft","TopRight","BottomLeft","BottomRight"],T5=pC.length,U1=t=>typeof t=="string"?parseFloat(t):t,B1=t=>typeof t=="number"||be.test(t);function S5(t,e,n,r,i,a){i?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,I5(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,C5(r))):a&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<T5;l++){const u=`border${pC[l]}Radius`;let h=z1(e,u),m=z1(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||B1(h)===B1(m)?(t[u]=Math.max(dt(U1(h),U1(m),r),0),(Gr.test(m)||Gr.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function z1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I5=mC(0,.5,VI),C5=mC(.5,.95,xt);function mC(t,e,n){return r=>r<t?0:r>e?1:n(nu(t,e,r))}function $1(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){$1(t.x,e.x),$1(t.y,e.y)}function q1(t,e,n,r,i){return t-=e,t=Qh(t,1/n,r),i!==void 0&&(t=Qh(t,1/i,r)),t}function A5(t,e=0,n=1,r=.5,i,a=t,l=t){if(Gr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=dt(a.min,a.max,r);t===a&&(u-=e),t.min=q1(t.min,e,n,u,i),t.max=q1(t.max,e,n,u,i)}function H1(t,e,[n,r,i],a,l){A5(t,e[n],e[r],e[i],e.scale,a,l)}const P5=["x","scaleX","originX"],k5=["y","scaleY","originY"];function W1(t,e,n,r){H1(t.x,e,P5,n?n.x:void 0,r?r.x:void 0),H1(t.y,e,k5,n?n.y:void 0,r?r.y:void 0)}function G1(t){return t.translate===0&&t.scale===1}function gC(t){return G1(t.x)&&G1(t.y)}function R5(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function yC(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function K1(t){return Fn(t.x)/Fn(t.y)}class N5{constructor(){this.members=[]}add(e){Dv(this.members,e),e.scheduleRender()}remove(e){if(Ov(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q1(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:h,rotateX:m,rotateY:g}=n;h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const j5=(t,e)=>t.depth-e.depth;class D5{constructor(){this.children=[],this.isDirty=!1}add(e){Dv(this.children,e),this.isDirty=!0}remove(e){Ov(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j5),this.isDirty=!1,this.children.forEach(e)}}function O5(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(As(r),t(a-e))};return tt.read(r,!0),()=>As(r)}function M5(t){window.MotionDebug&&window.MotionDebug.record(t)}function V5(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L5(t,e,n){const r=Cn(t)?t:il(t);return r.start(jv("",r,e,n)),r.animation}const Y1=["","X","Y","Z"],F5={visibility:"hidden"},J1=1e3;let U5=0;const yo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=U5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yo.totalNodes=yo.resolvedTargetDeltas=yo.recalculatedProjection=0,this.nodes.forEach($5),this.nodes.forEach(K5),this.nodes.forEach(Q5),this.nodes.forEach(q5),M5(yo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new D5)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Mv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=V5(l),this.instance=l;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||h)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=O5(_,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(Z1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:I,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||g.getDefaultTransition()||eF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:O}=g.getProps(),D=!this.targetLayout||!yC(this.targetLayout,T)||I,M=!_&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||_&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,M);const G={...Nv(C,"layout"),onPlay:b,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else _||Z1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X1);return}this.isUpdating||this.nodes.forEach(W5),this.isUpdating=!1,this.nodes.forEach(G5),this.nodes.forEach(B5),this.nodes.forEach(z5),this.clearAllSnapshots();const u=performance.now();en.delta=Ai(0,1e3/60,u-en.timestamp),en.timestamp=u,en.isProcessing=!0,zm.update.process(en),zm.preRender.process(en),zm.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(H5),this.sharedNodes.forEach(J5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!gC(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&(u||go(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),tF(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return St();const u=l.measureViewportBox(),{scroll:h}=this.root;return h&&(oi(u.x,h.offset.x),oi(u.y,h.offset.y)),u}removeElementScroll(l){const u=St();Yn(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;if(m!==this.root&&g&&v.layoutScroll){if(g.isRoot){Yn(u,l);const{scroll:_}=this.root;_&&(oi(u.x,-_.offset.x),oi(u.y,-_.offset.y))}oi(u.x,g.offset.x),oi(u.y,g.offset.y)}}return u}applyTransform(l,u=!1){const h=St();Yn(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Wa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),go(g.latestValues)&&Wa(h,g.latestValues)}return go(this.latestValues)&&Wa(h,this.latestValues),h}removeTransform(l){const u=St();Yn(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!go(m.latestValues))continue;Jg(m.latestValues)&&m.updateSnapshot();const g=St(),v=m.measurePageBox();Yn(g,v),W1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return go(this.latestValues)&&W1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Fc(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),uC(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Fc(this.relativeTargetOrigin,this.target,I.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jg(this.parent.latestValues)||cC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Yn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,I=this.treeScale.y;d5(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:T}=u;if(!T){this.projectionTransform&&(this.projectionDelta=Ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha());const C=this.projectionTransform;Lc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=Q1(this.projectionDelta,this.treeScale),(this.projectionTransform!==C||this.treeScale.x!==_||this.treeScale.y!==I)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),yo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=St(),I=h?h.source:void 0,T=this.layout?this.layout.source:void 0,C=I!==T,b=this.getStack(),O=!b||b.members.length<=1,D=!!(C&&!O&&this.options.crossfade===!0&&!this.path.some(Z5));this.animationProgress=0;let M;this.mixTargetDelta=G=>{const Q=G/1e3;eE(v.x,l.x,Q),eE(v.y,l.y,Q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X5(this.relativeTarget,this.relativeTargetOrigin,_,Q),M&&R5(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=St()),Yn(M,this.relativeTarget)),C&&(this.animationValues=g,S5(g,m,this.latestValues,Q,D,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{ph.hasAnimatedSinceResize=!0,this.currentAnimation=L5(0,J1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&wC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||St();const v=Fn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const _=Fn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Yn(u,h),Wa(u,g),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new N5),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const m={};for(let g=0;g<Y1.length;g++){const v="rotate"+Y1[g];h[v]&&(m[v]=h[v],l.setStaticValue(v,0))}l.render();for(const g in m)l.setStaticValue(g,m[g]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F5;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=fh(l?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=fh(l?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(C.transform=g?g({},""):"none",this.hasProjected=!1),C}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=Q1(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:I,y:T}=this.projectionDelta;m.transformOrigin=`${I.origin*100}% ${T.origin*100}% 0`,v.animationValues?m.opacity=v===this?(h=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const C in zh){if(_[C]===void 0)continue;const{correct:b,applyTo:O}=zh[C],D=m.transform==="none"?_[C]:b(_[C],v);if(O){const M=O.length;for(let G=0;G<M;G++)m[O[G]]=D}else m[C]=D}return this.options.layoutId&&(m.pointerEvents=v===this?fh(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(X1),this.root.sharedNodes.clear()}}}function B5(t){t.updateLayout()}function z5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Jn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],I=Fn(_);_.min=r[v].min,_.max=_.min+I}):wC(a,n.layoutBox,r)&&Jn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],I=Fn(r[v]);_.max=_.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+I)});const u=Ha();Lc(u,r,n.layoutBox);const h=Ha();l?Lc(h,t.applyTransform(i,!0),n.measuredBox):Lc(h,r,n.layoutBox);const m=!gC(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:I}=v;if(_&&I){const T=St();Fc(T,n.layoutBox,_.layoutBox);const C=St();Fc(C,r,I.layoutBox),yC(T,C)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $5(t){yo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function H5(t){t.clearSnapshot()}function X1(t){t.clearMeasurements()}function W5(t){t.isLayoutDirty=!1}function G5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Z1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function K5(t){t.resolveTargetDelta()}function Q5(t){t.calcProjection()}function Y5(t){t.resetRotation()}function J5(t){t.removeLeadSnapshot()}function eE(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tE(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function X5(t,e,n,r){tE(t.x,e.x,n.x,r),tE(t.y,e.y,n.y,r)}function Z5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eF={duration:.45,ease:[.4,0,.1,1]},nE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),rE=nE("applewebkit/")&&!nE("chrome/")?Math.round:xt;function sE(t){t.min=rE(t.min),t.max=rE(t.max)}function tF(t){sE(t.x),sE(t.y)}function wC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qg(K1(e),K1(n),.2)}const nF=vC({attachResizeListener:(t,e)=>ws(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zm={current:void 0},xC=vC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zm.current){const t=new nF({});t.mount(window),t.setOptions({layoutScroll:!0}),Zm.current=t}return Zm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rF={pan:{Feature:w5},drag:{Feature:v5,ProjectionNode:xC,MeasureLayout:fC}},sF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iF(t){const e=sF.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Zg(t,e,n=1){const[r,i]=iF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return nC(l)?parseFloat(l):l}else return zg(i)?Zg(i,e,n+1):i}function oF(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!zg(a))return;const l=Zg(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!zg(a))continue;const l=Zg(a,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const aF=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_C=t=>aF.has(t),lF=t=>Object.keys(t).some(_C),iE=t=>t===Ho||t===be,oE=(t,e)=>parseFloat(t.split(", ")[e]),aE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return oE(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?oE(a[1],t):0}},cF=new Set(["x","y","z"]),uF=vu.filter(t=>!cF.has(t));function dF(t){const e=[];return uF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ol={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:aE(4,13),y:aE(5,14)};ol.translateX=ol.x;ol.translateY=ol.y;const hF=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(m=>{u[m]=ol[m](r,a)}),e.render();const h=e.measureViewportBox();return n.forEach(m=>{const g=e.getValue(m);g&&g.jump(u[m]),t[m]=ol[m](h,a)}),t},fF=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(_C);let a=[],l=!1;const u=[];if(i.forEach(h=>{const m=t.getValue(h);if(!t.hasValue(h))return;let g=n[h],v=wc(g);const _=e[h];let I;if(qh(_)){const T=_.length,C=_[0]===null?1:0;g=_[C],v=wc(g);for(let b=C;b<T&&_[b]!==null;b++)I?Cv(wc(_[b])===I):I=wc(_[b])}else I=wc(_);if(v!==I)if(iE(v)&&iE(I)){const T=m.get();typeof T=="string"&&m.set(parseFloat(T)),typeof _=="string"?e[h]=parseFloat(_):Array.isArray(_)&&I===be&&(e[h]=_.map(parseFloat))}else v?.transform&&I?.transform&&(g===0||_===0)?g===0?m.set(I.transform(g)):e[h]=v.transform(_):(l||(a=dF(t),l=!0),u.push(h),r[h]=r[h]!==void 0?r[h]:e[h],m.jump(_))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,m=hF(e,t,u);return a.length&&a.forEach(([g,v])=>{t.getValue(g).set(v)}),t.render(),jf&&h!==null&&window.scrollTo({top:h}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function pF(t,e,n,r){return lF(e)?fF(t,e,n,r):{target:e,transitionEnd:r}}const mF=(t,e,n,r)=>{const i=oF(t,e,r);return e=i.target,r=i.transitionEnd,pF(t,e,n,r)},ey={current:null},EC={current:!1};function gF(){if(EC.current=!0,!!jf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ey.current=t.matches;t.addListener(e),e()}else ey.current=!1}function yF(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],l=n[i];if(Cn(a))t.addValue(i,a),Kh(r)&&r.add(i);else if(Cn(l))t.addValue(i,il(a,{owner:t})),Kh(r)&&r.remove(i);else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,il(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const lE=new WeakMap,bC=Object.keys(tu),vF=bC.length,cE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wF=vv.length;class xF{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Of(n),this.isVariantNode=aI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{});for(const v in g){const _=g[v];u[v]!==void 0&&Cn(_)&&(_.set(u[v],!1),Kh(m)&&m.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,lE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EC.current||gF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lE.delete(this.current),this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=qo.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let l,u;for(let h=0;h<vF;h++){const m=bC[h],{isEnabled:g,Feature:v,ProjectionNode:_,MeasureLayout:I}=tu[m];_&&(l=_),g(n)&&(!this.features[m]&&v&&(this.features[m]=new v(this)),I&&(u=I))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:m,drag:g,dragConstraints:v,layoutScroll:_,layoutRoot:I}=n;this.projection.setOptions({layoutId:h,layout:m,alwaysMeasureLayout:!!g||v&&$a(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:_,layoutRoot:I})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cE.length;r++){const i=cE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=yF(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wF;r++){const i=vv[r],a=this.props[i];(eu(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=il(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Iv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Mv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TC extends xF{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let l=V6(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),a){O6(this,r,l);const u=mF(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function _F(t){return window.getComputedStyle(t)}class EF extends TC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(qo.has(n)){const r=Rv(n);return r&&r.default||0}else{const r=_F(e),i=(dI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dC(e,n)}build(e,n,r,i){_v(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Sv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){yI(e,n,r,i)}}class bF extends TC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qo.has(n)){const r=Rv(n);return r&&r.default||0}return n=vI.has(n)?n:gv(n),e.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(e,n){return xI(e,n)}build(e,n,r,i){bv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){wI(e,n,r,i)}mount(e){this.isSVGTag=Tv(e.tagName),super.mount(e)}}const TF=(t,e)=>xv(t)?new bF(e,{enableHardwareAcceleration:!1}):new EF(e,{enableHardwareAcceleration:!0}),SF={layout:{ProjectionNode:xC,MeasureLayout:fC}},IF={...X6,...v3,...rF,...SF},le=CL((t,e)=>i3(t,e,IF,TF));function SC(){const t=P.useRef(!1);return mv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function CF(){const t=SC(),[e,n]=P.useState(0),r=P.useCallback(()=>{t.current&&n(e+1)},[e]);return[P.useCallback(()=>tt.postRender(r),[r]),e]}class AF extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PF({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:h}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),P.createElement(AF,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(t,{ref:r}))}const eg=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=_I(kF),h=P.useId(),m=P.useMemo(()=>({id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),a?void 0:[n]);return P.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),P.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=P.createElement(PF,{isPresent:n},t)),P.createElement(Nf.Provider,{value:m},t)};function kF(){return new Map}function RF(t){return P.useEffect(()=>()=>t(),[])}const vo=t=>t.key||"";function NF(t,e){t.forEach(n=>{const r=vo(n);e.set(r,n)})}function jF(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const u=P.useContext(wv).forceRender||CF()[0],h=SC(),m=jF(t);let g=m;const v=P.useRef(new Map).current,_=P.useRef(g),I=P.useRef(new Map).current,T=P.useRef(!0);if(mv(()=>{T.current=!1,NF(m,I),_.current=g}),RF(()=>{T.current=!0,I.clear(),v.clear()}),T.current)return P.createElement(P.Fragment,null,g.map(D=>P.createElement(eg,{key:vo(D),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:l},D)));g=[...g];const C=_.current.map(vo),b=m.map(vo),O=C.length;for(let D=0;D<O;D++){const M=C[D];b.indexOf(M)===-1&&!v.has(M)&&v.set(M,void 0)}return l==="wait"&&v.size&&(g=[]),v.forEach((D,M)=>{if(b.indexOf(M)!==-1)return;const G=I.get(M);if(!G)return;const Q=C.indexOf(M);let re=D;if(!re){const L=()=>{v.delete(M);const k=Array.from(I.keys()).filter(N=>!b.includes(N));if(k.forEach(N=>I.delete(N)),_.current=m.filter(N=>{const U=vo(N);return U===M||k.includes(U)}),!v.size){if(h.current===!1)return;u(),r&&r()}};re=P.createElement(eg,{key:vo(G),isPresent:!1,onExitComplete:L,custom:e,presenceAffectsLayout:a,mode:l},G),v.set(M,re)}g.splice(Q,0,re)}),g=g.map(D=>{const M=D.key;return v.has(M)?D:P.createElement(eg,{key:vo(D),isPresent:!0,presenceAffectsLayout:a,mode:l},D)}),P.createElement(P.Fragment,null,v.size?g:g.map(D=>P.cloneElement(D)))};var DF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MF=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:u,...h},m)=>P.createElement("svg",{ref:m,...DF,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${OF(t)}`,...h},[...e.map(([g,v])=>P.createElement(g,v)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var Ie=MF;const VF=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),IC=Ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ty=Ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),LF=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),al=Ie("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),FF=Ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),UF=Ie("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),Sr=Ie("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ff=Ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),BF=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),zF=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$F=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),qF=Ie("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),HF=Ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),uE=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),WF=Ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),GF=Ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dE=Ie("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),KF=Ie("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),QF=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),CC=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),YF=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),JF=Ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),XF=Ie("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),hE=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),AC=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Eu=Ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ZF=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ru=Ie("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),eU=Ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tU=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Vv=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),nU=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Lv=Ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),rU=Ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),sU=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xi=Ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),iU=Ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),oU=Ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),PC=Ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fE=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ny=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ll=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),aU=Ie("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),lU=Ie("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),cU=Ie("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Uf=Ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Oo=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uU=Ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),kC=({size:t="md",className:e=""})=>{const n={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"};return f.jsxs("svg",{className:`${n[t]} ${e}`,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),f.jsx("stop",{offset:"100%",stopColor:"#10B981"})]}),f.jsxs("filter",{id:"glow",children:[f.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),f.jsxs("g",{filter:"url(#glow)",children:[f.jsx("path",{d:"M8 12C8 8.68629 10.6863 6 14 6H28C31.3137 6 34 8.68629 34 12V28C34 31.3137 31.3137 34 28 34H20L14 40L16 34H14C10.6863 34 8 31.3137 8 28V12Z",fill:"url(#logoGradient)",stroke:"#1E40AF",strokeWidth:"1.5"}),f.jsx("path",{d:"M24 18C22.5 18 21.5 19 21.5 20.5C21.5 22 22.5 23 24 23C25.5 23 26.5 22 26.5 20.5C26.5 19 25.5 18 24 18Z",fill:"white"}),f.jsx("path",{d:"M24 20C23.5 20 23 20.5 23 21C23 21.5 23.5 22 24 22C24.5 22 25 21.5 25 21C25 20.5 24.5 20 24 20Z",fill:"white"}),f.jsx("circle",{cx:"16",cy:"16",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("circle",{cx:"32",cy:"16",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("circle",{cx:"24",cy:"28",r:"1.5",fill:"white",opacity:"0.8"}),f.jsx("path",{d:"M17.5 16L30.5 16",stroke:"white",strokeWidth:"1",opacity:"0.6",strokeLinecap:"round"}),f.jsx("path",{d:"M24 17.5L24 26.5",stroke:"white",strokeWidth:"1",opacity:"0.6",strokeLinecap:"round"})]})]})},dU=()=>{const[t,e]=P.useState(!0);P.useEffect(()=>{const r=localStorage.getItem("theme");r?(e(r==="dark"),r==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("blue"))):(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue"),localStorage.setItem("theme","dark"))},[]);const n=()=>{const r=!t;e(r);const i=r?"dark":"blue";localStorage.setItem("theme",i),i==="dark"?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("blue")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("blue"))};return f.jsx(le.button,{onClick:n,className:`relative w-14 h-8 ${t?"bg-white/10":"bg-blue-500/20"} backdrop-blur-sm rounded-full border border-white/20 p-1 cursor-pointer`,whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(le.div,{className:`w-6 h-6 ${t?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-blue-400 to-cyan-400"} rounded-full flex items-center justify-center`,animate:{x:t?24:0},transition:{type:"spring",stiffness:500,damping:30},children:f.jsx(le.div,{initial:!1,animate:{rotate:t?180:0},transition:{duration:.3},children:t?f.jsx(eU,{className:"w-4 h-4 text-white"}):f.jsx(oU,{className:"w-4 h-4 text-blue-600"})})})})},hU=()=>f.jsxs("footer",{style:{width:"100%",padding:"1.5rem 0 1rem 0",background:"rgba(0,0,0,0.85)",color:"#fff",textAlign:"center",position:"static",left:void 0,bottom:void 0,zIndex:void 0},children:[f.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:4},children:"MeetMate – Your AI-powered event networking companion"}),f.jsxs("div",{style:{fontSize:"0.95rem",marginBottom:4},children:["Contact: ",f.jsx("a",{href:"mailto:support@meetmate.ai",style:{color:"#7dd3fc",textDecoration:"underline"},children:"support@meetmate.ai"})]}),f.jsxs("div",{style:{fontSize:"0.95rem",marginBottom:4},children:[f.jsx("a",{href:"/privacy",style:{color:"#a5b4fc",marginRight:12,textDecoration:"underline"},children:"Privacy Policy"}),f.jsx("a",{href:"/terms",style:{color:"#a5b4fc",textDecoration:"underline"},children:"Terms of Service"})]}),f.jsxs("div",{style:{fontSize:"0.9rem",marginTop:8},children:["© ",new Date().getFullYear()," MeetMate. All rights reserved."]})]}),fU=[{question:"Can AI suggest people to meet based on location?",answer:"Absolutely — I can surface nearby attendees and people in your city who match your interests. I look at location, event attendance, and shared topics to recommend the best nearby matches."},{question:"Can I schedule reminders for follow-ups?",answer:"Yes — I can create friendly follow-up reminders for messages and meetings, and suggest optimal days/times so your outreach gets the best response."},{question:"Can AI recommend personalized events?",answer:"Yes — I suggest events that match your profile, skills, and goals. I prioritize events other users like you attended and events with high relevance to your interests."},{question:"Can AI suggest icebreakers for virtual meetings?",answer:"Yes — I generate short, context-aware icebreakers based on profiles and shared interests so conversations start naturally."},{question:"Can AI summarize meeting notes?",answer:"Yes — I can produce concise summaries with action items, decisions, and suggested next steps so nothing gets lost after a meeting."},{question:"Can AI provide connection recommendations based on goals?",answer:`Yes — tell me a goal (for example, "find collaborators" or "learn DeFi UX") and I'll recommend people whose profiles and activity indicate alignment.`},{question:"Can I track which users read my messages?",answer:"Yes — I can show read receipts for messages and highlight conversations that received a reply or need a follow-up."},{question:"Can AI help prioritize responses?",answer:"Yes — I rank inbound messages by urgency and relevance to your goals, and can suggest quick replies for each high-priority thread."},{question:"Can AI recommend personalized meeting agendas?",answer:"Yes — I draft short agendas with objectives and talking points tailored to the participants and the meeting length."},{question:"Can AI suggest people with shared goals?",answer:"Yes — tell me a goal and I’ll return people whose profiles and activity indicate alignment."},{question:"Who should I connect with right now?",answer:`Here are six high-value people from your current matches you should consider connecting with:

1. Anna Chen — Product Designer (DeFi Labs). Great if you want product and UX insights in decentralized products.
2. Marcus Rodriguez — Smart Contract Developer (Ethereum Foundation). Ideal for technical collaboration on DeFi projects.
3. Sarah Kim — Growth Marketing Manager (Web3 Startup). Strong for growth strategy and community-building advice.
4. David Thompson — AI Research Engineer (AI Research Lab). Helpful for AI integrations and research collaborations.
5. Emily Carter — Community Lead (DAO Collective). Excellent if you want practical DAO/community guidance.
6. James Lee — Full Stack Developer (Startup Hub). Good for hands-on implementation and quick prototyping.

If you tell me what outcome you want (for example, "find a co-founder" or "learn DeFi UX"), I’ll reorder this list and provide suggested message openers for each person.`},{question:"What’s the best meet for me?",answer:`To suggest the best meeting format and agenda, tell me whether you prefer a quick 15-minute intro, a hands-on collaboration session, or a longer discovery call. Based on your profile and goals, my current pick would be:

- Quick 15-minute intro at the start of the day to establish rapport and agree on next steps.
- If collaboration is the goal, schedule a 60-minute workshop with a short agenda: quick intros, problem framing, and two 20-minute breakout work sessions.

If you want, I’ll pick which people from your matches should attend and create an agenda and invitation text for you.`},{question:"Can I customize AI suggestions?",answer:"Yes — you can choose focus areas (networking, event planning, skill-building), and I’ll tailor recommendations accordingly."},{question:"Can AI suggest icebreaker questions?",answer:"Yes — I create concise icebreakers tied to someone’s profile or the event topic to make introductions easy and natural."},{question:"Can AI analyze chat sentiment?",answer:"Yes — I rate message tone and highlight conversations that may need a more thoughtful response."},{question:"How do I delete my account?",answer:"To delete your account, go to Account Settings, scroll down, and click 'Delete Account'. Please confirm your choice to permanently remove your account. We're sorry to see you go and hope you'll return in the future."},{question:"How do I contact MeetMate support?",answer:"If you need help or have questions, please use the 'Contact Us' form in the app or email support@meetmate.com. Our friendly team will respond as soon as possible and are happy to assist you."}];function pU(t){const e=t.toLowerCase();let n=null,r=0;return fU.forEach(i=>{const a=i.question.toLowerCase().split(" ").filter(l=>e.includes(l)).length;a>r&&(r=a,n=i)}),r>0?n:null}const mU=["weather","stock","movie","news","recipe","game","sports","music","travel","politics","health","finance","shopping","food","car","joke","random"];function gU(){const[t,e]=P.useState(!1),[n,r]=P.useState([{text:"👋 Hi, I’m your MeetMate Assistant. Ask me anything about MeetMate!",isUser:!1}]),[i,a]=P.useState(""),[l,u]=P.useState(!1),h=P.useRef(null);P.useEffect(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[n]);const m=()=>{i.trim()&&(r(g=>[...g,{text:i,isUser:!0}]),a(""),u(!0),setTimeout(()=>{let g="";const v=i.toLowerCase();if(mU.some(_=>v.includes(_)))g="I can only answer questions about MeetMate.";else{const _=pU(i);_?g=_.answer:g="I don’t have that information yet, but the MeetMate team will add it soon."}r(_=>[..._,{text:g,isUser:!1}]),u(!1)},1200))};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300 flex items-center justify-center",onClick:()=>e(!t),children:t?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):f.jsx(al,{className:"w-6 h-6 text-white"})}),t&&f.jsxs("div",{className:"fixed bottom-24 right-6 z-40 w-96 h-[520px] bg-gradient-to-br from-blue-700/80 via-purple-800/80 to-indigo-900/80 backdrop-blur-2xl rounded-3xl border border-white/30 shadow-2xl flex flex-col md:w-96 md:h-[520px] md:right-6 md:bottom-24 sm:w-[95vw] sm:h-[60vh] sm:right-2 sm:bottom-2 sm:rounded-2xl sm:border sm:border-white/30 sm:z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-gradient-to-r from-blue-600/60 to-purple-700/60 rounded-t-3xl",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(al,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white text-lg tracking-wide",children:"MeetMate Assistant"}),f.jsx("p",{className:"text-xs text-white/70",children:"Online"})]})]}),f.jsx(xi,{className:"w-5 h-5 text-yellow-300 drop-shadow-lg"})]}),f.jsx("div",{className:"px-4 py-1 bg-white/10 text-xs text-white/70 text-right font-medium border-b border-white/10",children:"🤖 Powered by Sensay AI"}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[350px] custom-scrollbar",children:[n.map((g,v)=>f.jsx("div",{className:`flex ${g.isUser?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl shadow-md transition-all ${g.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/20 text-white/90 backdrop-blur-md border border-white/10"}`,children:f.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:g.text})})},v)),l&&f.jsx("div",{className:"flex justify-start",children:f.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white p-3 rounded-2xl flex items-center gap-2",children:[f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),f.jsx("span",{className:"text-xs text-white/70",children:"MeetMate Assistant is typing..."})]})}),f.jsx("div",{ref:h})]}),f.jsx("div",{className:"p-4 border-t border-white/20 bg-gradient-to-t from-indigo-900/30 to-transparent rounded-b-3xl",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),onKeyDown:g=>g.key==="Enter"&&m(),placeholder:"Ask me anything...",className:"flex-1 bg-white/20 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2 text-white placeholder-white/60 focus:outline-none focus:border-white/40 shadow-inner"}),f.jsx("button",{onClick:m,disabled:!i.trim(),className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50 shadow-lg",children:f.jsx(Lv,{className:"w-4 h-4 text-white"})})]})})]})]})}const po=({children:t})=>{const[e,n]=P.useState(!1),[r,i]=P.useState(!1),[a,l]=P.useState(!1),u=Vo(),h=dl(),{user:m,userProfile:g,signOut:v}=$o(),_=[{name:"Home",href:"/",icon:YF},{name:"Profile",href:"/profile",icon:ny},{name:"Matches",href:"/matches",icon:CC},{name:"Schedule",href:"/schedule",icon:Sr},{name:"Dashboard",href:"/dashboard",icon:ty}],I=async()=>{try{await v(),h("/auth")}catch(C){console.error("Sign out error:",C)}},T=C=>u.pathname===C;return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 relative",children:[f.jsxs("header",{className:"bg-white/5 backdrop-blur-md border-b border-white/10 sticky top-0 z-50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs(Va,{to:"/",className:"flex items-center space-x-2",children:[f.jsx(kC,{}),f.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"MeetMate"})]}),f.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:_.map(C=>{const b=C.icon;return f.jsxs(Va,{to:C.href,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${T(C.href)?"text-blue-400 bg-blue-500/10 border border-blue-500/20":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[f.jsx(b,{className:"w-4 h-4"}),f.jsx("span",{children:C.name})]},C.name)})}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(dU,{}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",onClick:()=>i(!r),children:f.jsx(LF,{className:"w-5 h-5"})}),f.jsx(fn,{children:r&&f.jsxs(le.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-64 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20 py-2 z-50",children:[f.jsx("div",{className:"px-4 py-2 text-sm text-white/80",children:"Notifications"}),f.jsx("div",{className:"border-t border-white/10 my-1"}),f.jsx("div",{className:"px-4 py-2 text-sm text-white/60",children:"No new notifications."})]})})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-white/10 transition-all duration-200",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:g?.name?.charAt(0)||m?.email?.charAt(0)||"U"}),f.jsx("span",{className:"hidden sm:block text-sm font-medium text-white",children:g?.name||m?.email||"User"})]}),f.jsx(fn,{children:a&&f.jsxs(le.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white/10 backdrop-blur-xl rounded-xl border border-white/20 py-2 z-50",children:[f.jsxs(Va,{to:"/profile",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>l(!1),children:[f.jsx(ny,{className:"w-4 h-4"}),f.jsx("span",{children:"Profile"})]}),f.jsxs(Va,{to:"/dashboard",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>l(!1),children:[f.jsx(ty,{className:"w-4 h-4"}),f.jsx("span",{children:"Dashboard"})]}),f.jsxs(Va,{to:"/settings",className:"flex items-center space-x-3 px-4 py-2 text-sm text-white/60 hover:text-white hover:bg-white/10 transition-all duration-200",onClick:()=>l(!1),children:[f.jsx(sU,{className:"w-4 h-4"}),f.jsx("span",{children:"Settings"})]}),f.jsx("div",{className:"border-t border-white/10 my-1"}),f.jsxs("button",{onClick:I,className:"flex items-center space-x-3 px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 w-full transition-all duration-200",children:[f.jsx(hE,{className:"w-4 h-4"}),f.jsx("span",{children:"Sign Out"})]})]})})]}),f.jsx("button",{onClick:()=>n(!e),className:"md:hidden p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:e?f.jsx(Oo,{className:"w-5 h-5"}):f.jsx(ZF,{className:"w-5 h-5"})})]})]})}),f.jsx(fn,{children:e&&f.jsx(le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden border-t border-white/10 bg-white/5 backdrop-blur-md",children:f.jsxs("div",{className:"px-4 py-4 space-y-2",children:[_.map(C=>{const b=C.icon;return f.jsxs(Va,{to:C.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${T(C.href)?"text-blue-400 bg-blue-500/10 border border-blue-500/20":"text-white/60 hover:text-white hover:bg-white/10"}`,onClick:()=>n(!1),children:[f.jsx(b,{className:"w-4 h-4"}),f.jsx("span",{children:C.name})]},C.name)}),f.jsx("div",{className:"border-t border-white/10 my-2"}),f.jsxs("button",{onClick:I,className:"flex items-center space-x-3 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 w-full rounded-lg transition-all duration-200",children:[f.jsx(hE,{className:"w-4 h-4"}),f.jsx("span",{children:"Sign Out"})]})]})})})]}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),f.jsx(hU,{}),f.jsx(gU,{})]})},yU=()=>{const t=P.useRef(null),e=Array.from({length:15},(n,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,size:Math.random()*60+20,duration:Math.random()*20+10,delay:Math.random()*5}));return P.useEffect(()=>{const n=t.current;if(!n)return;const r=n.getContext("2d");if(!r)return;const i=()=>{n.width=window.innerWidth,n.height=window.innerHeight};i(),window.addEventListener("resize",i);const a=()=>{r.clearRect(0,0,n.width,n.height);const l=r.createLinearGradient(0,0,n.width,n.height);l.addColorStop(0,"rgba(59, 130, 246, 0.1)"),l.addColorStop(.5,"rgba(147, 51, 234, 0.1)"),l.addColorStop(1,"rgba(20, 184, 166, 0.1)"),r.fillStyle=l,r.fillRect(0,0,n.width,n.height),e.forEach((u,h)=>{const m=Date.now()*.001,g=(u.x+Math.sin(m+u.delay)*20)*n.width/100,v=(u.y+Math.cos(m+u.delay)*15)*n.height/100;r.beginPath(),r.arc(g,v,u.size,0,Math.PI*2),r.fillStyle=`rgba(255, 255, 255, ${.05+Math.sin(m+u.delay)*.02})`,r.fill()}),requestAnimationFrame(a)};return a(),()=>{window.removeEventListener("resize",i)}},[]),f.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[f.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-teal-500/5"}),f.jsx("div",{className:"absolute inset-0 opacity-10",children:f.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.1)_1px,transparent_1px)] bg-[size:50px_50px]"})})]})},ry=({children:t,className:e="",hover:n=!0,onClick:r})=>f.jsxs(le.div,{className:`
        relative overflow-hidden rounded-2xl
        bg-white/10 backdrop-blur-xl
        border border-white/20 shadow-2xl
        ${n?"hover:bg-white/15 hover:border-white/30 transition-all duration-300":""}
        ${r?"cursor-pointer":""}
        ${e}
      `,whileHover:n?{scale:1.02,y:-2}:{},whileTap:r?{scale:.98}:{},onClick:r,children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-white/10"}),f.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-teal-500/20 opacity-0 hover:opacity-100 transition-opacity duration-300"}),f.jsx("div",{className:"relative z-10 p-6",children:t})]}),tg=({children:t,onClick:e,variant:n="primary",size:r="md",disabled:i=!1,loading:a=!1,className:l=""})=>{const u={primary:{bg:"bg-gradient-to-r from-blue-500 to-purple-600",glow:"shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:shadow-[0_0_30px_rgba(59,130,246,0.8)]",border:"border-blue-500/50"},secondary:{bg:"bg-gradient-to-r from-purple-500 to-pink-600",glow:"shadow-[0_0_20px_rgba(147,51,234,0.5)] hover:shadow-[0_0_30px_rgba(147,51,234,0.8)]",border:"border-purple-500/50"},success:{bg:"bg-gradient-to-r from-green-500 to-teal-600",glow:"shadow-[0_0_20px_rgba(34,197,94,0.5)] hover:shadow-[0_0_30px_rgba(34,197,94,0.8)]",border:"border-green-500/50"},danger:{bg:"bg-gradient-to-r from-red-500 to-pink-600",glow:"shadow-[0_0_20px_rgba(239,68,68,0.5)] hover:shadow-[0_0_30px_rgba(239,68,68,0.8)]",border:"border-red-500/50"}},h={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},m=u[n],g=h[r];return f.jsxs(le.button,{className:`
        relative overflow-hidden rounded-xl font-semibold text-white
        ${m.bg}
        ${m.glow}
        ${m.border}
        ${g}
        ${i?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        transition-all duration-300 ease-out
        hover:scale-105 active:scale-95
        ${l}
      `,onClick:e,disabled:i||a,whileHover:!i&&!a?{scale:1.05}:{},whileTap:!i&&!a?{scale:.95}:{},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000"}),a&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})}),f.jsx("span",{className:`relative z-10 ${a?"opacity-0":"opacity-100"} transition-opacity duration-200`,children:t})]})},Bf=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState([]),[i,a]=P.useState(""),[l,u]=P.useState(!1),h=P.useRef(null),m=P.useRef(null),g=()=>{},v=_=>{};return f.jsxs("div",{className:"hidden sm:block",children:[f.jsx(le.button,{className:"fixed bottom-4 right-4 z-50 w-14 h-14 sm:bottom-6 sm:right-6 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300",onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(fn,{mode:"wait",children:t?f.jsx(le.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:f.jsx(Oo,{className:"w-6 h-6 text-white mx-auto"})},"close"):f.jsx(le.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},children:f.jsx(al,{className:"w-6 h-6 text-white mx-auto"})},"bot")})}),f.jsx(fn,{children:t&&f.jsxs(le.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-0 right-0 z-40 w-full h-full max-h-none bg-white/10 backdrop-blur-xl border-t border-l border-white/20 shadow-2xl rounded-none sm:bottom-24 sm:right-6 sm:w-96 sm:h-[500px] sm:rounded-2xl sm:border sm:max-h-[90vh] pb-24 sm:pb-0 touch-manipulation select-none",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:f.jsx(al,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white",children:"AI Matchmaker"}),f.jsx("p",{className:"text-xs text-white/60",children:"Online"})]})]}),f.jsx(xi,{className:"w-4 h-4 text-yellow-400"})]}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[50vh] sm:max-h-[350px]",children:[n.map(_=>f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${_.isUser?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl ${_.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/10 text-white backdrop-blur-sm"}`,children:[f.jsx("p",{className:"text-sm",children:_.text}),f.jsx("p",{className:"text-xs opacity-60 mt-1",children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},_.id)),l&&f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:f.jsx("div",{className:"bg-white/10 backdrop-blur-sm text-white p-3 rounded-2xl",children:f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),f.jsx("div",{ref:m})]}),f.jsx("div",{className:"p-4 border-t border-white/10",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{ref:h,type:"text",value:i,onChange:_=>a(_.target.value),onKeyPress:v,placeholder:"Ask me anything...",className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-3 text-white placeholder-white/60 focus:outline-none focus:border-white/40 text-base sm:text-sm",style:{minHeight:44}}),f.jsx(le.button,{onClick:g,disabled:!i.trim(),className:"w-12 h-12 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},style:{minWidth:44,minHeight:44},children:f.jsx(Lv,{className:"w-5 h-5 sm:w-4 sm:h-4 text-white"})})]})})]})})]})},vU=({user:t,connectStatus:e="default",onConnect:n,onMessage:r,onSchedule:i})=>{const[a,l]=P.useState(!1),u=h=>h?"bg-green-500":"bg-gray-400";return f.jsxs(ry,{className:"relative group",children:[f.jsx("div",{className:"absolute top-4 right-4 z-20",children:f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:`w-3 h-3 ${u(t.isOnline)} rounded-full animate-pulse`}),f.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping opacity-75"})]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-500 via-purple-500 to-teal-500 p-1 mx-auto",children:f.jsx("div",{className:"w-full h-full rounded-full bg-gray-800 flex items-center justify-center overflow-hidden",children:t.avatar?f.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover"}):f.jsx(ny,{className:"w-12 h-12 text-white/60"})})}),f.jsx("div",{className:"absolute -bottom-1 -right-1",children:f.jsx("div",{className:`w-6 h-6 ${u(t.isOnline)} rounded-full border-2 border-white`})})]}),f.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:t.name}),f.jsx("p",{className:"text-white/60 text-sm",children:t.role}),f.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-white/60",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(FF,{className:"w-4 h-4"}),f.jsx("span",{children:t.company})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Eu,{className:"w-4 h-4"}),f.jsx("span",{children:t.location})]})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-2",children:[[...Array(5)].map((h,m)=>f.jsx(iU,{className:`w-4 h-4 ${m<t.rating?"text-yellow-400 fill-current":"text-white/20"}`},m)),f.jsxs("span",{className:"text-sm text-white/60 ml-2",children:["(",t.rating,"/5)"]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:t.bio})}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h4",{className:"text-white font-semibold mb-3",children:"Interests"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map((h,m)=>f.jsx(le.span,{className:"px-3 py-1 bg-white/10 backdrop-blur-sm rounded-full text-xs text-white/80 border border-white/20",whileHover:{scale:1.05},children:h},m))})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx(le.button,{onClick:n,disabled:e==="pending"||e==="connected",className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm transition-all duration-300
            ${e==="connected"?"bg-green-500 text-white cursor-default":e==="pending"?"bg-yellow-400 text-white cursor-not-allowed animate-pulse":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-[0_0_20px_rgba(59,130,246,0.5)]"}
          `,whileHover:e==="default"?{scale:1.02}:{},whileTap:e==="default"?{scale:.98}:{},children:e==="connected"?"Connected":e==="pending"?"Pending...":"Connect"}),f.jsx(le.button,{onClick:r,className:"w-12 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl flex items-center justify-center hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:f.jsx(ru,{className:"w-5 h-5 text-white"})}),f.jsx(le.button,{onClick:i,className:"w-12 h-10 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl flex items-center justify-center hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Sr,{className:"w-5 h-5 text-white"})})]}),f.jsx(fn,{children:a&&f.jsxs(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur-sm text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap z-30",children:["Send Message",f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black/80"})]})})]})},wU=({user:t,onClose:e,onSendMessage:n})=>{const[r,i]=P.useState(""),[a,l]=P.useState(!1),[u,h]=P.useState(!1),[m,g]=P.useState(""),[v,_]=P.useState([]),I=P.useRef(null),T=localStorage.getItem("currentUserId")||"me",C=`chat_${[T,t.id].sort().join("_")}`;P.useEffect(()=>{const O=localStorage.getItem(C);_(O?JSON.parse(O):[]),setTimeout(()=>I.current?.scrollIntoView({behavior:"smooth"}),100)},[C]);const b=()=>{if(r.trim()){l(!0),g("");try{const O={id:Date.now(),text:r,sender:T,receiver:t.id,timestamp:new Date().toISOString()},D=[...v,O];_(D),localStorage.setItem(C,JSON.stringify(D)),i(""),h(!0),n&&n(r),setTimeout(()=>h(!1),1e3),setTimeout(()=>I.current?.scrollIntoView({behavior:"smooth"}),100)}catch{g("Failed to send message. Please try again.")}finally{l(!1)}}};return f.jsx(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/80 backdrop-blur-[6px]",children:f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/40 via-blue-200/30 to-purple-200/30 backdrop-blur-2xl shadow-2xl border border-white/20",style:{filter:"blur(0px)"}}),f.jsxs("div",{className:"relative z-10 bg-white/60 dark:bg-black/60 rounded-3xl p-8 flex flex-col items-center shadow-2xl backdrop-blur-xl",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-primary",children:f.jsx(Uf,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsx(ru,{className:"w-12 h-12 text-primary mb-2"}),f.jsxs("h2",{className:"text-2xl font-bold mb-2 text-center",children:["Message ",t.name]}),f.jsx("p",{className:"text-muted-foreground text-center",children:"Start a conversation and build your network."})]}),f.jsxs("div",{className:"max-h-48 overflow-y-auto mb-4 bg-white/10 rounded-xl p-2",children:[v.length===0&&f.jsx("div",{className:"text-center text-gray-400 text-sm",children:"No messages yet."}),v.map(O=>f.jsx("div",{className:`mb-2 flex ${O.sender===T?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`px-3 py-2 rounded-xl text-sm max-w-xs break-words ${O.sender===T?"bg-primary text-white":"bg-gray-200 text-gray-800"}`,children:O.text})},O.id)),f.jsx("div",{ref:I})]}),u&&f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx(Ff,{className:"w-10 h-10 text-green-500 mb-2 animate-bounce"}),f.jsx("span",{className:"text-green-600 font-semibold text-lg",children:"Message sent successfully!"})]}),m&&f.jsx("div",{className:"text-red-500 mb-4 text-center",children:m}),f.jsx("textarea",{className:"w-full h-24 p-2 border rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-primary/30",value:r,onChange:O=>i(O.target.value),placeholder:"Type your message...",disabled:a}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-2",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:"Cancel"}),f.jsx("button",{onClick:b,disabled:a||!r.trim(),className:"px-4 py-2 rounded-xl bg-primary text-white font-semibold shadow hover:bg-primary/80 transition-all duration-200 disabled:opacity-50",children:a?"Sending...":"Send"})]})]})]})})},xU=({user:t,onClose:e,onSchedule:n})=>{const[r,i]=P.useState(""),[a,l]=P.useState(!1),[u,h]=P.useState(!1),[m,g]=P.useState(""),[v,_]=P.useState([]),I=localStorage.getItem("currentUserId")||"me",T=`meetings_${[I,t.id].sort().join("_")}`;P.useEffect(()=>{const b=localStorage.getItem(T);_(b?JSON.parse(b):[])},[T,u]);const C=()=>{if(r){l(!0),g("");try{const b={id:Date.now(),title:`Meeting with ${t.name}`,date:r,with:t.name,userId:t.id},O=[...v,b];_(O),localStorage.setItem(T,JSON.stringify(O)),h(!0),n&&n(r);const D=`stats-${I}`,M=JSON.parse(localStorage.getItem(D)||"{}");M.meetings=(M.meetings||0)+1,localStorage.setItem(D,JSON.stringify(M))}catch{g("Failed to schedule. Please try again.")}finally{l(!1)}}};return f.jsx(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/80 backdrop-blur-[6px]",children:f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/40 via-blue-200/30 to-purple-200/30 backdrop-blur-2xl shadow-2xl border border-white/20",style:{filter:"blur(0px)"}}),f.jsxs("div",{className:"relative z-10 bg-white/60 dark:bg-black/60 rounded-3xl p-8 flex flex-col items-center shadow-2xl backdrop-blur-xl",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-primary",children:f.jsx(Uf,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsx(UF,{className:"w-12 h-12 text-primary mb-2"}),f.jsxs("h2",{className:"text-2xl font-bold mb-2 text-center",children:["Schedule with ",t.name]}),f.jsx("p",{className:"text-muted-foreground text-center",children:"Pick a date and time to schedule your meeting."})]}),u?f.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[f.jsx(Ff,{className:"w-10 h-10 text-green-500 mb-2 animate-bounce"}),f.jsx("span",{className:"text-green-600 font-semibold text-lg",children:"Meeting scheduled!"}),f.jsx("button",{onClick:e,className:"mt-4 px-6 py-2 rounded-xl bg-primary text-white font-semibold shadow-lg",children:"Close"})]}):f.jsxs(f.Fragment,{children:[m&&f.jsx("div",{className:"text-red-500 mb-4 text-center",children:m}),f.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-primary/30",value:r,onChange:b=>i(b.target.value),disabled:a}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-2",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:"Cancel"}),f.jsx("button",{onClick:C,disabled:a||!r,className:"px-4 py-2 rounded-xl bg-primary text-white font-semibold shadow hover:bg-primary/80 transition-all duration-200 disabled:opacity-50",children:a?"Scheduling...":"Schedule"})]}),f.jsxs("div",{className:"mt-6 w-full",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upcoming Meetings"}),v.length===0&&f.jsx("div",{className:"text-gray-400 text-sm",children:"No meetings scheduled."}),f.jsx("ul",{className:"space-y-2",children:v.map(b=>f.jsxs("li",{className:"bg-white/70 dark:bg-black/30 rounded-xl px-4 py-2 flex flex-col",children:[f.jsx("span",{className:"font-medium",children:b.title}),f.jsx("span",{className:"text-xs text-gray-500",children:new Date(b.date).toLocaleString()})]},b.id))})]})]})]})]})})},_U=()=>{const[t,e]=P.useState(null),[n,r]=P.useState(!1),[i,a]=P.useState(!1),[l,u]=P.useState(!1),[h,m]=P.useState(null),g=[{icon:ll,title:"AI Matchmaking",description:"Discover relevant connections based on skills, interests, and goals using advanced AI algorithms."},{icon:Sr,title:"Smart Scheduling",description:"Automatically schedule coffee chats and meetings with your matches during the conference."},{icon:IC,title:"Gamified Networking",description:"Earn badges and rewards for making connections, attending events, and engaging."},{icon:uU,title:"Instant Connections",description:"Real-time notifications and instant messaging to keep conversations  flowing."}],v=[{label:"Active Users",value:"2,500+",icon:ll},{label:"Successful Matches",value:"15,000+",icon:fE},{label:"Conferences",value:"50+",icon:Sr},{label:"Countries",value:"25+",icon:PC}],_=[{id:"1",name:"Sarah Chen",role:"AI Research Lead",company:"TechCorp",location:"San Francisco, CA",bio:"Passionate about AI and blockchain. Building the future of decentralized applications.",interests:["AI/ML","Blockchain","Web3","Startups"],rating:4.8,isOnline:!0,lastActive:"2 min ago",avatar:"https://ui-avatars.com/api/?name=Sarah+Chen"},{id:"2",name:"Alex Rodriguez",role:"Product Manager",company:"InnovateLab",location:"New York, NY",bio:"Product strategist with 8+ years in fintech. Love connecting with fellow innovators.",interests:["Fintech","Product Strategy","UX Design","Innovation"],rating:4.9,isOnline:!1,lastActive:"1 hour ago",avatar:"https://ui-avatars.com/api/?name=Alex+Rodriguez"}],[I,T]=P.useState(()=>{const Q=localStorage.getItem("connections");return Q?JSON.parse(Q):{}}),[C,b]=P.useState(!1),[O,D]=P.useState(null);P.useEffect(()=>{localStorage.setItem("connections",JSON.stringify(I))},[I]),P.useEffect(()=>{const Q=JSON.parse(localStorage.getItem("stats-dashboard")||"{}");Q.connections=Object.values(I).filter(re=>re==="connected").length,localStorage.setItem("stats-dashboard",JSON.stringify(Q))},[I]);const{user:M,userProfile:G}=$o();return G&&G.name&&G.bio&&G.avatar,f.jsxs(f.Fragment,{children:[f.jsx(yU,{}),f.jsxs("div",{className:"relative z-10 flex flex-col gap-y-24",children:[f.jsx("section",{className:"text-center space-y-12 pt-20 py-20",children:f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8",children:[f.jsx("div",{className:"flex items-center justify-center space-x-3",children:f.jsx("div",{className:"relative",children:f.jsx("div",{className:"absolute inset-0 bg-primary/30 rounded-full blur-lg"})})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight font-heading",children:["Turn Passive Networking into",f.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent block",children:"Meaningful Connections"})]}),f.jsx("p",{className:"text-xl text-white/80 max-w-4xl mx-auto leading-relaxed font-body",children:"MeetMate uses AI to match you with the right people at conferences. Connect, schedule, and follow up automatically with Web3-powered security."}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[f.jsx(tg,{onClick:()=>window.location.href="/profile",size:"lg",className:"text-lg px-10 py-5",children:f.jsx("span",{children:"Get Started"})}),f.jsx(tg,{onClick:()=>window.location.href="/matches",variant:"secondary",size:"lg",className:"text-lg px-10 py-5",children:"View Matches"})]})]})}),f.jsxs("section",{className:"space-y-12 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 font-heading",children:"Why Choose MeetMate?"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto font-body",children:"Experience the future of conference networking with AI-powered matching and Web3 security."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:g.map((Q,re)=>{const L=Q.icon;return f.jsx(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:re*.1},viewport:{once:!0},children:f.jsxs(ry,{className:"text-center space-y-6 hover:scale-105 transition-transform duration-300",children:[f.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-3xl flex items-center justify-center mx-auto border border-white/20",children:f.jsx(L,{className:"h-10 w-10 text-blue-400"})}),f.jsx("h3",{className:"text-xl text-white font-semibold font-heading",children:Q.title}),f.jsx("p",{className:"text-white/60 leading-relaxed font-body",children:Q.description})]})},Q.title)})})]}),f.jsx("section",{className:"relative py-20",children:f.jsx(ry,{className:"p-12 md:p-16",children:f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center space-y-12",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent font-heading",children:"Trusted by thousands of conference attendees"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-12",children:v.map((Q,re)=>{const L=Q.icon;return f.jsxs(le.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:re*.1},viewport:{once:!0},className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/20",children:f.jsx(L,{className:"h-8 w-8 text-blue-400"})}),f.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-3",children:Q.value}),f.jsx("div",{className:"text-white/60",children:Q.label})]},Q.label)})})]})})}),f.jsxs("section",{className:"space-y-12 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4 font-heading",children:"Meet Your Potential Matches"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto font-body",children:"AI-powered matching connects you with professionals who share your interests and goals."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:_.map((Q,re)=>f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:re*.2},viewport:{once:!0},children:[f.jsx(vU,{user:{id:Q.id,name:Q.name,avatar:Q.avatar||`https://ui-avatars.com/api/?name=${Q.name}`,role:Q.role,company:Q.company,location:Q.location,bio:Q.bio,interests:Q.interests,rating:Q.rating,isOnline:Q.isOnline,lastActive:Q.lastActive},connectStatus:I[Q.id]||"default",onConnect:()=>{D(Q),b(!0)},onMessage:()=>{e(Q),a(!0)},onSchedule:()=>{e(Q),u(!0)}}),h&&f.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-[100]",children:f.jsx("div",{className:"bg-gradient-to-br from-green-400/90 to-blue-500/90 text-white px-8 py-4 rounded-2xl shadow-2xl flex items-center space-x-3 animate-bounce backdrop-blur-xl border border-white/20",children:f.jsxs("span",{className:"text-lg font-bold",children:[h==="connect"&&"Connection request sent!",h==="message"&&"Message sent!",h==="schedule"&&"Meeting scheduled!"]})})})]},Q.id))})]}),f.jsxs("section",{className:"text-center space-y-8 py-20",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-6",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-teal-400 bg-clip-text text-transparent font-heading",children:"Ready to transform your conference experience?"}),f.jsx("p",{className:"text-xl text-white/60 max-w-3xl mx-auto leading-relaxed font-body",children:"Join thousands of professionals who are already using MeetMate to build meaningful connections."})]}),f.jsx(le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:f.jsxs(tg,{onClick:()=>window.location.href="/profile",size:"lg",className:"text-lg px-12 py-5",children:[f.jsx("span",{children:"Start Building Connections"}),f.jsx(fE,{className:"h-6 w-6 ml-2"})]})})]})]}),C&&O&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white/70 backdrop-blur-md",children:f.jsxs("div",{className:"bg-black rounded-2xl shadow-2xl p-8 w-full max-w-md border border-primary/20 relative flex flex-col items-center",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4 text-center",children:["Do you want to connect with ",O.name,"?"]}),f.jsxs("div",{className:"flex space-x-4 mt-4",children:[f.jsx("button",{className:"px-6 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-primary/80",onClick:()=>{T(Q=>{const re={...Q,[O.id]:"pending"};return localStorage.setItem("connections",JSON.stringify(re)),setTimeout(()=>{const L={...JSON.parse(localStorage.getItem("connections")||"{}"),[O.id]:"connected"};T(L),localStorage.setItem("connections",JSON.stringify(L))},3e3),re}),b(!1)},children:"Confirm"}),f.jsx("button",{className:"px-6 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300",onClick:()=>b(!1),children:"Cancel"})]})]})}),i&&t&&f.jsx(wU,{user:t,onClose:()=>a(!1),onSendMessage:Q=>{a(!1),alert(`Message sent to ${t.name}: ${Q}`)}}),l&&t&&f.jsx(xU,{user:t,onClose:()=>u(!1),onSchedule:Q=>{u(!1),alert(`Meeting scheduled with ${t.name} on ${Q}`)}}),f.jsx(Bf,{})]})};class EU{listeners=new Map;subscribeToEvents(e){try{const n=Lm(yc(un,"events"),WM("date","asc")),r=vc(n,a=>{const l=[];a.forEach(u=>{const h=u.data();l.push({id:u.id,title:h.title,description:h.description,date:h.date?.toDate?.()?.toISOString()||h.date,location:h.location,createdBy:h.createdBy,createdAt:h.createdAt?.toDate?.()?.toISOString()||h.createdAt,updatedAt:h.updatedAt?.toDate?.()?.toISOString()||h.updatedAt})}),e(l)},a=>{console.error("Error in events subscription:",a),e([])}),i=`events-${Date.now()}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}catch(n){return console.error("Failed to subscribe to events:",n),()=>{}}}subscribeToEvent(e,n){const r=vc(vr(un,"events",e),a=>{if(a.exists()){const l=a.data(),u={id:a.id,title:l.title,description:l.description,date:l.date?.toDate?.()?.toISOString()||l.date,location:l.location,createdBy:l.createdBy,createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt,updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt};n(u)}else n(null)}),i=`event-${e}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}subscribeToEventRSVPs(e,n){const r=Lm(yc(un,"rsvps"),G_("eventId","==",e)),i=vc(r,l=>{const u=[];l.forEach(h=>{const m=h.data();u.push({id:h.id,userId:m.userId,eventId:m.eventId,status:m.status,createdAt:m.createdAt?.toDate?.()?.toISOString()||m.createdAt,updatedAt:m.updatedAt?.toDate?.()?.toISOString()||m.updatedAt})}),n(u)}),a=`rsvps-event-${e}`;return this.listeners.set(a,i),()=>{i(),this.listeners.delete(a)}}subscribeToUserRSVPs(e,n){const r=Lm(yc(un,"rsvps"),G_("userId","==",e)),i=vc(r,l=>{const u=[];l.forEach(h=>{const m=h.data();u.push({id:h.id,userId:m.userId,eventId:m.eventId,status:m.status,createdAt:m.createdAt?.toDate?.()?.toISOString()||m.createdAt,updatedAt:m.updatedAt?.toDate?.()?.toISOString()||m.updatedAt})}),n(u)}),a=`rsvps-user-${e}`;return this.listeners.set(a,i),()=>{i(),this.listeners.delete(a)}}subscribeToUser(e,n){const r=vc(vr(un,"users",e),a=>{if(a.exists()){const l=a.data(),u={id:a.id,name:l.name,email:l.email,avatar:l.avatar,createdAt:l.createdAt?.toDate?.()?.toISOString()||l.createdAt,updatedAt:l.updatedAt?.toDate?.()?.toISOString()||l.updatedAt};n(u)}else n(null)}),i=`user-${e}`;return this.listeners.set(i,r),()=>{r(),this.listeners.delete(i)}}async createEvent(e){return(await X_(yc(un,"events"),{...e,createdAt:ho(),updatedAt:ho()})).id}async updateEvent(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await hh(vr(un,"events",e),{...l,updatedAt:ho()})}async createRSVP(e){return(await X_(yc(un,"rsvps"),{...e,createdAt:ho(),updatedAt:ho()})).id}async updateRSVP(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await hh(vr(un,"rsvps",e),{...l,updatedAt:ho()})}async createOrUpdateUser(e,n){const{id:r,createdAt:i,updatedAt:a,...l}=n;await hh(vr(un,"users",e),{...l,updatedAt:ho()})}cleanup(){this.listeners.forEach(e=>e()),this.listeners.clear()}}const It=new EU,RC=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!0),[i,a]=P.useState(null);P.useEffect(()=>{r(!0),a(null);const h=It.subscribeToEvents(m=>{e(m),r(!1)});return()=>{h()}},[]);const l=P.useCallback(async h=>{try{return await It.createEvent(h)}catch(m){throw a(m instanceof Error?m.message:"Failed to create event"),m}},[]),u=P.useCallback(async(h,m)=>{try{await It.updateEvent(h,m)}catch(g){throw a(g instanceof Error?g.message:"Failed to update event"),g}},[]);return{events:t,loading:n,error:i,createEvent:l,updateEvent:u}},bU=t=>{const[e,n]=P.useState([]),[r,i]=P.useState(!0),[a,l]=P.useState(null);P.useEffect(()=>{if(!t){n([]),i(!1);return}i(!0),l(null);const m=It.subscribeToEventRSVPs(t,g=>{n(g),i(!1)});return()=>{m()}},[t]);const u=P.useCallback(async m=>{try{return await It.createRSVP(m)}catch(g){throw l(g instanceof Error?g.message:"Failed to create RSVP"),g}},[]),h=P.useCallback(async(m,g)=>{try{await It.updateRSVP(m,g)}catch(v){throw l(v instanceof Error?v.message:"Failed to update RSVP"),v}},[]);return{rsvps:e,loading:r,error:a,createRSVP:u,updateRSVP:h}},TU=t=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0),[a,l]=P.useState(null);P.useEffect(()=>{if(!t){n(null),i(!1);return}i(!0),l(null);const h=It.subscribeToUser(t,m=>{n(m),i(!1)});return()=>{h()}},[t]);const u=P.useCallback(async h=>{if(t)try{await It.createOrUpdateUser(t,h)}catch(m){throw l(m instanceof Error?m.message:"Failed to update user"),m}},[t]);return{user:e,loading:r,error:a,updateUser:u}},NC=()=>{const{user:t}=$o();return TU(t?.uid)};function jC(t,e){return function(){return t.apply(e,arguments)}}const{toString:SU}=Object.prototype,{getPrototypeOf:Fv}=Object,{iterator:zf,toStringTag:DC}=Symbol,$f=(t=>e=>{const n=SU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>$f(e)===t),qf=t=>e=>typeof e===t,{isArray:xl}=Array,su=qf("undefined");function bu(t){return t!==null&&!su(t)&&t.constructor!==null&&!su(t.constructor)&&Sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OC=Cr("ArrayBuffer");function IU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OC(t.buffer),e}const CU=qf("string"),Sn=qf("function"),MC=qf("number"),Tu=t=>t!==null&&typeof t=="object",AU=t=>t===!0||t===!1,mh=t=>{if($f(t)!=="object")return!1;const e=Fv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(DC in t)&&!(zf in t)},PU=t=>{if(!Tu(t)||bu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},kU=Cr("Date"),RU=Cr("File"),NU=Cr("Blob"),jU=Cr("FileList"),DU=t=>Tu(t)&&Sn(t.pipe),OU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Sn(t.append)&&((e=$f(t))==="formdata"||e==="object"&&Sn(t.toString)&&t.toString()==="[object FormData]"))},MU=Cr("URLSearchParams"),[VU,LU,FU,UU]=["ReadableStream","Request","Response","Headers"].map(Cr),BU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Su(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(bu(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,t[u],u,t)}}function VC(t,e){if(bu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LC=t=>!su(t)&&t!==bo;function sy(){const{caseless:t}=LC(this)&&this||{},e={},n=(r,i)=>{const a=t&&VC(e,i)||i;mh(e[a])&&mh(r)?e[a]=sy(e[a],r):mh(r)?e[a]=sy({},r):xl(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Su(arguments[r],n);return e}const zU=(t,e,n,{allOwnKeys:r}={})=>(Su(e,(i,a)=>{n&&Sn(i)?t[a]=jC(i,n):t[a]=i},{allOwnKeys:r}),t),$U=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},HU=(t,e,n,r)=>{let i,a,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Fv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},WU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},GU=t=>{if(!t)return null;if(xl(t))return t;let e=t.length;if(!MC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},KU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fv(Uint8Array)),QU=(t,e)=>{const r=(t&&t[zf]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},YU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},JU=Cr("HTMLFormElement"),XU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ZU=Cr("RegExp"),FC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Su(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},e9=t=>{FC(t,(e,n)=>{if(Sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},t9=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return xl(t)?r(t):r(String(t).split(e)),n},n9=()=>{},r9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function s9(t){return!!(t&&Sn(t.append)&&t[DC]==="FormData"&&t[zf])}const i9=t=>{const e=new Array(10),n=(r,i)=>{if(Tu(r)){if(e.indexOf(r)>=0)return;if(bu(r))return r;if(!("toJSON"in r)){e[i]=r;const a=xl(r)?[]:{};return Su(r,(l,u)=>{const h=n(l,i+1);!su(h)&&(a[u]=h)}),e[i]=void 0,a}}return r};return n(t,0)},o9=Cr("AsyncFunction"),a9=t=>t&&(Tu(t)||Sn(t))&&Sn(t.then)&&Sn(t.catch),UC=((t,e)=>t?setImmediate:e?((n,r)=>(bo.addEventListener("message",({source:i,data:a})=>{i===bo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),bo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Sn(bo.postMessage)),l9=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||UC,c9=t=>t!=null&&Sn(t[zf]),J={isArray:xl,isArrayBuffer:OC,isBuffer:bu,isFormData:OU,isArrayBufferView:IU,isString:CU,isNumber:MC,isBoolean:AU,isObject:Tu,isPlainObject:mh,isEmptyObject:PU,isReadableStream:VU,isRequest:LU,isResponse:FU,isHeaders:UU,isUndefined:su,isDate:kU,isFile:RU,isBlob:NU,isRegExp:ZU,isFunction:Sn,isStream:DU,isURLSearchParams:MU,isTypedArray:KU,isFileList:jU,forEach:Su,merge:sy,extend:zU,trim:BU,stripBOM:$U,inherits:qU,toFlatObject:HU,kindOf:$f,kindOfTest:Cr,endsWith:WU,toArray:GU,forEachEntry:QU,matchAll:YU,isHTMLForm:JU,hasOwnProperty:pE,hasOwnProp:pE,reduceDescriptors:FC,freezeMethods:e9,toObjectSet:t9,toCamelCase:XU,noop:n9,toFiniteNumber:r9,findKey:VC,global:bo,isContextDefined:LC,isSpecCompliantForm:s9,toJSONObject:i9,isAsyncFn:o9,isThenable:a9,setImmediate:UC,asap:l9,isIterable:c9};function Re(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}J.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const BC=Re.prototype,zC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zC[t]={value:t}});Object.defineProperties(Re,zC);Object.defineProperty(BC,"isAxiosError",{value:!0});Re.from=(t,e,n,r,i,a)=>{const l=Object.create(BC);return J.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Re.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const u9=null;function iy(t){return J.isPlainObject(t)||J.isArray(t)}function $C(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function mE(t,e,n){return t?t.concat(e).map(function(i,a){return i=$C(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function d9(t){return J.isArray(t)&&!t.some(iy)}const h9=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Hf(t,e,n){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,b){return!J.isUndefined(b[C])});const r=n.metaTokens,i=n.visitor||g,a=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function m(T){if(T===null)return"";if(J.isDate(T))return T.toISOString();if(J.isBoolean(T))return T.toString();if(!h&&J.isBlob(T))throw new Re("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(T)||J.isTypedArray(T)?h&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function g(T,C,b){let O=T;if(T&&!b&&typeof T=="object"){if(J.endsWith(C,"{}"))C=r?C:C.slice(0,-2),T=JSON.stringify(T);else if(J.isArray(T)&&d9(T)||(J.isFileList(T)||J.endsWith(C,"[]"))&&(O=J.toArray(T)))return C=$C(C),O.forEach(function(M,G){!(J.isUndefined(M)||M===null)&&e.append(l===!0?mE([C],G,a):l===null?C:C+"[]",m(M))}),!1}return iy(T)?!0:(e.append(mE(b,C,a),m(T)),!1)}const v=[],_=Object.assign(h9,{defaultVisitor:g,convertValue:m,isVisitable:iy});function I(T,C){if(!J.isUndefined(T)){if(v.indexOf(T)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(T),J.forEach(T,function(O,D){(!(J.isUndefined(O)||O===null)&&i.call(e,O,J.isString(D)?D.trim():D,C,_))===!0&&I(O,C?C.concat(D):[D])}),v.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return I(t),e}function gE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Uv(t,e){this._pairs=[],t&&Hf(t,this,e)}const qC=Uv.prototype;qC.append=function(e,n){this._pairs.push([e,n])};qC.toString=function(e){const n=e?function(r){return e.call(this,r,gE)}:gE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function f9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HC(t,e,n){if(!e)return t;const r=n&&n.encode||f9;J.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=J.isURLSearchParams(e)?e.toString():new Uv(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class yE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p9=typeof URLSearchParams<"u"?URLSearchParams:Uv,m9=typeof FormData<"u"?FormData:null,g9=typeof Blob<"u"?Blob:null,y9={isBrowser:!0,classes:{URLSearchParams:p9,FormData:m9,Blob:g9},protocols:["http","https","file","blob","url","data"]},Bv=typeof window<"u"&&typeof document<"u",oy=typeof navigator=="object"&&navigator||void 0,v9=Bv&&(!oy||["ReactNative","NativeScript","NS"].indexOf(oy.product)<0),w9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",x9=Bv&&window.location.href||"http://localhost",_9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bv,hasStandardBrowserEnv:v9,hasStandardBrowserWebWorkerEnv:w9,navigator:oy,origin:x9},Symbol.toStringTag,{value:"Module"})),rn={..._9,...y9};function E9(t,e){return Hf(t,new rn.classes.URLSearchParams,{visitor:function(n,r,i,a){return rn.isNode&&J.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function b9(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T9(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function GC(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=n.length;return l=!l&&J.isArray(i)?i.length:l,h?(J.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!J.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&J.isArray(i[l])&&(i[l]=T9(i[l])),!u)}if(J.isFormData(t)&&J.isFunction(t.entries)){const n={};return J.forEachEntry(t,(r,i)=>{e(b9(r),i,n,0)}),n}return null}function S9(t,e,n){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Iu={transitional:WC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=J.isObject(e);if(a&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(GC(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E9(e,this.formSerializer).toString();if((u=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Hf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),S9(e)):e}],transformResponse:[function(e){const n=this.transitional||Iu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Re.from(u,Re.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{Iu.headers[t]={}});const I9=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),C9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&I9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vE=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function gh(t){return t===!1||t==null?t:J.isArray(t)?t.map(gh):String(t)}function A9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const P9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ng(t,e,n,r,i){if(J.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function k9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function R9(t,e){const n=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(u,h,m){const g=_c(h);if(!g)throw new Error("header name must be a non-empty string");const v=J.findKey(i,g);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||h]=gh(u))}const l=(u,h)=>J.forEach(u,(m,g)=>a(m,g,h));if(J.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(J.isString(e)&&(e=e.trim())&&!P9(e))l(C9(e),n);else if(J.isObject(e)&&J.isIterable(e)){let u={},h,m;for(const g of e){if(!J.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(h=u[m])?J.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=_c(e),e){const r=J.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return A9(i);if(J.isFunction(n))return n.call(this,i,r);if(J.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_c(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ng(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=_c(l),l){const u=J.findKey(r,l);u&&(!n||ng(r,r[u],u,n))&&(delete r[u],i=!0)}}return J.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||ng(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return J.forEach(this,(i,a)=>{const l=J.findKey(r,a);if(l){n[l]=gh(i),delete n[a];return}const u=e?k9(a):String(a).trim();u!==a&&delete n[a],n[u]=gh(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return J.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&J.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vE]=this[vE]={accessors:{}}).accessors,i=this.prototype;function a(l){const u=_c(l);r[u]||(R9(i,l),r[u]=!0)}return J.isArray(e)?e.forEach(a):a(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});J.freezeMethods(In);function rg(t,e){const n=this||Iu,r=e||n,i=In.from(r.headers);let a=r.data;return J.forEach(t,function(u){a=u.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function KC(t){return!!(t&&t.__CANCEL__)}function _l(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}J.inherits(_l,Re,{__CANCEL__:!0});function QC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function N9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function j9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=r[a];l||(l=m),n[i]=h,r[i]=m;let v=a,_=0;for(;v!==i;)_+=n[v++],v=v%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),m-l<e)return;const I=g&&m-g;return I?Math.round(_*1e3/I):void 0}}function D9(t,e){let n=0,r=1e3/e,i,a;const l=(m,g=Date.now())=>{n=g,i=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const g=Date.now(),v=g-n;v>=r?l(m,g):(i=m,a||(a=setTimeout(()=>{a=null,l(i)},r-v)))},()=>i&&l(i)]}const Yh=(t,e,n=3)=>{let r=0;const i=j9(50,250);return D9(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-r,m=i(h),g=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},wE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xE=t=>(...e)=>J.asap(()=>t(...e)),O9=rn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,rn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,M9=rn.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];J.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),J.isString(r)&&l.push("path="+r),J.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function YC(t,e,n){let r=!V9(e);return t&&(r||n==!1)?L9(t,e):e}const _E=t=>t instanceof In?{...t}:t;function Mo(t,e){e=e||{};const n={};function r(m,g,v,_){return J.isPlainObject(m)&&J.isPlainObject(g)?J.merge.call({caseless:_},m,g):J.isPlainObject(g)?J.merge({},g):J.isArray(g)?g.slice():g}function i(m,g,v,_){if(J.isUndefined(g)){if(!J.isUndefined(m))return r(void 0,m,v,_)}else return r(m,g,v,_)}function a(m,g){if(!J.isUndefined(g))return r(void 0,g)}function l(m,g){if(J.isUndefined(g)){if(!J.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function u(m,g,v){if(v in e)return r(m,g);if(v in t)return r(void 0,m)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,v)=>i(_E(m),_E(g),v,!0)};return J.forEach(Object.keys({...t,...e}),function(g){const v=h[g]||i,_=v(t[g],e[g],g);J.isUndefined(_)&&v!==u||(n[g]=_)}),n}const JC=t=>{const e=Mo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=In.from(l),e.url=HC(YC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(J.isFormData(n)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...g]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...g].join("; "))}}if(rn.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&O9(e.url))){const m=i&&a&&M9.read(a);m&&l.set(i,m)}return e},F9=typeof XMLHttpRequest<"u",U9=F9&&function(t){return new Promise(function(n,r){const i=JC(t);let a=i.data;const l=In.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=i,g,v,_,I,T;function C(){I&&I(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function O(){if(!b)return;const M=In.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),Q={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:M,config:t,request:b};QC(function(L){n(L),C()},function(L){r(L),C()},Q),b=null}"onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(O)},b.onabort=function(){b&&(r(new Re("Request aborted",Re.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let G=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||WC;i.timeoutErrorMessage&&(G=i.timeoutErrorMessage),r(new Re(G,Q.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&J.forEach(l.toJSON(),function(G,Q){b.setRequestHeader(Q,G)}),J.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),m&&([_,T]=Yh(m,!0),b.addEventListener("progress",_)),h&&b.upload&&([v,I]=Yh(h),b.upload.addEventListener("progress",v),b.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(g=M=>{b&&(r(!M||M.type?new _l(null,t,b):M),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const D=N9(i.url);if(D&&rn.protocols.indexOf(D)===-1){r(new Re("Unsupported protocol "+D+":",Re.ERR_BAD_REQUEST,t));return}b.send(a||null)})},B9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(m){if(!i){i=!0,u();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Re?g:new _l(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>J.asap(u),h}},z9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},$9=async function*(t,e){for await(const n of q9(t))yield*z9(n,e)},q9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},EE=(t,e,n,r)=>{const i=$9(t,e);let a=0,l,u=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await i.next();if(m){u(),h.close();return}let v=g.byteLength;if(n){let _=a+=v;n(_)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},Wf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XC=Wf&&typeof ReadableStream=="function",H9=Wf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ZC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},W9=XC&&ZC(()=>{let t=!1;const e=new Request(rn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),bE=64*1024,ay=XC&&ZC(()=>J.isReadableStream(new Response("").body)),Jh={stream:ay&&(t=>t.body)};Wf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jh[e]&&(Jh[e]=J.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})})})(new Response);const G9=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(rn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await H9(t)).byteLength},K9=async(t,e)=>{const n=J.toFiniteNumber(t.getContentLength());return n??G9(e)},Q9=Wf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:g,withCredentials:v="same-origin",fetchOptions:_}=JC(t);m=m?(m+"").toLowerCase():"text";let I=B9([i,a&&a.toAbortSignal()],l),T;const C=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let b;try{if(h&&W9&&n!=="get"&&n!=="head"&&(b=await K9(g,r))!==0){let Q=new Request(e,{method:"POST",body:r,duplex:"half"}),re;if(J.isFormData(r)&&(re=Q.headers.get("content-type"))&&g.setContentType(re),Q.body){const[L,k]=wE(b,Yh(xE(h)));r=EE(Q.body,bE,L,k)}}J.isString(v)||(v=v?"include":"omit");const O="credentials"in Request.prototype;T=new Request(e,{..._,signal:I,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:O?v:void 0});let D=await fetch(T,_);const M=ay&&(m==="stream"||m==="response");if(ay&&(u||M&&C)){const Q={};["status","statusText","headers"].forEach(N=>{Q[N]=D[N]});const re=J.toFiniteNumber(D.headers.get("content-length")),[L,k]=u&&wE(re,Yh(xE(u),!0))||[];D=new Response(EE(D.body,bE,L,()=>{k&&k(),C&&C()}),Q)}m=m||"text";let G=await Jh[J.findKey(Jh,m)||"text"](D,t);return!M&&C&&C(),await new Promise((Q,re)=>{QC(Q,re,{data:G,headers:In.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:T})})}catch(O){throw C&&C(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,T),{cause:O.cause||O}):Re.from(O,O&&O.code,t,T)}}),ly={http:u9,xhr:U9,fetch:Q9};J.forEach(ly,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TE=t=>`- ${t}`,Y9=t=>J.isFunction(t)||t===null||t===!1,e2={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!Y9(n)&&(r=ly[(l=String(n)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(TE).join(`
`):" "+TE(a[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:ly};function sg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _l(null,t)}function SE(t){return sg(t),t.headers=In.from(t.headers),t.data=rg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),e2.getAdapter(t.adapter||Iu.adapter)(t).then(function(r){return sg(t),r.data=rg.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return KC(r)||(sg(t),r&&r.response&&(r.response.data=rg.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const t2="1.11.0",Gf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const IE={};Gf.transitional=function(e,n,r){function i(a,l){return"[Axios v"+t2+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new Re(i(l," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!IE[l]&&(IE[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,u):!0}};Gf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function J9(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const u=t[a],h=u===void 0||l(u,a,t);if(h!==!0)throw new Re("option "+a+" must be "+h,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}}const yh={assertOptions:J9,validators:Gf},Fr=yh.validators;let Io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new yE,response:new yE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Mo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&yh.assertOptions(r,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),i!=null&&(J.isFunction(i)?n.paramsSerializer={serialize:i}:yh.assertOptions(i,{encode:Fr.function,serialize:Fr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),yh.assertOptions(n,{baseUrl:Fr.spelling("baseURL"),withXsrfToken:Fr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&J.merge(a.common,a[n.method]);a&&J.forEach(["delete","get","head","post","put","patch","common"],T=>{delete a[T]}),n.headers=In.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let g,v=0,_;if(!h){const T=[SE.bind(this),void 0];for(T.unshift(...u),T.push(...m),_=T.length,g=Promise.resolve(n);v<_;)g=g.then(T[v++],T[v++]);return g}_=u.length;let I=n;for(v=0;v<_;){const T=u[v++],C=u[v++];try{I=T(I)}catch(b){C.call(this,b);break}}try{g=SE.call(this,I)}catch(T){return Promise.reject(T)}for(v=0,_=m.length;v<_;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=Mo(this.defaults,e);const n=YC(e.baseURL,e.url,e.allowAbsoluteUrls);return HC(n,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(n,r){return this.request(Mo(r||{},{method:e,url:n,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,u){return this.request(Mo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Io.prototype[e]=n(),Io.prototype[e+"Form"]=n(!0)});let X9=class n2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new _l(a,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new n2(function(i){e=i}),cancel:e}}};function Z9(t){return function(n){return t.apply(null,n)}}function eB(t){return J.isObject(t)&&t.isAxiosError===!0}const cy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cy).forEach(([t,e])=>{cy[e]=t});function r2(t){const e=new Io(t),n=jC(Io.prototype.request,e);return J.extend(n,Io.prototype,e,{allOwnKeys:!0}),J.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return r2(Mo(t,i))},n}const gt=r2(Iu);gt.Axios=Io;gt.CanceledError=_l;gt.CancelToken=X9;gt.isCancel=KC;gt.VERSION=t2;gt.toFormData=Hf;gt.AxiosError=Re;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=Z9;gt.isAxiosError=eB;gt.mergeConfig=Mo;gt.AxiosHeaders=In;gt.formToJSON=t=>GC(J.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=e2.getAdapter;gt.HttpStatusCode=cy;gt.default=gt;const{Axios:OB,AxiosError:MB,CanceledError:VB,isCancel:LB,CancelToken:FB,VERSION:UB,all:BB,Cancel:zB,isAxiosError:$B,spread:qB,toFormData:HB,AxiosHeaders:WB,HttpStatusCode:GB,formToJSON:KB,getAdapter:QB,mergeConfig:YB}=gt,tB="http://localhost:3001",nB=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState([{id:"1",text:`Hello! I'm MeetMate AI, your personal event planning assistant powered by Sensay AI.

Ask me anything about event planning, networking, or MeetMate!

How can I help you today?`,isUser:!1,timestamp:new Date}]),[i,a]=P.useState(""),[l,u]=P.useState(!1),[h,m]=P.useState([]),g=P.useRef(null),v=()=>{g.current?.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{v()},[n]);const _=async()=>{if(!i.trim())return;const T={id:Date.now().toString(),text:i,isUser:!0,timestamp:new Date};r(C=>[...C,T]),a(""),u(!0);try{const C=await gt.post(`${tB}/api/sensay/ask`,{query:T.text});u(!1);let b="No relevant results found.";C.data&&C.data.answer&&(b=C.data.answer),r(O=>[...O,{id:Date.now().toString(),text:b,isUser:!1,timestamp:new Date}]),m(O=>[...O,{question:T.text,answer:b}])}catch{u(!1),r(b=>[...b,{id:Date.now().toString(),text:"Sorry, there was an error connecting to the GitHub API.",isUser:!1,timestamp:new Date}])}},I=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),_())};return f.jsxs(f.Fragment,{children:[f.jsx(le.button,{className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(59,130,246,0.8)] transition-all duration-300",onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(fn,{mode:"wait",children:t?f.jsx(le.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},children:f.jsx(Oo,{className:"w-6 h-6 text-white mx-auto"})},"close"):f.jsx(le.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},children:f.jsx(al,{className:"w-6 h-6 text-white mx-auto"})},"bot")})}),f.jsx(fn,{children:t&&f.jsxs(le.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:`fixed bottom-24 right-6 z-40 w-96 h-[520px] bg-gradient-to-br from-blue-700/80 via-purple-800/80 to-indigo-900/80 backdrop-blur-2xl rounded-3xl border border-white/30 shadow-2xl flex flex-col\r
            md:w-96 md:h-[520px] md:right-6 md:bottom-24\r
            sm:w-[95vw] sm:h-[60vh] sm:right-2 sm:bottom-2 sm:rounded-2xl sm:border sm:border-white/30 sm:z-50`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/20 bg-gradient-to-r from-blue-600/60 to-purple-700/60 rounded-t-3xl",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:f.jsx(al,{className:"w-5 h-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-white text-lg tracking-wide",children:"MeetMate AI"}),f.jsx("p",{className:"text-xs text-white/70",children:"Online"})]})]}),f.jsx(xi,{className:"w-5 h-5 text-yellow-300 drop-shadow-lg"})]}),f.jsx("div",{className:"px-4 py-1 bg-white/10 text-xs text-white/70 text-right font-medium border-b border-white/10",children:"Powered by Sensay"}),f.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-[350px] custom-scrollbar",children:[n.map(T=>f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${T.isUser?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl shadow-md transition-all ${T.isUser?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/20 text-white/90 backdrop-blur-md border border-white/10"}`,children:[f.jsx("div",{className:"text-sm leading-relaxed whitespace-pre-line break-words",children:T.text}),f.jsx("p",{className:"text-xs opacity-60 mt-1 text-right",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},T.id)),l&&f.jsx(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex justify-start",children:f.jsxs("div",{className:"bg-white/20 backdrop-blur-md text-white p-3 rounded-2xl flex items-center gap-2",children:[f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),f.jsx("span",{className:"text-xs text-white/70",children:"Meetmate AI is typing..."})]})}),f.jsx("div",{ref:g})]}),f.jsx("div",{className:"p-4 border-t border-white/20 bg-gradient-to-t from-indigo-900/30 to-transparent rounded-b-3xl",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:i,onChange:T=>a(T.target.value),onKeyPress:I,placeholder:"Ask me anything...",className:"flex-1 bg-white/20 backdrop-blur-md border border-white/20 rounded-xl px-4 py-2 text-white placeholder-white/60 focus:outline-none focus:border-white/40 shadow-inner"}),f.jsx(le.button,{onClick:_,disabled:!i.trim(),className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center disabled:opacity-50 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:f.jsx(Lv,{className:"w-4 h-4 text-white"})})]})})]})})]})},rB="http://localhost:3001/api",On=gt.create({baseURL:rB,headers:{"Content-Type":"application/json"}});On.interceptors.request.use(async t=>{const e=si.currentUser;if(e){const n=await e.getIdToken();t.headers.Authorization=`Bearer ${n}`}return t},t=>Promise.reject(t));On.interceptors.response.use(t=>t,t=>(t.response?.status===401&&console.error("Unauthorized access"),Promise.reject(t)));class ms{static async createEvent(e){return(await On.post("/api/events",e)).data}static async getEvents(){return(await On.get("/api/events")).data}static async getEvent(e){return(await On.get(`/api/events/${e}`)).data}static async createRSVP(e){return(await On.post("/api/rsvp",e)).data}static async getEventRSVPs(e){return(await On.get(`/api/rsvp/event/${e}`)).data}static async getUserRSVPs(e){return(await On.get(`/api/rsvp/user/${e}`)).data}static async createUser(e){return(await On.post("/api/users",e)).data}static async getUser(e){return(await On.get(`/api/users/${e}`)).data}static async chatWithAI(e){return(await On.post("/api/ai-chat",e)).data}static async getAIRecommendations(e){return(await On.post("/api/ai-recommend",e)).data}static async healthCheck(){return(await On.get("/health")).data}}const sB=()=>WP({mutationFn:t=>ms.getAIRecommendations(t),onSuccess:()=>{at.success("AI recommendations generated!")},onError:t=>{at.error(t.response?.data?.error||"Failed to get recommendations")}}),iB=({className:t="",onRecommendationSelect:e})=>{const[n,r]=P.useState(!1),[i,a]=P.useState([]),[l,u]=P.useState(""),[h,m]=P.useState(""),[g,v]=P.useState({start:"",end:""}),_=sB(),I=()=>{l.trim()&&!i.includes(l.trim())&&(a([...i,l.trim()]),u(""))},T=O=>{a(i.filter(D=>D!==O))},C=async()=>{if(i.length===0)return;const O={interests:i,location:h||void 0,dateRange:g.start&&g.end?{start:new Date(g.start).toISOString(),end:new Date(g.end).toISOString()}:void 0};await _.mutateAsync({preferences:O})},b=O=>{O.key==="Enter"&&I()};return f.jsxs("div",{className:t,children:[f.jsx("button",{onClick:()=>r(!n),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-lg p-4 hover:from-primary/90 hover:to-primary/70 transition-all duration-200 shadow-lg hover:shadow-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:f.jsx(xi,{className:"w-5 h-5"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h3",{className:"font-semibold text-lg",children:"AI Event Recommendations"}),f.jsx("p",{className:"text-sm opacity-90",children:"Get personalized event suggestions"})]})]})}),f.jsx(fn,{children:n&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>r(!1),children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(xi,{className:"w-5 h-5 text-primary"}),f.jsx("h2",{className:"text-lg font-semibold",children:"AI Recommendations"})]}),f.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-muted rounded-md transition-colors",children:f.jsx(Oo,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Interests"}),f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx("input",{type:"text",value:l,onChange:O=>u(O.target.value),onKeyPress:b,placeholder:"Add an interest...",className:"flex-1 px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),f.jsx("button",{onClick:I,className:"px-3 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:f.jsx(Vv,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(O=>f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[O,f.jsx("button",{onClick:()=>T(O),className:"hover:bg-primary/20 rounded-full p-0.5",children:f.jsx(Oo,{className:"w-3 h-3"})})]},O))})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2",children:[f.jsx(Eu,{className:"w-4 h-4 inline mr-1"}),"Location (Optional)"]}),f.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),placeholder:"e.g., San Francisco, CA",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2",children:[f.jsx(Sr,{className:"w-4 h-4 inline mr-1"}),"Date Range (Optional)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("input",{type:"date",value:g.start,onChange:O=>v({...g,start:O.target.value}),className:"px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"}),f.jsx("input",{type:"date",value:g.end,onChange:O=>v({...g,end:O.target.value}),className:"px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),f.jsx("button",{onClick:C,disabled:i.length===0||_.isPending,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_.isPending?f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Generating Recommendations..."]}):f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx(xi,{className:"w-4 h-4"}),"Get Recommendations"]})}),_.data&&f.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded-lg",children:[f.jsx("h4",{className:"font-medium mb-2",children:"AI Response:"}),f.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:_.data.response}),_.data.recommendations&&_.data.recommendations.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"Suggested Events:"}),f.jsx("div",{className:"space-y-2",children:_.data.recommendations.map(O=>f.jsxs("div",{className:"p-2 bg-background rounded border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>e?.(O),children:[f.jsx("h5",{className:"font-medium text-sm",children:O.title}),f.jsx("p",{className:"text-xs text-muted-foreground",children:O.description})]},O.id))})]})]})]})]})})})]})};class oB{syncInProgress=!1;async syncEventsFromBackend(){if(!this.syncInProgress){this.syncInProgress=!0;try{const e=await ms.getEvents();for(const n of e)await It.updateEvent(n.id,n)}catch(e){console.error("Failed to sync events from backend:",e)}finally{this.syncInProgress=!1}}}async createEvent(e){try{const n=await ms.createEvent(e);return await It.updateEvent(n.id,n),n}catch(n){throw console.error("Failed to create event:",n),n}}async createRSVP(e){try{const n=await ms.createRSVP(e);return await It.updateRSVP(n.id,n),n}catch(n){throw console.error("Failed to create RSVP:",n),n}}async createOrUpdateUser(e){try{const n=await ms.createUser(e);return await It.createOrUpdateUser(n.id,n),n}catch(n){throw console.error("Failed to create/update user:",n),n}}async getEventsWithRealtime(e){return await this.syncEventsFromBackend(),It.subscribeToEvents(e)}async getEventRSVPsWithRealtime(e,n){try{const r=await ms.getEventRSVPs(e);for(const i of r)await It.updateRSVP(i.id,i)}catch(r){console.error("Failed to sync RSVPs from backend:",r)}return It.subscribeToEventRSVPs(e,n)}async getUserRSVPsWithRealtime(e,n){try{const r=await ms.getUserRSVPs(e);for(const i of r)await It.updateRSVP(i.id,i)}catch(r){console.error("Failed to sync user RSVPs from backend:",r)}return It.subscribeToUserRSVPs(e,n)}async getUserWithRealtime(e,n){try{const r=await ms.getUser(e);await It.createOrUpdateUser(r.id,r)}catch(r){console.error("Failed to sync user from backend:",r)}return It.subscribeToUser(e,n)}async healthCheck(){const e={backend:!1,firebase:!1};try{await ms.healthCheck(),e.backend=!0}catch(n){console.error("Backend health check failed:",n)}try{await It.subscribeToEvents(()=>{})(),e.firebase=!0}catch(n){console.error("Firebase health check failed:",n)}return e}async fullSync(){console.log("Starting full sync...");try{await this.syncEventsFromBackend(),console.log("Full sync completed")}catch(e){throw console.error("Full sync failed:",e),e}}}const aB=new oB,lB=({className:t=""})=>{const[e,n]=P.useState({backend:!1,firebase:!1}),[r,i]=P.useState(!0);P.useEffect(()=>{const h=async()=>{i(!0);try{const g=await aB.healthCheck();n(g)}catch(g){console.error("Health check failed:",g),n({backend:!1,firebase:!1})}finally{i(!1)}};h();const m=setInterval(h,3e4);return()=>clearInterval(m)},[]);const a=h=>h?"text-green-500":"text-red-500",l=h=>h?f.jsx(Ff,{className:"w-4 h-4"}):f.jsx(Uf,{className:"w-4 h-4"}),u=h=>h?f.jsx(cU,{className:"w-4 h-4"}):f.jsx(lU,{className:"w-4 h-4"});return r?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${t}`,children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),f.jsx("span",{className:"text-muted-foreground",children:"Checking connections..."})]}):f.jsxs("div",{className:`flex items-center gap-4 text-xs ${t}`,children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(rU,{className:"w-3 h-3"}),f.jsx("span",{className:"text-muted-foreground",children:"Backend:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.backend)}`,children:[u(e.backend),l(e.backend)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(HF,{className:"w-3 h-3"}),f.jsx("span",{className:"text-muted-foreground",children:"Firebase:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.firebase)}`,children:[u(e.firebase),l(e.firebase)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-muted-foreground",children:"Real-time:"}),f.jsxs("div",{className:`flex items-center gap-1 ${a(e.backend&&e.firebase)}`,children:[u(e.backend&&e.firebase),l(e.backend&&e.firebase)]})]})]})},cB=({isOpen:t,onClose:e})=>{const[n,r]=P.useState({title:"",description:"",date:"",location:""}),[i,a]=P.useState(!1),{createEvent:l}=RC(),u=async m=>{if(m.preventDefault(),!n.title||!n.description||!n.date||!n.location){at.error("Please fill in all required fields");return}a(!0);try{await l({title:n.title,description:n.description,date:new Date(n.date).toISOString(),location:n.location,createdBy:"current-user"}),at.success("Event created successfully!"),r({title:"",description:"",date:"",location:""}),e()}catch{at.error("Failed to create event. Please try again.")}finally{a(!1)}},h=(m,g)=>{r(v=>({...v,[m]:g}))};return f.jsx(fn,{children:t&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:e,children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg shadow-xl max-w-md w-full",onClick:m=>m.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[f.jsx("h2",{className:"text-lg font-semibold font-heading",children:"Create New Event"}),f.jsx("button",{onClick:e,className:"p-1 hover:bg-muted rounded-md transition-colors",children:f.jsx(Oo,{className:"w-4 h-4"})})]}),f.jsxs("form",{onSubmit:u,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(dE,{className:"w-4 h-4 inline mr-1"}),"Event Title *"]}),f.jsx("input",{type:"text",value:n.title,onChange:m=>h("title",m.target.value),placeholder:"Enter event title",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(dE,{className:"w-4 h-4 inline mr-1"}),"Description *"]}),f.jsx("textarea",{value:n.description,onChange:m=>h("description",m.target.value),placeholder:"Enter event description",rows:3,className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary resize-none font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Sr,{className:"w-4 h-4 inline mr-1"}),"Date & Time *"]}),f.jsx("input",{type:"datetime-local",value:n.date,onChange:m=>h("date",m.target.value),className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 font-heading",children:[f.jsx(Eu,{className:"w-4 h-4 inline mr-1"}),"Location *"]}),f.jsx("input",{type:"text",value:n.location,onChange:m=>h("location",m.target.value),placeholder:"Enter event location",className:"w-full px-3 py-2 bg-background border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary font-body",required:!0})]}),f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-muted text-muted-foreground rounded-md hover:bg-muted/80 transition-colors font-body",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-body",children:i?f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),f.jsx("span",{className:"font-body",children:"Creating..."})]}):f.jsx("span",{className:"font-body",children:"Create Event"})})]})]})]})})})},uB=({className:t=""})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!1),[a,l]=P.useState(!1),{events:u,loading:h,error:m}=RC(),{user:g}=NC(),{rsvps:v,createRSVP:_}=bU(e?.id||""),I=async(D,M)=>{g?.id&&await _({userId:g.id,eventId:D,status:M})},T=D=>v?v.find(M=>M.eventId===D)?.status:null,C=D=>new Date(D).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=D=>{switch(D){case"going":return"bg-green-100 text-green-800 border-green-200";case"maybe":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_going":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},O=D=>{switch(D){case"going":return"Going";case"maybe":return"Maybe";case"not_going":return"Not Going";default:return"RSVP"}};return h?f.jsx("div",{className:`flex items-center justify-center p-8 ${t}`,children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m?f.jsx("div",{className:`text-center p-8 ${t}`,children:f.jsx("p",{className:"text-muted-foreground font-body",children:"Failed to load events. Please try again."})}):f.jsxs("div",{className:`space-y-6 ${t} px-2 sm:px-4 md:px-8`,children:[f.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground font-heading",children:"Events"}),f.jsx("p",{className:"text-muted-foreground font-body",children:"Discover and join amazing events"}),f.jsx(lB,{className:"mt-2"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>i(!r),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 font-body",children:[f.jsx(ru,{className:"w-4 h-4"}),"AI Chat"]}),f.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 font-body",children:[f.jsx(Vv,{className:"w-4 h-4"}),"Create Event"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsx(iB,{onRecommendationSelect:D=>{n(D),l(!1)}}),r&&f.jsx(nB,{})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.jsx(fn,{children:u?.map(D=>f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-card border border-border rounded-lg p-4 sm:p-6 hover:shadow-lg transition-all duration-200",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 font-heading",children:D.title}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 font-body",children:D.description})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Sr,{className:"w-4 h-4"}),f.jsx("span",{className:"font-body",children:C(D.date)})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Eu,{className:"w-4 h-4"}),f.jsx("span",{className:"font-body",children:D.location})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ll,{className:"w-4 h-4 text-muted-foreground"}),f.jsxs("span",{className:"text-sm text-muted-foreground font-body",children:[v?.filter(M=>M.status==="going").length||0," going"]})]}),T(D.id)&&f.jsx("span",{className:`px-2 py-1 rounded-full text-xs border font-body ${b(T(D.id))}`,children:O(T(D.id))})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[f.jsx("button",{onClick:()=>I(D.id,"going"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${T(D.id)==="going"?"bg-green-100 text-green-800":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:"Going"}),f.jsx("button",{onClick:()=>I(D.id,"maybe"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${T(D.id)==="maybe"?"bg-yellow-100 text-yellow-800":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Maybe"}),f.jsx("button",{onClick:()=>I(D.id,"not_going"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors font-body ${T(D.id)==="not_going"?"bg-red-100 text-red-800":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Not Going"})]})]})},D.id))})}),u?.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Sr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-foreground mb-2 font-heading",children:"No events yet"}),f.jsx("p",{className:"text-muted-foreground mb-4 font-body",children:"Be the first to create an event or check back later for new events."}),f.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-body",children:"Create First Event"})]}),f.jsx(cB,{isOpen:a,onClose:()=>l(!1)})]})},dB=()=>{const{user:t}=$o(),{user:e,updateUser:n}=NC();return P.useEffect(()=>{t&&!e&&n({name:t.displayName||"User",email:t.email||"",avatar:t.photoURL||void 0})},[t,e,n]),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx(uB,{})})},hB=()=>{const t=dl(),{signUp:e,signIn:n,signInWithGoogle:r,resetPassword:i}=$o(),[a,l]=P.useState(!1),[u,h]=P.useState(!1),[m,g]=P.useState({email:"",password:"",confirmPassword:"",name:""}),[v,_]=P.useState(!1),I=async C=>{if(C.preventDefault(),h(!0),v&&m.password!==m.confirmPassword){hn.error("Passwords do not match"),h(!1);return}try{v?(await e(m.email,m.password,m.name),hn.success("Account created successfully!")):(await n(m.email,m.password),hn.success("Logged in successfully!")),t("/")}catch(b){const O=b.message||"Authentication failed";hn.error(O),console.error("Auth error:",b)}finally{h(!1)}},T=async()=>{try{h(!0),await r(),hn.success("Signed in with Google successfully!"),t("/")}catch(C){hn.error("Failed to sign in with Google"),console.error("Google sign-in error:",C)}finally{h(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-secondary/20 to-background",children:f.jsxs("div",{className:"w-full max-w-md p-8 bg-background rounded-2xl shadow-lg",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsx(kC,{size:"lg",className:"mb-4"}),f.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Welcome to MeetMate"}),f.jsx("p",{className:"text-muted-foreground",children:"Sign in or create an account to continue"})]}),f.jsxs("form",{onSubmit:I,className:"space-y-6",children:[v&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),f.jsx("input",{id:"name",type:"text",value:m.name,onChange:C=>g({...m,name:C.target.value}),required:!0,className:"w-full px-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx(AC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground"}),f.jsx("input",{id:"email",type:"email",value:m.email,onChange:C=>g({...m,email:C.target.value}),required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your email"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:a?"text":"password",value:m.password,onChange:C=>g({...m,password:C.target.value}),required:!0,className:"w-full pr-10 pl-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?f.jsx(WF,{className:"h-4 w-4"}):f.jsx(GF,{className:"h-4 w-4"})})]})]}),v&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),f.jsx("input",{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:C=>g({...m,confirmPassword:C.target.value}),required:!0,className:"w-full px-4 py-3 bg-secondary/20 border border-border/30 rounded-2xl text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary/50 focus:ring-2 focus:ring-primary/20 transition-all duration-300",placeholder:"Confirm your password"})]}),f.jsx(le.button,{type:"submit",disabled:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-primary to-accent text-white py-4 px-6 rounded-2xl font-medium hover:shadow-lg hover:shadow-primary/25 transition-all duration-300 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:u?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),f.jsx("span",{children:"Processing..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:v?"Create Account":"Sign In"}),f.jsx(VF,{className:"w-5 h-5"})]})})]}),f.jsxs("div",{className:"flex flex-col items-center mt-6",children:[f.jsx("button",{onClick:T,disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-yellow-500 text-white py-3 px-6 rounded-2xl font-medium hover:shadow-lg hover:shadow-red-500/25 transition-all duration-300 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed mb-2",children:f.jsx("span",{children:"Sign in with Google"})}),f.jsx("button",{onClick:()=>_(!v),className:"text-primary hover:text-primary/80 transition-colors duration-300 mt-2",children:v?"Already have an account? Sign in":"Don't have an account? Sign up"})]})]})})},fB=()=>{const t=dl(),[e]=xP(),[n,r]=P.useState("loading"),[i,a]=P.useState("");return P.useEffect(()=>{const l=e.get("token"),u=e.get("provider");l?(localStorage.setItem("matchmaker_bot_token",l),r("success"),a(`Successfully signed in with ${u}!`),setTimeout(()=>{t("/")},2e3)):(r("error"),a("Authentication failed. No token received."))},[e,t]),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-background flex items-center justify-center",children:f.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl p-8 shadow-2xl max-w-md w-full mx-4",children:f.jsxs("div",{className:"text-center space-y-6",children:[n==="loading"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(XF,{className:"w-10 h-10 text-blue-600 animate-spin"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Completing Sign In..."}),f.jsx("p",{className:"text-gray-600",children:"Please wait while we complete your authentication."})]}),n==="success"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(Ff,{className:"w-10 h-10 text-green-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Success!"}),f.jsx("p",{className:"text-gray-600",children:i}),f.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home page..."})]}),n==="error"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:f.jsx(Uf,{className:"w-10 h-10 text-red-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Authentication Failed"}),f.jsx("p",{className:"text-gray-600",children:i}),f.jsx("button",{onClick:()=>t("/auth"),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Try Again"})]})]})})})},pB={name:"",bio:"",location:"",website:"",email:"",linkedin:"",github:""},mB=()=>{const[t,e]=P.useState(pB),[n,r]=P.useState(null),[i,a]=P.useState(null),[l,u]=P.useState(null),[h,m]=P.useState([]),[g,v]=P.useState(""),[_,I]=P.useState(!0);P.useEffect(()=>{const D=localStorage.getItem("userProfile");if(D){const M=JSON.parse(D);r(M),e(M),M.avatar&&a(M.avatar),M.skills&&m(M.skills),I(!1)}},[]);const T=D=>{const M=D.target.files?.[0];if(M){const G=new FileReader;G.onloadend=()=>{const Q=G.result;u(Q),a(Q)},G.readAsDataURL(M)}},C=()=>{g.trim()&&(m(D=>[...D,g.trim()]),v(""))},b=D=>{const{name:M,value:G}=D.target;e(Q=>({...Q,[M]:G}))},O=D=>{D.preventDefault();const M={...t,avatar:i||l,skills:h};localStorage.setItem("userProfile",JSON.stringify(M)),r(M),a(M.avatar||null),I(!1)};return f.jsx("div",{className:"p-6 max-w-lg mx-auto",children:f.jsx(fn,{mode:"wait",children:_?f.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.5},className:"bg-white shadow-2xl rounded-2xl p-6 overflow-y-auto max-h-[80vh] scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-6 text-center",children:"Edit Profile"}),f.jsxs("form",{onSubmit:O,className:"space-y-5 text-black",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("input",{type:"file",accept:"image/*",onChange:T,className:"hidden",id:"avatarUpload"}),f.jsx("label",{htmlFor:"avatarUpload",className:"cursor-pointer w-28 h-28 rounded-full overflow-hidden border-4 border-blue-500 flex items-center justify-center shadow-md hover:shadow-lg transition",children:l||i?f.jsx(le.img,{src:l||i||"",alt:"Avatar",className:"w-full h-full object-cover",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4}},l||i):f.jsx("span",{className:"text-sm text-gray-500",children:"Upload"})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Full Name"}),f.jsx("input",{name:"name",value:t.name,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Bio"}),f.jsx("textarea",{name:"bio",value:t.bio,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Write something about yourself"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Location"}),f.jsx("input",{name:"location",value:t.location,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Where are you from?"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Website"}),f.jsx("input",{name:"website",value:t.website,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Email"}),f.jsx("input",{name:"email",value:t.email,onChange:b,type:"email",className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"LinkedIn"}),f.jsx("input",{name:"linkedin",value:t.linkedin,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://linkedin.com/in/username"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"GitHub"}),f.jsx("input",{name:"github",value:t.github,onChange:b,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Skills"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{value:g,onChange:D=>v(D.target.value),className:"flex-1 border p-3 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Add a skill"}),f.jsx("button",{type:"button",onClick:C,className:"bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700",children:"Add"})]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:h.map((D,M)=>f.jsx(le.span,{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm shadow",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:M*.1},children:D},M))})]}),f.jsx(le.button,{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-semibold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Save Profile"})]})]},"form"):n&&f.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},className:"bg-white shadow-2xl rounded-2xl p-6 text-center",children:[i&&f.jsx(le.img,{src:i,alt:"Profile",className:"w-28 h-28 mx-auto rounded-full object-cover border-4 border-blue-500 shadow-md",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5}}),f.jsx("h2",{className:"text-2xl font-bold mt-4 text-blue-600",children:n.name}),f.jsx("p",{className:"text-gray-600 mt-2",children:n.bio}),f.jsx("p",{className:"text-gray-500 mt-1",children:n.location}),f.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[n.website&&f.jsx(le.a,{href:n.website,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800",title:"Website",whileHover:{scale:1.2},children:f.jsx(QF,{className:"w-6 h-6"})}),n.email&&f.jsx(le.a,{href:`mailto:${n.email}`,className:"text-red-500 hover:text-red-700",title:"Email",whileHover:{scale:1.2},children:f.jsx(AC,{className:"w-6 h-6"})}),n.linkedin&&f.jsx(le.a,{href:n.linkedin,target:"_blank",rel:"noreferrer",className:"text-blue-700 hover:text-blue-900",title:"LinkedIn",whileHover:{scale:1.2},children:f.jsx(JF,{className:"w-6 h-6"})}),n.github&&f.jsx(le.a,{href:n.github,target:"_blank",rel:"noreferrer",className:"text-gray-800 hover:text-black",title:"GitHub",whileHover:{scale:1.2},children:f.jsx(KF,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Skills"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2 justify-center",children:h.map((D,M)=>f.jsx(le.span,{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:M*.1},children:D},M))})]}),f.jsx(le.button,{onClick:()=>I(!0),className:"mt-6 bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-700 font-semibold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Edit Profile"})]},"profile")})})},gB=({match:t,messages:e,onSend:n,onClose:r})=>{const[i,a]=P.useState(""),l=P.useRef(null);P.useEffect(()=>{const h=l.current;h&&(h.scrollTop=h.scrollHeight)},[e]);const u=()=>{const h=i.trim();h&&(n(h),a(""))};return f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed right-4 bottom-4 z-50 w-80 max-w-full",children:f.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden border",children:[f.jsxs("div",{className:"px-4 py-3 flex items-center gap-3 bg-gray-50",children:[f.jsx("img",{src:t.avatar,alt:t.name,className:"w-9 h-9 rounded-lg object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:t.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Message"})]}),f.jsx("button",{onClick:r,className:"text-sm text-muted-foreground",children:"Close"})]}),f.jsxs("div",{ref:l,className:"h-56 overflow-y-auto p-3 space-y-2 bg-white",children:[e.length===0&&f.jsx("div",{className:"text-xs text-muted-foreground",children:"No messages yet — say hi 👋"}),e.map(h=>f.jsx("div",{className:`flex ${h.from==="me"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`${h.from==="me"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-900"} px-3 py-2 rounded-lg max-w-[75%] text-sm`,children:[h.text,f.jsx("div",{className:"text-[10px] opacity-60 mt-1 text-right",children:new Date(h.ts).toLocaleTimeString()})]})},h.id))]}),f.jsxs("div",{className:"px-3 py-2 bg-gray-50 flex gap-2 items-center",children:[f.jsx("input",{value:i,onChange:h=>a(h.target.value),onKeyDown:h=>h.key==="Enter"&&u(),placeholder:"Write a message...",className:"flex-1 input px-3 py-2"}),f.jsx("button",{onClick:u,className:"px-3 py-2 bg-primary text-white rounded-lg",children:"Send"})]})]})})},yB=()=>{const[t]=P.useState([{id:"1",name:"Anna Chen",title:"Product Designer",company:"DeFi Labs",location:"San Francisco, CA",avatar:"https://randomuser.me/api/portraits/women/68.jpg",matchScore:94,skills:["Product Design","UX Research","Figma","DeFi"],interests:["DeFi","Product Design","AI/ML"],goals:["Build meaningful connections","Learn from industry experts"],bio:"Product designer passionate about creating intuitive DeFi experiences. Looking to connect with developers and product managers.",isConnected:!1,isPending:!1},{id:"2",name:"Marcus Rodriguez",title:"Smart Contract Developer",company:"Ethereum Foundation",location:"Berlin, Germany",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",matchScore:87,skills:["Solidity","Ethereum","DeFi Protocols","Rust"],interests:["DeFi","Blockchain","Zero Knowledge"],goals:["Collaborate on DeFi projects","Share knowledge"],bio:"Smart contract developer working on DeFi protocols. Interested in ZK proofs and cross-chain solutions.",isConnected:!1,isPending:!1},{id:"3",name:"Sarah Kim",title:"Growth Marketing Manager",company:"Web3 Startup",location:"Seoul, South Korea",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",matchScore:82,skills:["Growth Marketing","Community Building","Web3","Analytics"],interests:["Web3","Community","Growth"],goals:["Learn about Web3 marketing","Build community"],bio:"Growth marketer focused on Web3 projects. Building communities and driving user acquisition.",isConnected:!1,isPending:!1},{id:"4",name:"David Thompson",title:"AI Research Engineer",company:"AI Research Lab",location:"London, UK",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",matchScore:78,skills:["Machine Learning","Python","AI Research","Neural Networks"],interests:["AI/ML","Research","Innovation"],goals:["Collaborate on AI projects","Share research insights"],bio:"AI researcher working on neural network architectures. Interested in AI applications in Web3.",isConnected:!1,isPending:!1},{id:"5",name:"Emily Carter",title:"Community Lead",company:"DAO Collective",location:"Toronto, Canada",avatar:"https://randomuser.me/api/portraits/women/44.jpg",matchScore:85,skills:["Community Management","DAO Governance","Public Speaking"],interests:["DAO","Community","Web3"],goals:["Grow DAO membership","Host engaging events"],bio:"Community lead for a DAO, passionate about decentralized governance and building strong member engagement.",isConnected:!1,isPending:!1},{id:"6",name:"James Lee",title:"Full Stack Developer",company:"Startup Hub",location:"Singapore",avatar:"https://randomuser.me/api/portraits/men/65.jpg",matchScore:80,skills:["React","Node.js","TypeScript","UI/UX"],interests:["Startups","Tech","Design"],goals:["Build scalable apps","Network with founders"],bio:"Full stack developer building scalable web apps for startups. Interested in design and founder networking.",isConnected:!1,isPending:!1}]),[e,n]=P.useState("all"),[r,i]=P.useState(""),[a,l]=P.useState(()=>{try{const R=localStorage.getItem("connections");return R?JSON.parse(R):{}}catch{return{}}}),[u,h]=P.useState(!1),[m,g]=P.useState(null);P.useEffect(()=>{localStorage.setItem("connections",JSON.stringify(a))},[a]);const v=[{id:"all",label:"All Matches",count:t.length},{id:"high",label:"High Match (90%+)",count:t.filter(R=>R.matchScore>=90).length},{id:"medium",label:"Medium Match (70-89%)",count:t.filter(R=>R.matchScore>=70&&R.matchScore<90).length},{id:"pending",label:"Pending",count:t.filter(R=>a[R.id]==="pending").length}],_=t.filter(R=>{const j=R.name.toLowerCase().includes(r.toLowerCase())||R.title.toLowerCase().includes(r.toLowerCase())||R.company.toLowerCase().includes(r.toLowerCase()),we=e==="all"||e==="high"&&R.matchScore>=90||e==="medium"&&R.matchScore>=70&&R.matchScore<90||e==="pending"&&a[R.id]==="pending";return j&&we}),I=R=>R>=90?"text-green-600 bg-green-100":R>=80?"text-blue-600 bg-blue-100":R>=70?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100",T=R=>{l(j=>{const we={...j,[R]:"default"};return hn.success("Disconnected successfully"),we})},C=R=>{l(we=>({...we,[R]:"connected"}));const j=t.find(we=>we.id===R);hn.success(`You're now connected with ${j?.name??"user"}`)},b=R=>{l(we=>({...we,[R]:"default"}));const j=t.find(we=>we.id===R);hn(`Cancelled request to ${j?.name??"user"}`)},O=R=>{Q(R)},[D,M]=P.useState(null),[G,Q]=P.useState(null),[re,L]=P.useState(()=>{try{const R=localStorage.getItem("chats");return R?JSON.parse(R):{}}catch{return{}}});P.useEffect(()=>{localStorage.setItem("chats",JSON.stringify(re))},[re]);const k=()=>Q(null),N=(R,j)=>{const we={id:String(Date.now()),from:"me",text:j,ts:Date.now()};L(Qe=>{const De=Qe[R]?[...Qe[R],we]:[we];return{...Qe,[R]:De}}),hn.success("Message sent")},U=()=>{m&&(l(R=>({...R,[m.id]:"pending"})),hn.success(`Connection request sent to ${m.name}`),h(!1),g(null))},$=()=>{h(!1),g(null)};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-2 sm:px-4 md:px-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"AI-Powered Matches"}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Discover people who share your interests and goals at this conference"})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"space-y-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx(nU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),f.jsx("input",{type:"text",placeholder:"Search by name, title, or company...",value:r,onChange:R=>i(R.target.value),className:"input pl-10 w-full"})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(R=>f.jsxs("button",{onClick:()=>n(R.id),className:`px-4 py-2 rounded-2xl text-sm font-medium ${e===R.id?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[R.label," (",R.count,")"]},R.id))})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.jsx(fn,{children:_.map((R,j)=>{const we=a[R.id]||"default";return f.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:j*.1},className:"card space-y-4 p-4 sm:p-6",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:R.avatar,alt:R.name,className:"w-12 h-12 rounded-2xl object-cover cursor-pointer",onClick:()=>M(R)}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold cursor-pointer",onClick:()=>M(R),children:R.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:R.title})]})]}),f.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(R.matchScore)}`,children:[R.matchScore,"%"]})]}),f.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:R.bio}),f.jsxs("div",{className:"mt-2 text-sm text-muted-foreground flex items-center gap-3",children:[f.jsx("span",{className:"font-medium",children:R.company}),f.jsx("span",{children:"•"}),f.jsx("span",{children:R.location})]}),f.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:R.skills.slice(0,6).map((Qe,De)=>f.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs",children:Qe},De))}),f.jsxs("div",{className:"mt-3 text-xs text-muted-foreground flex flex-col gap-1",children:[f.jsxs("div",{children:[f.jsx("strong",{className:"text-sm text-foreground",children:"Interests:"})," ",R.interests.join(", ")]}),f.jsxs("div",{children:[f.jsx("strong",{className:"text-sm text-foreground",children:"Goals:"})," ",R.goals.join(" • ")]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:we==="connected"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>O(R),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-indigo-600 text-white hover:bg-indigo-700",children:"Message"}),f.jsx("button",{className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-green-500 text-white",children:"Connected"}),f.jsx("button",{onClick:()=>T(R.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-red-500 text-white hover:bg-red-600",children:"Disconnect"})]}):we==="pending"?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>C(R.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-primary text-white hover:bg-primary/80",children:"Accept"}),f.jsx("button",{onClick:()=>b(R.id),className:"flex-1 rounded-lg py-2 px-4 font-semibold bg-gray-200 text-gray-800",children:"Cancel Request"})]}):f.jsx("button",{"aria-label":`Send connection request to ${R.name}`,title:`Send connection request to ${R.name}`,className:"flex-1 rounded-lg py-2 px-4 font-semibold shadow transition-all duration-200 bg-primary text-white hover:bg-primary/80",onClick:()=>{g(R),h(!0)},children:"Connect"})})]},R.id)})})}),f.jsx(fn,{children:u&&m&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",children:f.jsxs(le.div,{initial:{y:-50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3},className:"bg-gray rounded-xl shadow-xl max-w-sm w-full p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{src:m.avatar,alt:m.name,className:"w-14 h-14 rounded-2xl object-cover"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold",children:m.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:m.title})]})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to send a connection request to ",f.jsx("strong",{children:m.name}),"?"]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[f.jsx(le.button,{whileHover:{scale:1.05,backgroundColor:"#E5E7EB"},whileTap:{scale:.95},onClick:$,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-medium transition",children:"Cancel"}),f.jsx(le.button,{whileHover:{scale:1.05,backgroundColor:"#2563EB"},whileTap:{scale:.95},onClick:U,className:"px-4 py-2 rounded-lg bg-primary text-white font-medium transition",children:"Confirm"})]})]})})}),f.jsx(fn,{children:D&&f.jsxs(le.div,{className:"fixed inset-0 bg-gray bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[f.jsxs(le.div,{initial:{y:-30,opacity:0},animate:{y:0,opacity:1},exit:{y:30,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-lg w-full p-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:D.avatar,alt:D.name,className:"w-20 h-20 rounded-2xl object-cover"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold",children:D.name}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.title," • ",D.company]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:D.location})]})]}),f.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:D.bio}),f.jsxs("div",{className:"mt-4",children:[f.jsx("h4",{className:"text-sm font-semibold",children:"Skills"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.skills.map((R,j)=>f.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:R},j))})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:()=>M(null),className:"px-4 py-2 rounded-lg bg-gray-200",children:"Close"})})]}),G&&f.jsx(gB,{match:{id:G.id,name:G.name,avatar:G.avatar},messages:re[G.id]||[],onSend:R=>N(G.id,R),onClose:k})]})}),f.jsx(Bf,{})]})},vB=()=>{const[t,e]=P.useState(new Date),[n,r]=P.useState(!1),[i,a]=P.useState(()=>{const b=localStorage.getItem("meetings");return b?JSON.parse(b):[{id:"1",title:"Coffee Chat with Anna Chen",type:"coffee",date:"2024-01-15",time:"10:00",duration:30,location:"Conference Center Cafe",attendees:["Anna Chen","You"],status:"scheduled",notes:"Discuss DeFi product design collaboration opportunities"},{id:"2",title:"Video Call with Marcus Rodriguez",type:"video",date:"2024-01-15",time:"14:00",duration:45,location:"Zoom",attendees:["Marcus Rodriguez","You"],status:"scheduled",notes:"Deep dive into smart contract development and DeFi protocols"},{id:"3",title:"Networking Lunch with Sarah Kim",type:"in-person",date:"2024-01-16",time:"12:00",duration:60,location:"Downtown Restaurant",attendees:["Sarah Kim","You"],status:"scheduled",notes:"Discuss Web3 marketing strategies and community building"}]});P.useEffect(()=>{localStorage.setItem("meetings",JSON.stringify(i))},[i]),P.useEffect(()=>{const b=JSON.parse(localStorage.getItem("stats-dashboard")||"{}");b.meetings=i.filter(O=>O.status==="scheduled").length,localStorage.setItem("stats-dashboard",JSON.stringify(b))},[i]);const[l,u]=P.useState({title:"",type:"coffee",date:"",time:"",duration:30,location:"",attendees:[""],notes:""}),h=[{id:"coffee",label:"Coffee Chat",icon:qF,color:"text-orange-600"},{id:"video",label:"Video Call",icon:aU,color:"text-blue-600"},{id:"phone",label:"Phone Call",icon:tU,color:"text-green-600"},{id:"in-person",label:"In-Person",icon:ll,color:"text-purple-600"}],m=()=>{const b=t.getFullYear(),O=t.getMonth(),D=new Date(b,O,1),M=new Date(b,O+1,0),G=[];for(let re=0;re<D.getDay();re++){const L=new Date(b,O,-re);G.unshift({date:L,isCurrentMonth:!1})}for(let re=1;re<=M.getDate();re++)G.push({date:new Date(b,O,re),isCurrentMonth:!0});const Q=42-G.length;for(let re=1;re<=Q;re++)G.push({date:new Date(b,O+1,re),isCurrentMonth:!1});return G},g=b=>{const O=b.toISOString().split("T")[0];return i.filter(D=>D.date===O)},v=()=>{if(!l.title||!l.date||!l.time){hn.error("Please fill in all required fields");return}const b={id:Date.now().toString(),title:l.title,type:l.type,date:l.date,time:l.time,duration:l.duration,location:l.location,attendees:l.attendees.filter(O=>O.trim()),status:"scheduled",notes:l.notes};a(O=>{const D=[...O,b];return localStorage.setItem("meetings",JSON.stringify(D)),D}),r(!1),u({title:"",type:"coffee",date:"",time:"",duration:30,location:"",attendees:[""],notes:""}),hn.success("Meeting scheduled successfully!")},_=b=>{a(O=>{const D=O.map(M=>M.id===b?{...M,status:"cancelled"}:M);return localStorage.setItem("meetings",JSON.stringify(D)),D}),hn.success("Meeting cancelled")},I=b=>{a(O=>{const D=O.map(M=>M.id===b?{...M,status:"completed"}:M);return localStorage.setItem("meetings",JSON.stringify(D)),D}),hn.success("Meeting marked as completed")},T=b=>{const O=h.find(M=>M.id===b);if(!O)return null;const D=O.icon;return f.jsx(D,{className:`h-4 w-4 ${O.color}`})},C=b=>{switch(b){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Sr,{className:"h-8 w-8 text-primary"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Meeting Schedule"})]}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Schedule and manage your conference meetings"})]}),f.jsxs("button",{onClick:()=>r(!0),className:"btn-primary flex items-center space-x-2",children:[f.jsx(Vv,{className:"h-5 w-5"}),f.jsx("span",{children:"Schedule Meeting"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"lg:col-span-2",children:f.jsxs("div",{className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>e(new Date(t.getFullYear(),t.getMonth()-1)),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(BF,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>e(new Date),className:"text-sm text-primary hover:underline",children:"Today"}),f.jsx("button",{onClick:()=>e(new Date(t.getFullYear(),t.getMonth()+1)),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(zF,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(b=>f.jsx("div",{className:"p-2 text-center text-sm font-medium text-muted-foreground",children:b},b)),m().map((b,O)=>{const D=g(b.date),M=b.date.toDateString()===new Date().toDateString(),G=b.date.toDateString()===t.toDateString();return f.jsxs("div",{className:`p-2 min-h-[80px] border rounded-2xl cursor-pointer transition-colors ${M?"bg-primary/10 border-primary":""} ${G?"bg-accent border-accent-foreground":""} ${b.isCurrentMonth?"":"text-muted-foreground/50"}`,onClick:()=>e(b.date),children:[f.jsx("div",{className:"text-sm font-medium mb-1",children:b.date.getDate()}),f.jsxs("div",{className:"space-y-1",children:[D.slice(0,2).map(Q=>f.jsxs("div",{className:"text-xs p-1 rounded-lg bg-primary/20 text-primary truncate",title:Q.title,children:[T(Q.type),f.jsx("span",{className:"ml-1",children:Q.time})]},Q.id)),D.length>2&&f.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+",D.length-2," more"]})]})]},O)})]})]})}),f.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Meetings"}),f.jsx("div",{className:"space-y-3",children:i.filter(b=>b.status==="scheduled").sort((b,O)=>new Date(`${b.date}T${b.time}`).getTime()-new Date(`${O.date}T${O.time}`).getTime()).slice(0,5).map(b=>f.jsxs("div",{className:"card p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[T(b.type),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-foreground text-sm",children:b.title}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.date," at ",b.time]})]})]}),f.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(b.status)}`,children:b.status})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[f.jsx($F,{className:"h-3 w-3"}),f.jsxs("span",{children:[b.duration," min"]}),f.jsx(Eu,{className:"h-3 w-3"}),f.jsx("span",{children:b.location})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>I(b.id),className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-lg hover:bg-green-200",children:"Complete"}),f.jsx("button",{onClick:()=>_(b.id),className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-lg hover:bg-red-200",children:"Cancel"})]})]},b.id))})]})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(xi,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"AI Scheduling Suggestions"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on your profile and match preferences, we recommend scheduling coffee chats during these time slots:"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:["9:00 AM","11:00 AM","2:00 PM","4:00 PM"].map(b=>f.jsx("button",{onClick:()=>{u(O=>({...O,time:b})),r(!0)},className:"btn-secondary text-sm",children:b},b))})]})]})}),n&&f.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center p-4 z-50 bg-gradient-to-br from-blue-900/60 via-purple-900/60 to-black/70 backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(30,64,175,0.6) 0%, rgba(139,92,246,0.6) 50%, rgba(0,0,0,0.7) 100%)",backdropFilter:"blur(8px)"},onClick:()=>r(!1),children:f.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-primary/30 via-accent/20 to-background rounded-3xl p-6 w-full max-w-md space-y-4 shadow-2xl border border-primary/20 overflow-y-auto max-h-[80vh]",onClick:b=>b.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Schedule New Meeting"}),f.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-2xl hover:bg-accent",children:f.jsx(Oo,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Meeting Title"}),f.jsx("input",{type:"text",value:l.title,onChange:b=>u({...l,title:b.target.value}),className:"input mt-1",placeholder:"Coffee chat with..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Meeting Type"}),f.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:h.map(b=>f.jsx("button",{onClick:()=>u({...l,type:b.id}),className:`p-3 rounded-2xl border text-sm font-medium transition-colors ${l.type===b.id?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"}`,children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(b.icon,{className:"h-4 w-4"}),f.jsx("span",{children:b.label})]})},b.id))})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Date"}),f.jsx("input",{type:"date",value:l.date,onChange:b=>u({...l,date:b.target.value}),className:"input mt-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Time"}),f.jsx("input",{type:"time",value:l.time,onChange:b=>u({...l,time:b.target.value}),className:"input mt-1"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Duration (minutes)"}),f.jsxs("select",{value:l.duration,onChange:b=>u({...l,duration:parseInt(b.target.value)}),className:"input mt-1",children:[f.jsx("option",{value:15,children:"15 min"}),f.jsx("option",{value:30,children:"30 min"}),f.jsx("option",{value:45,children:"45 min"}),f.jsx("option",{value:60,children:"1 hour"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Location"}),f.jsx("input",{type:"text",value:l.location,onChange:b=>u({...l,location:b.target.value}),className:"input mt-1",placeholder:"Conference center, cafe, etc."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Notes"}),f.jsx("textarea",{value:l.notes,onChange:b=>u({...l,notes:b.target.value}),className:"input mt-1 min-h-[80px] resize-none",placeholder:"Meeting agenda or notes..."})]})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{onClick:()=>r(!1),className:"btn-secondary flex-1",children:"Cancel"}),f.jsx("button",{onClick:v,className:"btn-primary flex-1",children:"Schedule Meeting"})]})]})}),f.jsx(Bf,{})]})},wB=()=>{const[t,e]=P.useState("week"),[n,r]=P.useState("all"),[i,a]=P.useState(()=>{const T=localStorage.getItem("stats-dashboard");return T?JSON.parse(T):{matches:47,meetings:23,connections:34,responseRate:78}});P.useEffect(()=>{const T=localStorage.getItem("stats-dashboard");T&&a(JSON.parse(T))},[]);const l=[{label:"Total Matches",value:String(i.matches??47),change:"+12%",changeType:"positive",icon:ll},{label:"Scheduled Meetings",value:String(i.meetings??23),change:"+8%",changeType:"positive",icon:Sr},{label:"Active Connections",value:String(i.connections??34),change:"+15%",changeType:"positive",icon:CC},{label:"Response Rate",value:(i.responseRate??78)+"%",change:"+5%",changeType:"positive",icon:ru}],u=[{name:"Mon",matches:8,meetings:4,connections:6},{name:"Tue",matches:12,meetings:7,connections:9},{name:"Wed",matches:15,meetings:9,connections:12},{name:"Thu",matches:10,meetings:6,connections:8},{name:"Fri",matches:6,meetings:3,connections:5},{name:"Sat",matches:4,meetings:2,connections:3},{name:"Sun",matches:2,meetings:1,connections:2}],h=[{name:"Anna Chen",score:94,company:"DeFi Labs",status:"Connected"},{name:"Marcus Rodriguez",score:87,company:"Ethereum Foundation",status:"Meeting Scheduled"},{name:"Sarah Kim",score:82,company:"Web3 Startup",status:"Pending"},{name:"David Thompson",score:78,company:"AI Research Lab",status:"Connected"},{name:"Lisa Wang",score:75,company:"Blockchain Corp",status:"Meeting Scheduled"}],m=[{time:"9:00 AM",activity:"high"},{time:"10:00 AM",activity:"very-high"},{time:"11:00 AM",activity:"medium"},{time:"12:00 PM",activity:"low"},{time:"1:00 PM",activity:"medium"},{time:"2:00 PM",activity:"high"},{time:"3:00 PM",activity:"very-high"},{time:"4:00 PM",activity:"medium"},{time:"5:00 PM",activity:"low"}],g=T=>{switch(T){case"very-high":return"bg-green-500";case"high":return"bg-green-400";case"medium":return"bg-yellow-400";case"low":return"bg-gray-300";default:return"bg-gray-200"}},v=T=>{switch(T){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},_=h.map(T=>({name:T.name,score:T.score,company:T.company,status:T.status})),I=T=>{let C="",b="";{const G=Object.keys(_[0]).join(","),Q=_.map(re=>Object.values(re).map(L=>`"${L}"`).join(",")).join(`
`);C=`${G}
${Q}`,b="user_data.csv"}const O=new Blob([C],{type:"text/csv"}),D=URL.createObjectURL(O),M=document.createElement("a");M.href=D,M.download=b,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(D)};return f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ty,{className:"h-8 w-8 text-primary"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Analytics Dashboard"})]}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Track your networking success and engagement metrics"})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs("select",{value:t,onChange:T=>e(T.target.value),className:"input",children:[f.jsx("option",{value:"week",children:"This Week"}),f.jsx("option",{value:"month",children:"This Month"}),f.jsx("option",{value:"quarter",children:"This Quarter"}),f.jsx("option",{value:"year",children:"This Year"})]}),f.jsxs("button",{onClick:()=>I(),className:"btn-secondary flex items-center space-x-2",children:[f.jsx(uE,{className:"h-4 w-4"}),f.jsx("span",{children:"Export"})]})]})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((T,C)=>{const b=T.icon;return f.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.1+C*.1},className:"card space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-2xl flex items-center justify-center",children:f.jsx(b,{className:"h-6 w-6 text-primary"})}),f.jsx("div",{className:`text-sm font-medium ${v(T.changeType)}`,children:T.change})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-foreground",children:T.value}),f.jsx("div",{className:"text-sm text-muted-foreground",children:T.label})]})]},T.label)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-2",children:f.jsxs("div",{className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Weekly Activity"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>r("matches"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="matches"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Matches"}),f.jsx("button",{onClick:()=>r("meetings"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="meetings"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Meetings"}),f.jsx("button",{onClick:()=>r("connections"),className:`px-3 py-1 rounded-2xl text-sm font-medium transition-colors ${n==="connections"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"Connections"})]})]}),f.jsx("div",{className:"space-y-4",children:u.map(T=>{const C=n==="all"?T.matches+T.meetings+T.connections:T[n],b=Math.max(...u.map(O=>n==="all"?O.matches+O.meetings+O.connections:O[n]));return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"font-medium",children:T.name}),f.jsx("span",{className:"text-muted-foreground",children:C})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-3",children:f.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-300",style:{width:`${C/b*100}%`}})})]},T.name)})})]})}),f.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"space-y-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Top Matches"}),f.jsx("div",{className:"space-y-3",children:h.map((T,C)=>f.jsxs(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4+C*.1},className:"card p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-foreground text-sm",children:T.name}),f.jsx("p",{className:"text-xs text-muted-foreground",children:T.company})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm font-medium text-primary",children:[T.score,"%"]}),f.jsx("div",{className:"text-xs text-muted-foreground",children:T.status})]})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:f.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${T.score}%`}})})]},T.name))})]})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"card space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Engagement Heatmap"}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded"}),f.jsx("span",{children:"Low"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),f.jsx("span",{children:"Medium"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-green-400 rounded"}),f.jsx("span",{children:"High"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),f.jsx("span",{children:"Very High"})]})]})]}),f.jsx("div",{className:"grid grid-cols-9 gap-2",children:m.map((T,C)=>f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground",children:T.time}),f.jsx("div",{className:`w-8 h-8 rounded-lg ${g(T.activity)}`})]},T.time))})]}),f.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx("div",{className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(PC,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"AI Recommendations"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on your engagement patterns, we recommend:"}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsx("li",{children:"• Schedule meetings during 10:00 AM - 11:00 AM (peak activity)"}),f.jsx("li",{children:"• Follow up with matches within 24 hours"}),f.jsx("li",{children:"• Focus on high-match-score connections (90%+)"})]})]})]})}),f.jsx("div",{className:"card bg-gradient-to-r from-secondary/5 to-primary/5 border-secondary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(IC,{className:"h-6 w-6 text-secondary mt-1"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"Performance Goals"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"You're on track to achieve:"}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[f.jsx("li",{children:"• 50+ total matches this week"}),f.jsx("li",{children:"• 30+ scheduled meetings"}),f.jsx("li",{children:"• 80%+ response rate"})]})]})]})})]}),f.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"card bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(xi,{className:"h-6 w-6 text-primary mt-1"}),f.jsxs("div",{className:"space-y-4 flex-1",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-foreground",children:"Quick Actions"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimize your networking strategy with these quick actions"})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(ru,{className:"h-4 w-4 mr-2"}),"Send Follow-ups"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Schedule Meetings"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(ll,{className:"h-4 w-4 mr-2"}),"Find Matches"]}),f.jsxs("button",{className:"btn-secondary text-sm",children:[f.jsx(uE,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})]})}),f.jsx(Bf,{})]})},xB=()=>f.jsxs("div",{className:"p-8 space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-foreground font-heading mb-4",children:"Font Test - Poppins (Heading)"}),f.jsx("p",{className:"text-lg text-muted-foreground font-body",children:"This is Nunito Sans (Body) - A friendly, readable font for body text."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-foreground font-heading",children:"Poppins Font Weights"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-normal text-foreground font-heading",children:"Poppins Regular (400) - Clean and modern"}),f.jsx("p",{className:"text-lg font-semibold text-foreground font-heading",children:"Poppins Semibold (600) - Strong emphasis"}),f.jsx("p",{className:"text-lg font-bold text-foreground font-heading",children:"Poppins Bold (700) - Maximum impact"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-foreground font-heading",children:"Nunito Sans Font Weights"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-normal text-foreground font-body",children:"Nunito Sans Regular (400) - Friendly and readable"}),f.jsx("p",{className:"text-lg font-semibold text-foreground font-body",children:"Nunito Sans Semibold (600) - Gentle emphasis"}),f.jsx("p",{className:"text-lg font-bold text-foreground font-body",children:"Nunito Sans Bold (700) - Clear hierarchy"})]})]})]}),f.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-foreground font-heading mb-4",children:"Sample Content"}),f.jsxs("div",{className:"space-y-3 font-body text-foreground",children:[f.jsx("p",{children:"This is a sample paragraph using Nunito Sans for body text. It's designed to be highly readable and friendly, making it perfect for longer content and user interfaces."}),f.jsx("p",{children:"The combination of Poppins for headings and Nunito Sans for body text creates a modern, approachable design that feels both professional and welcoming."}),f.jsx("p",{children:"This typography pairing works well for applications that need to balance technical functionality with human-centered design principles."})]})]}),f.jsx("div",{className:"text-center",children:f.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-body",children:"Sample Button with Nunito Sans"})})]}),_B=new KE({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}}),La=({children:t})=>{const{user:e,loading:n}=$o();return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(my,{to:"/auth",replace:!0})},CE=({children:t})=>{const{user:e,loading:n}=$o();return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?f.jsx(my,{to:"/",replace:!0}):f.jsx(f.Fragment,{children:t})};function EB(){return f.jsxs(lP,{children:[f.jsx(yr,{path:"/",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(_U,{})})})}),f.jsx(yr,{path:"/events",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(dB,{})})})}),f.jsx(yr,{path:"/auth",element:f.jsx(CE,{children:f.jsx(hB,{})})}),f.jsx(yr,{path:"/auth/callback",element:f.jsx(CE,{children:f.jsx(fB,{})})}),f.jsx(yr,{path:"/profile",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(mB,{})})})}),f.jsx(yr,{path:"/matches",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(yB,{})})})}),f.jsx(yr,{path:"/schedule",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(vB,{})})})}),f.jsx(yr,{path:"/dashboard",element:f.jsx(La,{children:f.jsx(po,{children:f.jsx(wB,{})})})}),f.jsx(yr,{path:"/font-test",element:f.jsx(po,{children:f.jsx(xB,{})})}),f.jsx(yr,{path:"*",element:f.jsx(my,{to:"/",replace:!0})})]})}function bB(){return f.jsx(f.Fragment,{children:f.jsx(YE,{client:_B,children:f.jsxs(yL,{children:[f.jsx(EB,{}),f.jsx(sb,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--background)",color:"var(--foreground)",border:"1px solid var(--border)"}}})]})})})}const TB=P.createContext(void 0),SB=({children:t})=>{const[e,n]=P.useState(null),r=(i,a="info")=>{n({message:i,type:a}),setTimeout(()=>n(null),3e3)};return f.jsxs(TB.Provider,{value:{notify:r},children:[t,e&&f.jsx("div",{style:{position:"fixed",bottom:32,right:32,zIndex:9999,padding:"16px 24px",borderRadius:8,background:e.type==="success"?"#22c55e":e.type==="error"?"#ef4444":"#2563eb",color:"#fff",boxShadow:"0 2px 12px rgba(0,0,0,0.15)",fontWeight:500,fontSize:16,minWidth:200,textAlign:"center",transition:"all 0.3s"},children:e.message})]})},IB=new KE;yA.createRoot(document.getElementById("root")).render(f.jsx(Xh.StrictMode,{children:f.jsx(YE,{client:IB,children:f.jsx(SB,{children:f.jsxs(gP,{future:{v7_relativeSplatPath:!0},children:[f.jsx(bB,{}),f.jsx(sb,{position:"top-right"})]})})})}));
